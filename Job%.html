<!DOCTYPE html>

<html lang="en">
<head><meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Job%</title><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<style type="text/css">
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: var(--jp-cell-editor-active-background) }
.highlight { background: var(--jp-cell-editor-background); color: var(--jp-mirror-editor-variable-color) }
.highlight .c { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment */
.highlight .err { color: var(--jp-mirror-editor-error-color) } /* Error */
.highlight .k { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword */
.highlight .o { color: var(--jp-mirror-editor-operator-color); font-weight: bold } /* Operator */
.highlight .p { color: var(--jp-mirror-editor-punctuation-color) } /* Punctuation */
.highlight .ch { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Multiline */
.highlight .cp { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Single */
.highlight .cs { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Special */
.highlight .kc { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Type */
.highlight .m { color: var(--jp-mirror-editor-number-color) } /* Literal.Number */
.highlight .s { color: var(--jp-mirror-editor-string-color) } /* Literal.String */
.highlight .ow { color: var(--jp-mirror-editor-operator-color); font-weight: bold } /* Operator.Word */
.highlight .pm { color: var(--jp-mirror-editor-punctuation-color) } /* Punctuation.Marker */
.highlight .w { color: var(--jp-mirror-editor-variable-color) } /* Text.Whitespace */
.highlight .mb { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Bin */
.highlight .mf { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Float */
.highlight .mh { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Hex */
.highlight .mi { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Integer */
.highlight .mo { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Oct */
.highlight .sa { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Affix */
.highlight .sb { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Backtick */
.highlight .sc { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Char */
.highlight .dl { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Delimiter */
.highlight .sd { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Doc */
.highlight .s2 { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Double */
.highlight .se { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Escape */
.highlight .sh { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Heredoc */
.highlight .si { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Interpol */
.highlight .sx { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Other */
.highlight .sr { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Regex */
.highlight .s1 { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Single */
.highlight .ss { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Symbol */
.highlight .il { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Integer.Long */
  </style>
<style type="text/css">
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*
 * Mozilla scrollbar styling
 */

/* use standard opaque scrollbars for most nodes */
[data-jp-theme-scrollbars='true'] {
  scrollbar-color: rgb(var(--jp-scrollbar-thumb-color))
    var(--jp-scrollbar-background-color);
}

/* for code nodes, use a transparent style of scrollbar. These selectors
 * will match lower in the tree, and so will override the above */
[data-jp-theme-scrollbars='true'] .CodeMirror-hscrollbar,
[data-jp-theme-scrollbars='true'] .CodeMirror-vscrollbar {
  scrollbar-color: rgba(var(--jp-scrollbar-thumb-color), 0.5) transparent;
}

/* tiny scrollbar */

.jp-scrollbar-tiny {
  scrollbar-color: rgba(var(--jp-scrollbar-thumb-color), 0.5) transparent;
  scrollbar-width: thin;
}

/* tiny scrollbar */

.jp-scrollbar-tiny::-webkit-scrollbar,
.jp-scrollbar-tiny::-webkit-scrollbar-corner {
  background-color: transparent;
  height: 4px;
  width: 4px;
}

.jp-scrollbar-tiny::-webkit-scrollbar-thumb {
  background: rgba(var(--jp-scrollbar-thumb-color), 0.5);
}

.jp-scrollbar-tiny::-webkit-scrollbar-track:horizontal {
  border-left: 0 solid transparent;
  border-right: 0 solid transparent;
}

.jp-scrollbar-tiny::-webkit-scrollbar-track:vertical {
  border-top: 0 solid transparent;
  border-bottom: 0 solid transparent;
}

/*
 * Lumino
 */

.lm-ScrollBar[data-orientation='horizontal'] {
  min-height: 16px;
  max-height: 16px;
  min-width: 45px;
  border-top: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='vertical'] {
  min-width: 16px;
  max-width: 16px;
  min-height: 45px;
  border-left: 1px solid #a0a0a0;
}

.lm-ScrollBar-button {
  background-color: #f0f0f0;
  background-position: center center;
  min-height: 15px;
  max-height: 15px;
  min-width: 15px;
  max-width: 15px;
}

.lm-ScrollBar-button:hover {
  background-color: #dadada;
}

.lm-ScrollBar-button.lm-mod-active {
  background-color: #cdcdcd;
}

.lm-ScrollBar-track {
  background: #f0f0f0;
}

.lm-ScrollBar-thumb {
  background: #cdcdcd;
}

.lm-ScrollBar-thumb:hover {
  background: #bababa;
}

.lm-ScrollBar-thumb.lm-mod-active {
  background: #a0a0a0;
}

.lm-ScrollBar[data-orientation='horizontal'] .lm-ScrollBar-thumb {
  height: 100%;
  min-width: 15px;
  border-left: 1px solid #a0a0a0;
  border-right: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='vertical'] .lm-ScrollBar-thumb {
  width: 100%;
  min-height: 15px;
  border-top: 1px solid #a0a0a0;
  border-bottom: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='horizontal']
  .lm-ScrollBar-button[data-action='decrement'] {
  background-image: var(--jp-icon-caret-left);
  background-size: 17px;
}

.lm-ScrollBar[data-orientation='horizontal']
  .lm-ScrollBar-button[data-action='increment'] {
  background-image: var(--jp-icon-caret-right);
  background-size: 17px;
}

.lm-ScrollBar[data-orientation='vertical']
  .lm-ScrollBar-button[data-action='decrement'] {
  background-image: var(--jp-icon-caret-up);
  background-size: 17px;
}

.lm-ScrollBar[data-orientation='vertical']
  .lm-ScrollBar-button[data-action='increment'] {
  background-image: var(--jp-icon-caret-down);
  background-size: 17px;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-Widget {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
}

.lm-Widget.lm-mod-hidden {
  display: none !important;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.lm-AccordionPanel[data-orientation='horizontal'] > .lm-AccordionPanel-title {
  /* Title is rotated for horizontal accordion panel using CSS */
  display: block;
  transform-origin: top left;
  transform: rotate(-90deg) translate(-100%);
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-CommandPalette {
  display: flex;
  flex-direction: column;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-CommandPalette-search {
  flex: 0 0 auto;
}

.lm-CommandPalette-content {
  flex: 1 1 auto;
  margin: 0;
  padding: 0;
  min-height: 0;
  overflow: auto;
  list-style-type: none;
}

.lm-CommandPalette-header {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.lm-CommandPalette-item {
  display: flex;
  flex-direction: row;
}

.lm-CommandPalette-itemIcon {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemContent {
  flex: 1 1 auto;
  overflow: hidden;
}

.lm-CommandPalette-itemShortcut {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemLabel {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.lm-close-icon {
  border: 1px solid transparent;
  background-color: transparent;
  position: absolute;
  z-index: 1;
  right: 3%;
  top: 0;
  bottom: 0;
  margin: auto;
  padding: 7px 0;
  display: none;
  vertical-align: middle;
  outline: 0;
  cursor: pointer;
}
.lm-close-icon:after {
  content: 'X';
  display: block;
  width: 15px;
  height: 15px;
  text-align: center;
  color: #000;
  font-weight: normal;
  font-size: 12px;
  cursor: pointer;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-DockPanel {
  z-index: 0;
}

.lm-DockPanel-widget {
  z-index: 0;
}

.lm-DockPanel-tabBar {
  z-index: 1;
}

.lm-DockPanel-handle {
  z-index: 2;
}

.lm-DockPanel-handle.lm-mod-hidden {
  display: none !important;
}

.lm-DockPanel-handle:after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: '';
}

.lm-DockPanel-handle[data-orientation='horizontal'] {
  cursor: ew-resize;
}

.lm-DockPanel-handle[data-orientation='vertical'] {
  cursor: ns-resize;
}

.lm-DockPanel-handle[data-orientation='horizontal']:after {
  left: 50%;
  min-width: 8px;
  transform: translateX(-50%);
}

.lm-DockPanel-handle[data-orientation='vertical']:after {
  top: 50%;
  min-height: 8px;
  transform: translateY(-50%);
}

.lm-DockPanel-overlay {
  z-index: 3;
  box-sizing: border-box;
  pointer-events: none;
}

.lm-DockPanel-overlay.lm-mod-hidden {
  display: none !important;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-Menu {
  z-index: 10000;
  position: absolute;
  white-space: nowrap;
  overflow-x: hidden;
  overflow-y: auto;
  outline: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-Menu-content {
  margin: 0;
  padding: 0;
  display: table;
  list-style-type: none;
}

.lm-Menu-item {
  display: table-row;
}

.lm-Menu-item.lm-mod-hidden,
.lm-Menu-item.lm-mod-collapsed {
  display: none !important;
}

.lm-Menu-itemIcon,
.lm-Menu-itemSubmenuIcon {
  display: table-cell;
  text-align: center;
}

.lm-Menu-itemLabel {
  display: table-cell;
  text-align: left;
}

.lm-Menu-itemShortcut {
  display: table-cell;
  text-align: right;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-MenuBar {
  outline: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-MenuBar-content {
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: row;
  list-style-type: none;
}

.lm-MenuBar-item {
  box-sizing: border-box;
}

.lm-MenuBar-itemIcon,
.lm-MenuBar-itemLabel {
  display: inline-block;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-ScrollBar {
  display: flex;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-ScrollBar[data-orientation='horizontal'] {
  flex-direction: row;
}

.lm-ScrollBar[data-orientation='vertical'] {
  flex-direction: column;
}

.lm-ScrollBar-button {
  box-sizing: border-box;
  flex: 0 0 auto;
}

.lm-ScrollBar-track {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  flex: 1 1 auto;
}

.lm-ScrollBar-thumb {
  box-sizing: border-box;
  position: absolute;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-SplitPanel-child {
  z-index: 0;
}

.lm-SplitPanel-handle {
  z-index: 1;
}

.lm-SplitPanel-handle.lm-mod-hidden {
  display: none !important;
}

.lm-SplitPanel-handle:after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: '';
}

.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle {
  cursor: ew-resize;
}

.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle {
  cursor: ns-resize;
}

.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle:after {
  left: 50%;
  min-width: 8px;
  transform: translateX(-50%);
}

.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle:after {
  top: 50%;
  min-height: 8px;
  transform: translateY(-50%);
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-TabBar {
  display: flex;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-TabBar[data-orientation='horizontal'] {
  flex-direction: row;
  align-items: flex-end;
}

.lm-TabBar[data-orientation='vertical'] {
  flex-direction: column;
  align-items: flex-end;
}

.lm-TabBar-content {
  margin: 0;
  padding: 0;
  display: flex;
  flex: 1 1 auto;
  list-style-type: none;
}

.lm-TabBar[data-orientation='horizontal'] > .lm-TabBar-content {
  flex-direction: row;
}

.lm-TabBar[data-orientation='vertical'] > .lm-TabBar-content {
  flex-direction: column;
}

.lm-TabBar-tab {
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
  overflow: hidden;
  touch-action: none; /* Disable native Drag/Drop */
}

.lm-TabBar-tabIcon,
.lm-TabBar-tabCloseIcon {
  flex: 0 0 auto;
}

.lm-TabBar-tabLabel {
  flex: 1 1 auto;
  overflow: hidden;
  white-space: nowrap;
}

.lm-TabBar-tabInput {
  user-select: all;
  width: 100%;
  box-sizing: border-box;
}

.lm-TabBar-tab.lm-mod-hidden {
  display: none !important;
}

.lm-TabBar-addButton.lm-mod-hidden {
  display: none !important;
}

.lm-TabBar.lm-mod-dragging .lm-TabBar-tab {
  position: relative;
}

.lm-TabBar.lm-mod-dragging[data-orientation='horizontal'] .lm-TabBar-tab {
  left: 0;
  transition: left 150ms ease;
}

.lm-TabBar.lm-mod-dragging[data-orientation='vertical'] .lm-TabBar-tab {
  top: 0;
  transition: top 150ms ease;
}

.lm-TabBar.lm-mod-dragging .lm-TabBar-tab.lm-mod-dragging {
  transition: none;
}

.lm-TabBar-tabLabel .lm-TabBar-tabInput {
  user-select: all;
  width: 100%;
  box-sizing: border-box;
  background: inherit;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-TabPanel-tabBar {
  z-index: 1;
}

.lm-TabPanel-stackedPanel {
  z-index: 0;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Collapse {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

.jp-Collapse-header {
  padding: 1px 12px;
  background-color: var(--jp-layout-color1);
  border-bottom: solid var(--jp-border-width) var(--jp-border-color2);
  color: var(--jp-ui-font-color1);
  cursor: pointer;
  display: flex;
  align-items: center;
  font-size: var(--jp-ui-font-size0);
  font-weight: 600;
  text-transform: uppercase;
  user-select: none;
}

.jp-Collapser-icon {
  height: 16px;
}

.jp-Collapse-header-collapsed .jp-Collapser-icon {
  transform: rotate(-90deg);
  margin: auto 0;
}

.jp-Collapser-title {
  line-height: 25px;
}

.jp-Collapse-contents {
  padding: 0 12px;
  background-color: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  overflow: auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/* This file was auto-generated by ensureUiComponents() in @jupyterlab/buildutils */

/**
 * (DEPRECATED) Support for consuming icons as CSS background images
 */

/* Icons urls */

:root {
  --jp-icon-add-above: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzN18xOTQ5MikiPgo8cGF0aCBjbGFzcz0ianAtaWNvbjMiIGQ9Ik00Ljc1IDQuOTMwNjZINi42MjVWNi44MDU2NkM2LjYyNSA3LjAxMTkxIDYuNzkzNzUgNy4xODA2NiA3IDcuMTgwNjZDNy4yMDYyNSA3LjE4MDY2IDcuMzc1IDcuMDExOTEgNy4zNzUgNi44MDU2NlY0LjkzMDY2SDkuMjVDOS40NTYyNSA0LjkzMDY2IDkuNjI1IDQuNzYxOTEgOS42MjUgNC41NTU2NkM5LjYyNSA0LjM0OTQxIDkuNDU2MjUgNC4xODA2NiA5LjI1IDQuMTgwNjZINy4zNzVWMi4zMDU2NkM3LjM3NSAyLjA5OTQxIDcuMjA2MjUgMS45MzA2NiA3IDEuOTMwNjZDNi43OTM3NSAxLjkzMDY2IDYuNjI1IDIuMDk5NDEgNi42MjUgMi4zMDU2NlY0LjE4MDY2SDQuNzVDNC41NDM3NSA0LjE4MDY2IDQuMzc1IDQuMzQ5NDEgNC4zNzUgNC41NTU2NkM0LjM3NSA0Ljc2MTkxIDQuNTQzNzUgNC45MzA2NiA0Ljc1IDQuOTMwNjZaIiBmaWxsPSIjNjE2MTYxIiBzdHJva2U9IiM2MTYxNjEiIHN0cm9rZS13aWR0aD0iMC43Ii8+CjwvZz4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjUgOS41VjExLjVMMi41IDExLjVWOS41TDExLjUgOS41Wk0xMiA4QzEyLjU1MjMgOCAxMyA4LjQ0NzcyIDEzIDlWMTJDMTMgMTIuNTUyMyAxMi41NTIzIDEzIDEyIDEzTDIgMTNDMS40NDc3MiAxMyAxIDEyLjU1MjMgMSAxMlY5QzEgOC40NDc3MiAxLjQ0NzcxIDggMiA4TDEyIDhaIiBmaWxsPSIjNjE2MTYxIi8+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzN18xOTQ5MiI+CjxyZWN0IGNsYXNzPSJqcC1pY29uMyIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDEwIDEuNTU1NjYpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==);
  --jp-icon-add-below: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzN18xOTQ5OCkiPgo8cGF0aCBjbGFzcz0ianAtaWNvbjMiIGQ9Ik05LjI1IDEwLjA2OTNMNy4zNzUgMTAuMDY5M0w3LjM3NSA4LjE5NDM0QzcuMzc1IDcuOTg4MDkgNy4yMDYyNSA3LjgxOTM0IDcgNy44MTkzNEM2Ljc5Mzc1IDcuODE5MzQgNi42MjUgNy45ODgwOSA2LjYyNSA4LjE5NDM0TDYuNjI1IDEwLjA2OTNMNC43NSAxMC4wNjkzQzQuNTQzNzUgMTAuMDY5MyA0LjM3NSAxMC4yMzgxIDQuMzc1IDEwLjQ0NDNDNC4zNzUgMTAuNjUwNiA0LjU0Mzc1IDEwLjgxOTMgNC43NSAxMC44MTkzTDYuNjI1IDEwLjgxOTNMNi42MjUgMTIuNjk0M0M2LjYyNSAxMi45MDA2IDYuNzkzNzUgMTMuMDY5MyA3IDEzLjA2OTNDNy4yMDYyNSAxMy4wNjkzIDcuMzc1IDEyLjkwMDYgNy4zNzUgMTIuNjk0M0w3LjM3NSAxMC44MTkzTDkuMjUgMTAuODE5M0M5LjQ1NjI1IDEwLjgxOTMgOS42MjUgMTAuNjUwNiA5LjYyNSAxMC40NDQzQzkuNjI1IDEwLjIzODEgOS40NTYyNSAxMC4wNjkzIDkuMjUgMTAuMDY5M1oiIGZpbGw9IiM2MTYxNjEiIHN0cm9rZT0iIzYxNjE2MSIgc3Ryb2tlLXdpZHRoPSIwLjciLz4KPC9nPgo8cGF0aCBjbGFzcz0ianAtaWNvbjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMi41IDUuNUwyLjUgMy41TDExLjUgMy41TDExLjUgNS41TDIuNSA1LjVaTTIgN0MxLjQ0NzcyIDcgMSA2LjU1MjI4IDEgNkwxIDNDMSAyLjQ0NzcyIDEuNDQ3NzIgMiAyIDJMMTIgMkMxMi41NTIzIDIgMTMgMi40NDc3MiAxMyAzTDEzIDZDMTMgNi41NTIyOSAxMi41NTIzIDcgMTIgN0wyIDdaIiBmaWxsPSIjNjE2MTYxIi8+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzN18xOTQ5OCI+CjxyZWN0IGNsYXNzPSJqcC1pY29uMyIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0ibWF0cml4KDEgMS43NDg0NmUtMDcgMS43NDg0NmUtMDcgLTEgNCAxMy40NDQzKSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=);
  --jp-icon-add: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE5IDEzaC02djZoLTJ2LTZINXYtMmg2VjVoMnY2aDZ2MnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-bell: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiPgogICA8cGF0aCBjbGFzcz0ianAtaWNvbjIganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMzMzMzMzIgogICAgICBkPSJtOCAwLjI5Yy0xLjQgMC0yLjcgMC43My0zLjYgMS44LTEuMiAxLjUtMS40IDMuNC0xLjUgNS4yLTAuMTggMi4yLTAuNDQgNC0yLjMgNS4zbDAuMjggMS4zaDVjMC4wMjYgMC42NiAwLjMyIDEuMSAwLjcxIDEuNSAwLjg0IDAuNjEgMiAwLjYxIDIuOCAwIDAuNTItMC40IDAuNi0xIDAuNzEtMS41aDVsMC4yOC0xLjNjLTEuOS0wLjk3LTIuMi0zLjMtMi4zLTUuMy0wLjEzLTEuOC0wLjI2LTMuNy0xLjUtNS4yLTAuODUtMS0yLjItMS44LTMuNi0xLjh6bTAgMS40YzAuODggMCAxLjkgMC41NSAyLjUgMS4zIDAuODggMS4xIDEuMSAyLjcgMS4yIDQuNCAwLjEzIDEuNyAwLjIzIDMuNiAxLjMgNS4yaC0xMGMxLjEtMS42IDEuMi0zLjQgMS4zLTUuMiAwLjEzLTEuNyAwLjMtMy4zIDEuMi00LjQgMC41OS0wLjcyIDEuNi0xLjMgMi41LTEuM3ptLTAuNzQgMTJoMS41Yy0wLjAwMTUgMC4yOCAwLjAxNSAwLjc5LTAuNzQgMC43OS0wLjczIDAuMDAxNi0wLjcyLTAuNTMtMC43NC0wLjc5eiIgLz4KPC9zdmc+Cg==);
  --jp-icon-bug-dot: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTcuMTkgOEgyMFYxMEgxNy45MUMxNy45NiAxMC4zMyAxOCAxMC42NiAxOCAxMVYxMkgyMFYxNEgxOC41SDE4VjE0LjAyNzVDMTUuNzUgMTQuMjc2MiAxNCAxNi4xODM3IDE0IDE4LjVDMTQgMTkuMjA4IDE0LjE2MzUgMTkuODc3OSAxNC40NTQ5IDIwLjQ3MzlDMTMuNzA2MyAyMC44MTE3IDEyLjg3NTcgMjEgMTIgMjFDOS43OCAyMSA3Ljg1IDE5Ljc5IDYuODEgMThINFYxNkg2LjA5QzYuMDQgMTUuNjcgNiAxNS4zNCA2IDE1VjE0SDRWMTJINlYxMUM2IDEwLjY2IDYuMDQgMTAuMzMgNi4wOSAxMEg0VjhINi44MUM3LjI2IDcuMjIgNy44OCA2LjU1IDguNjIgNi4wNEw3IDQuNDFMOC40MSAzTDEwLjU5IDUuMTdDMTEuMDQgNS4wNiAxMS41MSA1IDEyIDVDMTIuNDkgNSAxMi45NiA1LjA2IDEzLjQyIDUuMTdMMTUuNTkgM0wxNyA0LjQxTDE1LjM3IDYuMDRDMTYuMTIgNi41NSAxNi43NCA3LjIyIDE3LjE5IDhaTTEwIDE2SDE0VjE0SDEwVjE2Wk0xMCAxMkgxNFYxMEgxMFYxMloiIGZpbGw9IiM2MTYxNjEiLz4KICAgICAgICA8cGF0aCBkPSJNMjIgMTguNUMyMiAyMC40MzMgMjAuNDMzIDIyIDE4LjUgMjJDMTYuNTY3IDIyIDE1IDIwLjQzMyAxNSAxOC41QzE1IDE2LjU2NyAxNi41NjcgMTUgMTguNSAxNUMyMC40MzMgMTUgMjIgMTYuNTY3IDIyIDE4LjVaIiBmaWxsPSIjNjE2MTYxIi8+CiAgICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-bug: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik0yMCA4aC0yLjgxYy0uNDUtLjc4LTEuMDctMS40NS0xLjgyLTEuOTZMMTcgNC40MSAxNS41OSAzbC0yLjE3IDIuMTdDMTIuOTYgNS4wNiAxMi40OSA1IDEyIDVjLS40OSAwLS45Ni4wNi0xLjQxLjE3TDguNDEgMyA3IDQuNDFsMS42MiAxLjYzQzcuODggNi41NSA3LjI2IDcuMjIgNi44MSA4SDR2MmgyLjA5Yy0uMDUuMzMtLjA5LjY2LS4wOSAxdjFINHYyaDJ2MWMwIC4zNC4wNC42Ny4wOSAxSDR2MmgyLjgxYzEuMDQgMS43OSAyLjk3IDMgNS4xOSAzczQuMTUtMS4yMSA1LjE5LTNIMjB2LTJoLTIuMDljLjA1LS4zMy4wOS0uNjYuMDktMXYtMWgydi0yaC0ydi0xYzAtLjM0LS4wNC0uNjctLjA5LTFIMjBWOHptLTYgOGgtNHYtMmg0djJ6bTAtNGgtNHYtMmg0djJ6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-build: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE0LjkgMTcuNDVDMTYuMjUgMTcuNDUgMTcuMzUgMTYuMzUgMTcuMzUgMTVDMTcuMzUgMTMuNjUgMTYuMjUgMTIuNTUgMTQuOSAxMi41NUMxMy41NCAxMi41NSAxMi40NSAxMy42NSAxMi40NSAxNUMxMi40NSAxNi4zNSAxMy41NCAxNy40NSAxNC45IDE3LjQ1Wk0yMC4xIDE1LjY4TDIxLjU4IDE2Ljg0QzIxLjcxIDE2Ljk1IDIxLjc1IDE3LjEzIDIxLjY2IDE3LjI5TDIwLjI2IDE5LjcxQzIwLjE3IDE5Ljg2IDIwIDE5LjkyIDE5LjgzIDE5Ljg2TDE4LjA5IDE5LjE2QzE3LjczIDE5LjQ0IDE3LjMzIDE5LjY3IDE2LjkxIDE5Ljg1TDE2LjY0IDIxLjdDMTYuNjIgMjEuODcgMTYuNDcgMjIgMTYuMyAyMkgxMy41QzEzLjMyIDIyIDEzLjE4IDIxLjg3IDEzLjE1IDIxLjdMMTIuODkgMTkuODVDMTIuNDYgMTkuNjcgMTIuMDcgMTkuNDQgMTEuNzEgMTkuMTZMOS45NjAwMiAxOS44NkM5LjgxMDAyIDE5LjkyIDkuNjIwMDIgMTkuODYgOS41NDAwMiAxOS43MUw4LjE0MDAyIDE3LjI5QzguMDUwMDIgMTcuMTMgOC4wOTAwMiAxNi45NSA4LjIyMDAyIDE2Ljg0TDkuNzAwMDIgMTUuNjhMOS42NTAwMSAxNUw5LjcwMDAyIDE0LjMxTDguMjIwMDIgMTMuMTZDOC4wOTAwMiAxMy4wNSA4LjA1MDAyIDEyLjg2IDguMTQwMDIgMTIuNzFMOS41NDAwMiAxMC4yOUM5LjYyMDAyIDEwLjEzIDkuODEwMDIgMTAuMDcgOS45NjAwMiAxMC4xM0wxMS43MSAxMC44NEMxMi4wNyAxMC41NiAxMi40NiAxMC4zMiAxMi44OSAxMC4xNUwxMy4xNSA4LjI4OTk4QzEzLjE4IDguMTI5OTggMTMuMzIgNy45OTk5OCAxMy41IDcuOTk5OThIMTYuM0MxNi40NyA3Ljk5OTk4IDE2LjYyIDguMTI5OTggMTYuNjQgOC4yODk5OEwxNi45MSAxMC4xNUMxNy4zMyAxMC4zMiAxNy43MyAxMC41NiAxOC4wOSAxMC44NEwxOS44MyAxMC4xM0MyMCAxMC4wNyAyMC4xNyAxMC4xMyAyMC4yNiAxMC4yOUwyMS42NiAxMi43MUMyMS43NSAxMi44NiAyMS43MSAxMy4wNSAyMS41OCAxMy4xNkwyMC4xIDE0LjMxTDIwLjE1IDE1TDIwLjEgMTUuNjhaIi8+CiAgICA8cGF0aCBkPSJNNy4zMjk2NiA3LjQ0NDU0QzguMDgzMSA3LjAwOTU0IDguMzM5MzIgNi4wNTMzMiA3LjkwNDMyIDUuMjk5ODhDNy40NjkzMiA0LjU0NjQzIDYuNTA4MSA0LjI4MTU2IDUuNzU0NjYgNC43MTY1NkM1LjM5MTc2IDQuOTI2MDggNS4xMjY5NSA1LjI3MTE4IDUuMDE4NDkgNS42NzU5NEM0LjkxMDA0IDYuMDgwNzEgNC45NjY4MiA2LjUxMTk4IDUuMTc2MzQgNi44NzQ4OEM1LjYxMTM0IDcuNjI4MzIgNi41NzYyMiA3Ljg3OTU0IDcuMzI5NjYgNy40NDQ1NFpNOS42NTcxOCA0Ljc5NTkzTDEwLjg2NzIgNC45NTE3OUMxMC45NjI4IDQuOTc3NDEgMTEuMDQwMiA1LjA3MTMzIDExLjAzODIgNS4xODc5M0wxMS4wMzg4IDYuOTg4OTNDMTEuMDQ1NSA3LjEwMDU0IDEwLjk2MTYgNy4xOTUxOCAxMC44NTUgNy4yMTA1NEw5LjY2MDAxIDcuMzgwODNMOS4yMzkxNSA4LjEzMTg4TDkuNjY5NjEgOS4yNTc0NUM5LjcwNzI5IDkuMzYyNzEgOS42NjkzNCA5LjQ3Njk5IDkuNTc0MDggOS41MzE5OUw4LjAxNTIzIDEwLjQzMkM3LjkxMTMxIDEwLjQ5MiA3Ljc5MzM3IDEwLjQ2NzcgNy43MjEwNSAxMC4zODI0TDYuOTg3NDggOS40MzE4OEw2LjEwOTMxIDkuNDMwODNMNS4zNDcwNCAxMC4zOTA1QzUuMjg5MDkgMTAuNDcwMiA1LjE3MzgzIDEwLjQ5MDUgNS4wNzE4NyAxMC40MzM5TDMuNTEyNDUgOS41MzI5M0MzLjQxMDQ5IDkuNDc2MzMgMy4zNzY0NyA5LjM1NzQxIDMuNDEwNzUgOS4yNTY3OUwzLjg2MzQ3IDguMTQwOTNMMy42MTc0OSA3Ljc3NDg4TDMuNDIzNDcgNy4zNzg4M0wyLjIzMDc1IDcuMjEyOTdDMi4xMjY0NyA3LjE5MjM1IDIuMDQwNDkgNy4xMDM0MiAyLjA0MjQ1IDYuOTg2ODJMMi4wNDE4NyA1LjE4NTgyQzIuMDQzODMgNS4wNjkyMiAyLjExOTA5IDQuOTc5NTggMi4yMTcwNCA0Ljk2OTIyTDMuNDIwNjUgNC43OTM5M0wzLjg2NzQ5IDQuMDI3ODhMMy40MTEwNSAyLjkxNzMxQzMuMzczMzcgMi44MTIwNCAzLjQxMTMxIDIuNjk3NzYgMy41MTUyMyAyLjYzNzc2TDUuMDc0MDggMS43Mzc3NkM1LjE2OTM0IDEuNjgyNzYgNS4yODcyOSAxLjcwNzA0IDUuMzU5NjEgMS43OTIzMUw2LjExOTE1IDIuNzI3ODhMNi45ODAwMSAyLjczODkzTDcuNzI0OTYgMS43ODkyMkM3Ljc5MTU2IDEuNzA0NTggNy45MTU0OCAxLjY3OTIyIDguMDA4NzkgMS43NDA4Mkw5LjU2ODIxIDIuNjQxODJDOS42NzAxNyAyLjY5ODQyIDkuNzEyODUgMi44MTIzNCA5LjY4NzIzIDIuOTA3OTdMOS4yMTcxOCA0LjAzMzgzTDkuNDYzMTYgNC4zOTk4OEw5LjY1NzE4IDQuNzk1OTNaIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-caret-down-empty-thin: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwb2x5Z29uIGNsYXNzPSJzdDEiIHBvaW50cz0iOS45LDEzLjYgMy42LDcuNCA0LjQsNi42IDkuOSwxMi4yIDE1LjQsNi43IDE2LjEsNy40ICIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-caret-down-empty: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KICAgIDxwYXRoIGQ9Ik01LjIsNS45TDksOS43bDMuOC0zLjhsMS4yLDEuMmwtNC45LDVsLTQuOS01TDUuMiw1Ljl6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-caret-down: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KICAgIDxwYXRoIGQ9Ik01LjIsNy41TDksMTEuMmwzLjgtMy44SDUuMnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-caret-left: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwYXRoIGQ9Ik0xMC44LDEyLjhMNy4xLDlsMy44LTMuOGwwLDcuNkgxMC44eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-caret-right: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KICAgIDxwYXRoIGQ9Ik03LjIsNS4yTDEwLjksOWwtMy44LDMuOFY1LjJINy4yeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-caret-up-empty-thin: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwb2x5Z29uIGNsYXNzPSJzdDEiIHBvaW50cz0iMTUuNCwxMy4zIDkuOSw3LjcgNC40LDEzLjIgMy42LDEyLjUgOS45LDYuMyAxNi4xLDEyLjYgIi8+Cgk8L2c+Cjwvc3ZnPgo=);
  --jp-icon-caret-up: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwYXRoIGQ9Ik01LjIsMTAuNUw5LDYuOGwzLjgsMy44SDUuMnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-case-sensitive: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KICA8ZyBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiM0MTQxNDEiPgogICAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+CiAgPC9nPgogIDxnIGNsYXNzPSJqcC1pY29uLWFjY2VudDIiIGZpbGw9IiNGRkYiPgogICAgPHBhdGggZD0iTTcuNiw4aDAuOWwzLjUsOGgtMS4xTDEwLDE0SDZsLTAuOSwySDRMNy42LDh6IE04LDkuMUw2LjQsMTNoMy4yTDgsOS4xeiIvPgogICAgPHBhdGggZD0iTTE2LjYsOS44Yy0wLjIsMC4xLTAuNCwwLjEtMC43LDAuMWMtMC4yLDAtMC40LTAuMS0wLjYtMC4yYy0wLjEtMC4xLTAuMi0wLjQtMC4yLTAuNyBjLTAuMywwLjMtMC42LDAuNS0wLjksMC43Yy0wLjMsMC4xLTAuNywwLjItMS4xLDAuMmMtMC4zLDAtMC41LDAtMC43LTAuMWMtMC4yLTAuMS0wLjQtMC4yLTAuNi0wLjNjLTAuMi0wLjEtMC4zLTAuMy0wLjQtMC41IGMtMC4xLTAuMi0wLjEtMC40LTAuMS0wLjdjMC0wLjMsMC4xLTAuNiwwLjItMC44YzAuMS0wLjIsMC4zLTAuNCwwLjQtMC41QzEyLDcsMTIuMiw2LjksMTIuNSw2LjhjMC4yLTAuMSwwLjUtMC4xLDAuNy0wLjIgYzAuMy0wLjEsMC41LTAuMSwwLjctMC4xYzAuMiwwLDAuNC0wLjEsMC42LTAuMWMwLjIsMCwwLjMtMC4xLDAuNC0wLjJjMC4xLTAuMSwwLjItMC4yLDAuMi0wLjRjMC0xLTEuMS0xLTEuMy0xIGMtMC40LDAtMS40LDAtMS40LDEuMmgtMC45YzAtMC40LDAuMS0wLjcsMC4yLTFjMC4xLTAuMiwwLjMtMC40LDAuNS0wLjZjMC4yLTAuMiwwLjUtMC4zLDAuOC0wLjNDMTMuMyw0LDEzLjYsNCwxMy45LDQgYzAuMywwLDAuNSwwLDAuOCwwLjFjMC4zLDAsMC41LDAuMSwwLjcsMC4yYzAuMiwwLjEsMC40LDAuMywwLjUsMC41QzE2LDUsMTYsNS4yLDE2LDUuNnYyLjljMCwwLjIsMCwwLjQsMCwwLjUgYzAsMC4xLDAuMSwwLjIsMC4zLDAuMmMwLjEsMCwwLjIsMCwwLjMsMFY5Ljh6IE0xNS4yLDYuOWMtMS4yLDAuNi0zLjEsMC4yLTMuMSwxLjRjMCwxLjQsMy4xLDEsMy4xLTAuNVY2Ljl6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-check: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-circle-empty: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyIDJDNi40NyAyIDIgNi40NyAyIDEyczQuNDcgMTAgMTAgMTAgMTAtNC40NyAxMC0xMFMxNy41MyAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-circle: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjgiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-clear: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8bWFzayBpZD0iZG9udXRIb2xlIj4KICAgIDxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiIC8+CiAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI4IiBmaWxsPSJibGFjayIvPgogIDwvbWFzaz4KCiAgPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxyZWN0IGhlaWdodD0iMTgiIHdpZHRoPSIyIiB4PSIxMSIgeT0iMyIgdHJhbnNmb3JtPSJyb3RhdGUoMzE1LCAxMiwgMTIpIi8+CiAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgbWFzaz0idXJsKCNkb251dEhvbGUpIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-close: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbi1ub25lIGpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlIGpwLWljb24zLWhvdmVyIiBmaWxsPSJub25lIj4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjExIi8+CiAgPC9nPgoKICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIGpwLWljb24tYWNjZW50Mi1ob3ZlciIgZmlsbD0iIzYxNjE2MSI+CiAgICA8cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPgogIDwvZz4KCiAgPGcgY2xhc3M9ImpwLWljb24tbm9uZSBqcC1pY29uLWJ1c3kiIGZpbGw9Im5vbmUiPgogICAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNyIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-code-check: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICA8cGF0aCBkPSJNNi41OSwzLjQxTDIsOEw2LjU5LDEyLjZMOCwxMS4xOEw0LjgyLDhMOCw0LjgyTDYuNTksMy40MU0xMi40MSwzLjQxTDExLDQuODJMMTQuMTgsOEwxMSwxMS4xOEwxMi40MSwxMi42TDE3LDhMMTIuNDEsMy40MU0yMS41OSwxMS41OUwxMy41LDE5LjY4TDkuODMsMTZMOC40MiwxNy40MUwxMy41LDIyLjVMMjMsMTNMMjEuNTksMTEuNTlaIiAvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-code: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyOCAyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CgkJPHBhdGggZD0iTTExLjQgMTguNkw2LjggMTRMMTEuNCA5LjRMMTAgOEw0IDE0TDEwIDIwTDExLjQgMTguNlpNMTYuNiAxOC42TDIxLjIgMTRMMTYuNiA5LjRMMTggOEwyNCAxNEwxOCAyMEwxNi42IDE4LjZWMTguNloiLz4KCTwvZz4KPC9zdmc+Cg==);
  --jp-icon-collapse-all: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTggMmMxIDAgMTEgMCAxMiAwczIgMSAyIDJjMCAxIDAgMTEgMCAxMnMwIDItMiAyQzIwIDE0IDIwIDQgMjAgNFMxMCA0IDYgNGMwLTIgMS0yIDItMnoiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTE4IDhjMC0xLTEtMi0yLTJTNSA2IDQgNnMtMiAxLTIgMmMwIDEgMCAxMSAwIDEyczEgMiAyIDJjMSAwIDExIDAgMTIgMHMyLTEgMi0yYzAtMSAwLTExIDAtMTJ6bS0yIDB2MTJINFY4eiIgLz4KICAgICAgICA8cGF0aCBkPSJNNiAxM3YyaDh2LTJ6IiAvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-console: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwMCAyMDAiPgogIDxnIGNsYXNzPSJqcC1jb25zb2xlLWljb24tYmFja2dyb3VuZC1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiMwMjg4RDEiPgogICAgPHBhdGggZD0iTTIwIDE5LjhoMTYwdjE1OS45SDIweiIvPgogIDwvZz4KICA8ZyBjbGFzcz0ianAtY29uc29sZS1pY29uLWNvbG9yIGpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlIiBmaWxsPSIjZmZmIj4KICAgIDxwYXRoIGQ9Ik0xMDUgMTI3LjNoNDB2MTIuOGgtNDB6TTUxLjEgNzdMNzQgOTkuOWwtMjMuMyAyMy4zIDEwLjUgMTAuNSAyMy4zLTIzLjNMOTUgOTkuOSA4NC41IDg5LjQgNjEuNiA2Ni41eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-copy: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTExLjksMUgzLjJDMi40LDEsMS43LDEuNywxLjcsMi41djEwLjJoMS41VjIuNWg4LjdWMXogTTE0LjEsMy45aC04Yy0wLjgsMC0xLjUsMC43LTEuNSwxLjV2MTAuMmMwLDAuOCwwLjcsMS41LDEuNSwxLjVoOCBjMC44LDAsMS41LTAuNywxLjUtMS41VjUuNEMxNS41LDQuNiwxNC45LDMuOSwxNC4xLDMuOXogTTE0LjEsMTUuNWgtOFY1LjRoOFYxNS41eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-copyright: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCI+CiAgPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik0xMS44OCw5LjE0YzEuMjgsMC4wNiwxLjYxLDEuMTUsMS42MywxLjY2aDEuNzljLTAuMDgtMS45OC0xLjQ5LTMuMTktMy40NS0zLjE5QzkuNjQsNy42MSw4LDksOCwxMi4xNCBjMCwxLjk0LDAuOTMsNC4yNCwzLjg0LDQuMjRjMi4yMiwwLDMuNDEtMS42NSwzLjQ0LTIuOTVoLTEuNzljLTAuMDMsMC41OS0wLjQ1LDEuMzgtMS42MywxLjQ0QzEwLjU1LDE0LjgzLDEwLDEzLjgxLDEwLDEyLjE0IEMxMCw5LjI1LDExLjI4LDkuMTYsMTEuODgsOS4xNHogTTEyLDJDNi40OCwyLDIsNi40OCwyLDEyczQuNDgsMTAsMTAsMTBzMTAtNC40OCwxMC0xMFMxNy41MiwyLDEyLDJ6IE0xMiwyMGMtNC40MSwwLTgtMy41OS04LTggczMuNTktOCw4LThzOCwzLjU5LDgsOFMxNi40MSwyMCwxMiwyMHoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-cut: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTkuNjQgNy42NGMuMjMtLjUuMzYtMS4wNS4zNi0xLjY0IDAtMi4yMS0xLjc5LTQtNC00UzIgMy43OSAyIDZzMS43OSA0IDQgNGMuNTkgMCAxLjE0LS4xMyAxLjY0LS4zNkwxMCAxMmwtMi4zNiAyLjM2QzcuMTQgMTQuMTMgNi41OSAxNCA2IDE0Yy0yLjIxIDAtNCAxLjc5LTQgNHMxLjc5IDQgNCA0IDQtMS43OSA0LTRjMC0uNTktLjEzLTEuMTQtLjM2LTEuNjRMMTIgMTRsNyA3aDN2LTFMOS42NCA3LjY0ek02IDhjLTEuMSAwLTItLjg5LTItMnMuOS0yIDItMiAyIC44OSAyIDItLjkgMi0yIDJ6bTAgMTJjLTEuMSAwLTItLjg5LTItMnMuOS0yIDItMiAyIC44OSAyIDItLjkgMi0yIDJ6bTYtNy41Yy0uMjggMC0uNS0uMjItLjUtLjVzLjIyLS41LjUtLjUuNS4yMi41LjUtLjIyLjUtLjUuNXpNMTkgM2wtNiA2IDIgMiA3LTdWM3oiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-delete: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiAvPgogICAgPHBhdGggY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjI2MjYyIiBkPSJNNiAxOWMwIDEuMS45IDIgMiAyaDhjMS4xIDAgMi0uOSAyLTJWN0g2djEyek0xOSA0aC0zLjVsLTEtMWgtNWwtMSAxSDV2MmgxNFY0eiIgLz4KPC9zdmc+Cg==);
  --jp-icon-download: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE5IDloLTRWM0g5djZINWw3IDcgNy03ek01IDE4djJoMTR2LTJINXoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-duplicate: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIuNzk5OTggMC44NzVIOC44OTU4MkM5LjIwMDYxIDAuODc1IDkuNDQ5OTggMS4xMzkxNCA5LjQ0OTk4IDEuNDYxOThDOS40NDk5OCAxLjc4NDgyIDkuMjAwNjEgMi4wNDg5NiA4Ljg5NTgyIDIuMDQ4OTZIMy4zNTQxNUMzLjA0OTM2IDIuMDQ4OTYgMi43OTk5OCAyLjMxMzEgMi43OTk5OCAyLjYzNTk0VjkuNjc5NjlDMi43OTk5OCAxMC4wMDI1IDIuNTUwNjEgMTAuMjY2NyAyLjI0NTgyIDEwLjI2NjdDMS45NDEwMyAxMC4yNjY3IDEuNjkxNjUgMTAuMDAyNSAxLjY5MTY1IDkuNjc5NjlWMi4wNDg5NkMxLjY5MTY1IDEuNDAzMjggMi4xOTA0IDAuODc1IDIuNzk5OTggMC44NzVaTTUuMzY2NjUgMTEuOVY0LjU1SDExLjA4MzNWMTEuOUg1LjM2NjY1Wk00LjE0MTY1IDQuMTQxNjdDNC4xNDE2NSAzLjY5MDYzIDQuNTA3MjggMy4zMjUgNC45NTgzMiAzLjMyNUgxMS40OTE3QzExLjk0MjcgMy4zMjUgMTIuMzA4MyAzLjY5MDYzIDEyLjMwODMgNC4xNDE2N1YxMi4zMDgzQzEyLjMwODMgMTIuNzU5NCAxMS45NDI3IDEzLjEyNSAxMS40OTE3IDEzLjEyNUg0Ljk1ODMyQzQuNTA3MjggMTMuMTI1IDQuMTQxNjUgMTIuNzU5NCA0LjE0MTY1IDEyLjMwODNWNC4xNDE2N1oiIGZpbGw9IiM2MTYxNjEiLz4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBkPSJNOS40MzU3NCA4LjI2NTA3SDguMzY0MzFWOS4zMzY1QzguMzY0MzEgOS40NTQzNSA4LjI2Nzg4IDkuNTUwNzggOC4xNTAwMiA5LjU1MDc4QzguMDMyMTcgOS41NTA3OCA3LjkzNTc0IDkuNDU0MzUgNy45MzU3NCA5LjMzNjVWOC4yNjUwN0g2Ljg2NDMxQzYuNzQ2NDUgOC4yNjUwNyA2LjY1MDAyIDguMTY4NjQgNi42NTAwMiA4LjA1MDc4QzYuNjUwMDIgNy45MzI5MiA2Ljc0NjQ1IDcuODM2NSA2Ljg2NDMxIDcuODM2NUg3LjkzNTc0VjYuNzY1MDdDNy45MzU3NCA2LjY0NzIxIDguMDMyMTcgNi41NTA3OCA4LjE1MDAyIDYuNTUwNzhDOC4yNjc4OCA2LjU1MDc4IDguMzY0MzEgNi42NDcyMSA4LjM2NDMxIDYuNzY1MDdWNy44MzY1SDkuNDM1NzRDOS41NTM2IDcuODM2NSA5LjY1MDAyIDcuOTMyOTIgOS42NTAwMiA4LjA1MDc4QzkuNjUwMDIgOC4xNjg2NCA5LjU1MzYgOC4yNjUwNyA5LjQzNTc0IDguMjY1MDdaIiBmaWxsPSIjNjE2MTYxIiBzdHJva2U9IiM2MTYxNjEiIHN0cm9rZS13aWR0aD0iMC41Ii8+Cjwvc3ZnPgo=);
  --jp-icon-edit: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTMgMTcuMjVWMjFoMy43NUwxNy44MSA5Ljk0bC0zLjc1LTMuNzVMMyAxNy4yNXpNMjAuNzEgNy4wNGMuMzktLjM5LjM5LTEuMDIgMC0xLjQxbC0yLjM0LTIuMzRjLS4zOS0uMzktMS4wMi0uMzktMS40MSAwbC0xLjgzIDEuODMgMy43NSAzLjc1IDEuODMtMS44M3oiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-ellipses: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPGNpcmNsZSBjeD0iNSIgY3k9IjEyIiByPSIyIi8+CiAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIyIi8+CiAgICA8Y2lyY2xlIGN4PSIxOSIgY3k9IjEyIiByPSIyIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-error: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj48Y2lyY2xlIGN4PSIxMiIgY3k9IjE5IiByPSIyIi8+PHBhdGggZD0iTTEwIDNoNHYxMmgtNHoiLz48L2c+CjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMjR2MjRIMHoiLz4KPC9zdmc+Cg==);
  --jp-icon-expand-all: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTggMmMxIDAgMTEgMCAxMiAwczIgMSAyIDJjMCAxIDAgMTEgMCAxMnMwIDItMiAyQzIwIDE0IDIwIDQgMjAgNFMxMCA0IDYgNGMwLTIgMS0yIDItMnoiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTE4IDhjMC0xLTEtMi0yLTJTNSA2IDQgNnMtMiAxLTIgMmMwIDEgMCAxMSAwIDEyczEgMiAyIDJjMSAwIDExIDAgMTIgMHMyLTEgMi0yYzAtMSAwLTExIDAtMTJ6bS0yIDB2MTJINFY4eiIgLz4KICAgICAgICA8cGF0aCBkPSJNMTEgMTBIOXYzSDZ2MmgzdjNoMnYtM2gzdi0yaC0zeiIgLz4KICAgIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-extension: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTIwLjUgMTFIMTlWN2MwLTEuMS0uOS0yLTItMmgtNFYzLjVDMTMgMi4xMiAxMS44OCAxIDEwLjUgMVM4IDIuMTIgOCAzLjVWNUg0Yy0xLjEgMC0xLjk5LjktMS45OSAydjMuOEgzLjVjMS40OSAwIDIuNyAxLjIxIDIuNyAyLjdzLTEuMjEgMi43LTIuNyAyLjdIMlYyMGMwIDEuMS45IDIgMiAyaDMuOHYtMS41YzAtMS40OSAxLjIxLTIuNyAyLjctMi43IDEuNDkgMCAyLjcgMS4yMSAyLjcgMi43VjIySDE3YzEuMSAwIDItLjkgMi0ydi00aDEuNWMxLjM4IDAgMi41LTEuMTIgMi41LTIuNVMyMS44OCAxMSAyMC41IDExeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-fast-forward: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTQgMThsOC41LTZMNCA2djEyem05LTEydjEybDguNS02TDEzIDZ6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-file-upload: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTkgMTZoNnYtNmg0bC03LTctNyA3aDR6bS00IDJoMTR2Mkg1eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-file: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTkuMyA4LjJsLTUuNS01LjVjLS4zLS4zLS43LS41LTEuMi0uNUgzLjljLS44LjEtMS42LjktMS42IDEuOHYxNC4xYzAgLjkuNyAxLjYgMS42IDEuNmgxNC4yYy45IDAgMS42LS43IDEuNi0xLjZWOS40Yy4xLS41LS4xLS45LS40LTEuMnptLTUuOC0zLjNsMy40IDMuNmgtMy40VjQuOXptMy45IDEyLjdINC43Yy0uMSAwLS4yIDAtLjItLjJWNC43YzAtLjIuMS0uMy4yLS4zaDcuMnY0LjRzMCAuOC4zIDEuMWMuMy4zIDEuMS4zIDEuMS4zaDQuM3Y3LjJzLS4xLjItLjIuMnoiLz4KPC9zdmc+Cg==);
  --jp-icon-filter-dot: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiNGRkYiPgogICAgPHBhdGggZD0iTTE0LDEyVjE5Ljg4QzE0LjA0LDIwLjE4IDEzLjk0LDIwLjUgMTMuNzEsMjAuNzFDMTMuMzIsMjEuMSAxMi42OSwyMS4xIDEyLjMsMjAuNzFMMTAuMjksMTguN0MxMC4wNiwxOC40NyA5Ljk2LDE4LjE2IDEwLDE3Ljg3VjEySDkuOTdMNC4yMSw0LjYyQzMuODcsNC4xOSAzLjk1LDMuNTYgNC4zOCwzLjIyQzQuNTcsMy4wOCA0Ljc4LDMgNSwzVjNIMTlWM0MxOS4yMiwzIDE5LjQzLDMuMDggMTkuNjIsMy4yMkMyMC4wNSwzLjU2IDIwLjEzLDQuMTkgMTkuNzksNC42MkwxNC4wMywxMkgxNFoiIC8+CiAgPC9nPgogIDxnIGNsYXNzPSJqcC1pY29uLWRvdCIgZmlsbD0iI0ZGRiI+CiAgICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjE3IiByPSIzIj48L2NpcmNsZT4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-filter-list: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEwIDE4aDR2LTJoLTR2MnpNMyA2djJoMThWNkgzem0zIDdoMTJ2LTJINnYyeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-filter: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiNGRkYiPgogICAgPHBhdGggZD0iTTE0LDEyVjE5Ljg4QzE0LjA0LDIwLjE4IDEzLjk0LDIwLjUgMTMuNzEsMjAuNzFDMTMuMzIsMjEuMSAxMi42OSwyMS4xIDEyLjMsMjAuNzFMMTAuMjksMTguN0MxMC4wNiwxOC40NyA5Ljk2LDE4LjE2IDEwLDE3Ljg3VjEySDkuOTdMNC4yMSw0LjYyQzMuODcsNC4xOSAzLjk1LDMuNTYgNC4zOCwzLjIyQzQuNTcsMy4wOCA0Ljc4LDMgNSwzVjNIMTlWM0MxOS4yMiwzIDE5LjQzLDMuMDggMTkuNjIsMy4yMkMyMC4wNSwzLjU2IDIwLjEzLDQuMTkgMTkuNzksNC42MkwxNC4wMywxMkgxNFoiIC8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-folder-favorite: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggY2xhc3M9ImpwLWljb24zIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzYxNjE2MSIgZD0iTTIwIDZoLThsLTItMkg0Yy0xLjEgMC0yIC45LTIgMnYxMmMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjhjMC0xLjEtLjktMi0yLTJ6bS0yLjA2IDExTDE1IDE1LjI4IDEyLjA2IDE3bC43OC0zLjMzLTIuNTktMi4yNCAzLjQxLS4yOUwxNSA4bDEuMzQgMy4xNCAzLjQxLjI5LTIuNTkgMi4yNC43OCAzLjMzeiIvPgo8L3N2Zz4K);
  --jp-icon-folder: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTAgNEg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMThjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY4YzAtMS4xLS45LTItMi0yaC04bC0yLTJ6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-home: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGNsYXNzPSJqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiIGQ9Ik0xMCAyMHYtNmg0djZoNXYtOGgzTDEyIDMgMiAxMmgzdjh6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-html5: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDUxMiA1MTIiPgogIDxwYXRoIGNsYXNzPSJqcC1pY29uMCBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiMwMDAiIGQ9Ik0xMDguNCAwaDIzdjIyLjhoMjEuMlYwaDIzdjY5aC0yM1Y0NmgtMjF2MjNoLTIzLjJNMjA2IDIzaC0yMC4zVjBoNjMuN3YyM0gyMjl2NDZoLTIzbTUzLjUtNjloMjQuMWwxNC44IDI0LjNMMzEzLjIgMGgyNC4xdjY5aC0yM1YzNC44bC0xNi4xIDI0LjgtMTYuMS0yNC44VjY5aC0yMi42bTg5LjItNjloMjN2NDYuMmgzMi42VjY5aC01NS42Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI2U0NGQyNiIgZD0iTTEwNy42IDQ3MWwtMzMtMzcwLjRoMzYyLjhsLTMzIDM3MC4yTDI1NS43IDUxMiIvPgogIDxwYXRoIGNsYXNzPSJqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiNmMTY1MjkiIGQ9Ik0yNTYgNDgwLjVWMTMxaDE0OC4zTDM3NiA0NDciLz4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1zZWxlY3RhYmxlLWludmVyc2UiIGZpbGw9IiNlYmViZWIiIGQ9Ik0xNDIgMTc2LjNoMTE0djQ1LjRoLTY0LjJsNC4yIDQ2LjVoNjB2NDUuM0gxNTQuNG0yIDIyLjhIMjAybDMuMiAzNi4zIDUwLjggMTMuNnY0Ny40bC05My4yLTI2Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlIiBmaWxsPSIjZmZmIiBkPSJNMzY5LjYgMTc2LjNIMjU1Ljh2NDUuNGgxMDkuNm0tNC4xIDQ2LjVIMjU1Ljh2NDUuNGg1NmwtNS4zIDU5LTUwLjcgMTMuNnY0Ny4ybDkzLTI1LjgiLz4KPC9zdmc+Cg==);
  --jp-icon-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1icmFuZDQganAtaWNvbi1zZWxlY3RhYmxlLWludmVyc2UiIGZpbGw9IiNGRkYiIGQ9Ik0yLjIgMi4yaDE3LjV2MTcuNUgyLjJ6Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzNGNTFCNSIgZD0iTTIuMiAyLjJ2MTcuNWgxNy41bC4xLTE3LjVIMi4yem0xMi4xIDIuMmMxLjIgMCAyLjIgMSAyLjIgMi4ycy0xIDIuMi0yLjIgMi4yLTIuMi0xLTIuMi0yLjIgMS0yLjIgMi4yLTIuMnpNNC40IDE3LjZsMy4zLTguOCAzLjMgNi42IDIuMi0zLjIgNC40IDUuNEg0LjR6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-info: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDUwLjk3OCA1MC45NzgiPgoJPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj4KCQk8cGF0aCBkPSJNNDMuNTIsNy40NThDMzguNzExLDIuNjQ4LDMyLjMwNywwLDI1LjQ4OSwwQzE4LjY3LDAsMTIuMjY2LDIuNjQ4LDcuNDU4LDcuNDU4CgkJCWMtOS45NDMsOS45NDEtOS45NDMsMjYuMTE5LDAsMzYuMDYyYzQuODA5LDQuODA5LDExLjIxMiw3LjQ1NiwxOC4wMzEsNy40NThjMCwwLDAuMDAxLDAsMC4wMDIsMAoJCQljNi44MTYsMCwxMy4yMjEtMi42NDgsMTguMDI5LTcuNDU4YzQuODA5LTQuODA5LDcuNDU3LTExLjIxMiw3LjQ1Ny0xOC4wM0M1MC45NzcsMTguNjcsNDguMzI4LDEyLjI2Niw0My41Miw3LjQ1OHoKCQkJIE00Mi4xMDYsNDIuMTA1Yy00LjQzMiw0LjQzMS0xMC4zMzIsNi44NzItMTYuNjE1LDYuODcyaC0wLjAwMmMtNi4yODUtMC4wMDEtMTIuMTg3LTIuNDQxLTE2LjYxNy02Ljg3MgoJCQljLTkuMTYyLTkuMTYzLTkuMTYyLTI0LjA3MSwwLTMzLjIzM0MxMy4zMDMsNC40NCwxOS4yMDQsMiwyNS40ODksMmM2LjI4NCwwLDEyLjE4NiwyLjQ0LDE2LjYxNyw2Ljg3MgoJCQljNC40MzEsNC40MzEsNi44NzEsMTAuMzMyLDYuODcxLDE2LjYxN0M0OC45NzcsMzEuNzcyLDQ2LjUzNiwzNy42NzUsNDIuMTA2LDQyLjEwNXoiLz4KCQk8cGF0aCBkPSJNMjMuNTc4LDMyLjIxOGMtMC4wMjMtMS43MzQsMC4xNDMtMy4wNTksMC40OTYtMy45NzJjMC4zNTMtMC45MTMsMS4xMS0xLjk5NywyLjI3Mi0zLjI1MwoJCQljMC40NjgtMC41MzYsMC45MjMtMS4wNjIsMS4zNjctMS41NzVjMC42MjYtMC43NTMsMS4xMDQtMS40NzgsMS40MzYtMi4xNzVjMC4zMzEtMC43MDcsMC40OTUtMS41NDEsMC40OTUtMi41CgkJCWMwLTEuMDk2LTAuMjYtMi4wODgtMC43NzktMi45NzljLTAuNTY1LTAuODc5LTEuNTAxLTEuMzM2LTIuODA2LTEuMzY5Yy0xLjgwMiwwLjA1Ny0yLjk4NSwwLjY2Ny0zLjU1LDEuODMyCgkJCWMtMC4zMDEsMC41MzUtMC41MDMsMS4xNDEtMC42MDcsMS44MTRjLTAuMTM5LDAuNzA3LTAuMjA3LDEuNDMyLTAuMjA3LDIuMTc0aC0yLjkzN2MtMC4wOTEtMi4yMDgsMC40MDctNC4xMTQsMS40OTMtNS43MTkKCQkJYzEuMDYyLTEuNjQsMi44NTUtMi40ODEsNS4zNzgtMi41MjdjMi4xNiwwLjAyMywzLjg3NCwwLjYwOCw1LjE0MSwxLjc1OGMxLjI3OCwxLjE2LDEuOTI5LDIuNzY0LDEuOTUsNC44MTEKCQkJYzAsMS4xNDItMC4xMzcsMi4xMTEtMC40MSwyLjkxMWMtMC4zMDksMC44NDUtMC43MzEsMS41OTMtMS4yNjgsMi4yNDNjLTAuNDkyLDAuNjUtMS4wNjgsMS4zMTgtMS43MywyLjAwMgoJCQljLTAuNjUsMC42OTctMS4zMTMsMS40NzktMS45ODcsMi4zNDZjLTAuMjM5LDAuMzc3LTAuNDI5LDAuNzc3LTAuNTY1LDEuMTk5Yy0wLjE2LDAuOTU5LTAuMjE3LDEuOTUxLTAuMTcxLDIuOTc5CgkJCUMyNi41ODksMzIuMjE4LDIzLjU3OCwzMi4yMTgsMjMuNTc4LDMyLjIxOHogTTIzLjU3OCwzOC4yMnYtMy40ODRoMy4wNzZ2My40ODRIMjMuNTc4eiIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-inspector: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaW5zcGVjdG9yLWljb24tY29sb3IganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMjAgNEg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMThjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY2YzAtMS4xLS45LTItMi0yem0tNSAxNEg0di00aDExdjR6bTAtNUg0VjloMTF2NHptNSA1aC00VjloNHY5eiIvPgo8L3N2Zz4K);
  --jp-icon-json: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtanNvbi1pY29uLWNvbG9yIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI0Y5QTgyNSI+CiAgICA8cGF0aCBkPSJNMjAuMiAxMS44Yy0xLjYgMC0xLjcuNS0xLjcgMSAwIC40LjEuOS4xIDEuMy4xLjUuMS45LjEgMS4zIDAgMS43LTEuNCAyLjMtMy41IDIuM2gtLjl2LTEuOWguNWMxLjEgMCAxLjQgMCAxLjQtLjggMC0uMyAwLS42LS4xLTEgMC0uNC0uMS0uOC0uMS0xLjIgMC0xLjMgMC0xLjggMS4zLTItMS4zLS4yLTEuMy0uNy0xLjMtMiAwLS40LjEtLjguMS0xLjIuMS0uNC4xLS43LjEtMSAwLS44LS40LS43LTEuNC0uOGgtLjVWNC4xaC45YzIuMiAwIDMuNS43IDMuNSAyLjMgMCAuNC0uMS45LS4xIDEuMy0uMS41LS4xLjktLjEgMS4zIDAgLjUuMiAxIDEuNyAxdjEuOHpNMS44IDEwLjFjMS42IDAgMS43LS41IDEuNy0xIDAtLjQtLjEtLjktLjEtMS4zLS4xLS41LS4xLS45LS4xLTEuMyAwLTEuNiAxLjQtMi4zIDMuNS0yLjNoLjl2MS45aC0uNWMtMSAwLTEuNCAwLTEuNC44IDAgLjMgMCAuNi4xIDEgMCAuMi4xLjYuMSAxIDAgMS4zIDAgMS44LTEuMyAyQzYgMTEuMiA2IDExLjcgNiAxM2MwIC40LS4xLjgtLjEgMS4yLS4xLjMtLjEuNy0uMSAxIDAgLjguMy44IDEuNC44aC41djEuOWgtLjljLTIuMSAwLTMuNS0uNi0zLjUtMi4zIDAtLjQuMS0uOS4xLTEuMy4xLS41LjEtLjkuMS0xLjMgMC0uNS0uMi0xLTEuNy0xdi0xLjl6Ii8+CiAgICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjEzLjgiIHI9IjIuMSIvPgogICAgPGNpcmNsZSBjeD0iMTEiIGN5PSI4LjIiIHI9IjIuMSIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-julia: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDMyNSAzMDAiPgogIDxnIGNsYXNzPSJqcC1icmFuZDAganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjY2IzYzMzIj4KICAgIDxwYXRoIGQ9Ik0gMTUwLjg5ODQzOCAyMjUgQyAxNTAuODk4NDM4IDI2Ni40MjE4NzUgMTE3LjMyMDMxMiAzMDAgNzUuODk4NDM4IDMwMCBDIDM0LjQ3NjU2MiAzMDAgMC44OTg0MzggMjY2LjQyMTg3NSAwLjg5ODQzOCAyMjUgQyAwLjg5ODQzOCAxODMuNTc4MTI1IDM0LjQ3NjU2MiAxNTAgNzUuODk4NDM4IDE1MCBDIDExNy4zMjAzMTIgMTUwIDE1MC44OTg0MzggMTgzLjU3ODEyNSAxNTAuODk4NDM4IDIyNSIvPgogIDwvZz4KICA8ZyBjbGFzcz0ianAtYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzM4OTgyNiI+CiAgICA8cGF0aCBkPSJNIDIzNy41IDc1IEMgMjM3LjUgMTE2LjQyMTg3NSAyMDMuOTIxODc1IDE1MCAxNjIuNSAxNTAgQyAxMjEuMDc4MTI1IDE1MCA4Ny41IDExNi40MjE4NzUgODcuNSA3NSBDIDg3LjUgMzMuNTc4MTI1IDEyMS4wNzgxMjUgMCAxNjIuNSAwIEMgMjAzLjkyMTg3NSAwIDIzNy41IDMzLjU3ODEyNSAyMzcuNSA3NSIvPgogIDwvZz4KICA8ZyBjbGFzcz0ianAtYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzk1NThiMiI+CiAgICA8cGF0aCBkPSJNIDMyNC4xMDE1NjIgMjI1IEMgMzI0LjEwMTU2MiAyNjYuNDIxODc1IDI5MC41MjM0MzggMzAwIDI0OS4xMDE1NjIgMzAwIEMgMjA3LjY3OTY4OCAzMDAgMTc0LjEwMTU2MiAyNjYuNDIxODc1IDE3NC4xMDE1NjIgMjI1IEMgMTc0LjEwMTU2MiAxODMuNTc4MTI1IDIwNy42Nzk2ODggMTUwIDI0OS4xMDE1NjIgMTUwIEMgMjkwLjUyMzQzOCAxNTAgMzI0LjEwMTU2MiAxODMuNTc4MTI1IDMyNC4xMDE1NjIgMjI1Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-jupyter-favicon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUyIiBoZWlnaHQ9IjE2NSIgdmlld0JveD0iMCAwIDE1MiAxNjUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgPGcgY2xhc3M9ImpwLWp1cHl0ZXItaWNvbi1jb2xvciIgZmlsbD0iI0YzNzcyNiI+CiAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjA3ODk0NywgMTEwLjU4MjkyNykiIGQ9Ik03NS45NDIyODQyLDI5LjU4MDQ1NjEgQzQzLjMwMjM5NDcsMjkuNTgwNDU2MSAxNC43OTY3ODMyLDE3LjY1MzQ2MzQgMCwwIEM1LjUxMDgzMjExLDE1Ljg0MDY4MjkgMTUuNzgxNTM4OSwyOS41NjY3NzMyIDI5LjM5MDQ5NDcsMzkuMjc4NDE3MSBDNDIuOTk5Nyw0OC45ODk4NTM3IDU5LjI3MzcsNTQuMjA2NzgwNSA3NS45NjA1Nzg5LDU0LjIwNjc4MDUgQzkyLjY0NzQ1NzksNTQuMjA2NzgwNSAxMDguOTIxNDU4LDQ4Ljk4OTg1MzcgMTIyLjUzMDY2MywzOS4yNzg0MTcxIEMxMzYuMTM5NDUzLDI5LjU2Njc3MzIgMTQ2LjQxMDI4NCwxNS44NDA2ODI5IDE1MS45MjExNTgsMCBDMTM3LjA4Nzg2OCwxNy42NTM0NjM0IDEwOC41ODI1ODksMjkuNTgwNDU2MSA3NS45NDIyODQyLDI5LjU4MDQ1NjEgTDc1Ljk0MjI4NDIsMjkuNTgwNDU2MSBaIiAvPgogICAgPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMzczNjgsIDAuNzA0ODc4KSIgZD0iTTc1Ljk3ODQ1NzksMjQuNjI2NDA3MyBDMTA4LjYxODc2MywyNC42MjY0MDczIDEzNy4xMjQ0NTgsMzYuNTUzNDQxNSAxNTEuOTIxMTU4LDU0LjIwNjc4MDUgQzE0Ni40MTAyODQsMzguMzY2MjIyIDEzNi4xMzk0NTMsMjQuNjQwMTMxNyAxMjIuNTMwNjYzLDE0LjkyODQ4NzggQzEwOC45MjE0NTgsNS4yMTY4NDM5IDkyLjY0NzQ1NzksMCA3NS45NjA1Nzg5LDAgQzU5LjI3MzcsMCA0Mi45OTk3LDUuMjE2ODQzOSAyOS4zOTA0OTQ3LDE0LjkyODQ4NzggQzE1Ljc4MTUzODksMjQuNjQwMTMxNyA1LjUxMDgzMjExLDM4LjM2NjIyMiAwLDU0LjIwNjc4MDUgQzE0LjgzMzA4MTYsMzYuNTg5OTI5MyA0My4zMzg1Njg0LDI0LjYyNjQwNzMgNzUuOTc4NDU3OSwyNC42MjY0MDczIEw3NS45Nzg0NTc5LDI0LjYyNjQwNzMgWiIgLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-jupyter: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkiIGhlaWdodD0iNTEiIHZpZXdCb3g9IjAgMCAzOSA1MSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTYzOCAtMjI4MSkiPgogICAgIDxnIGNsYXNzPSJqcC1qdXB5dGVyLWljb24tY29sb3IiIGZpbGw9IiNGMzc3MjYiPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjM5Ljc0IDIzMTEuOTgpIiBkPSJNIDE4LjI2NDYgNy4xMzQxMUMgMTAuNDE0NSA3LjEzNDExIDMuNTU4NzIgNC4yNTc2IDAgMEMgMS4zMjUzOSAzLjgyMDQgMy43OTU1NiA3LjEzMDgxIDcuMDY4NiA5LjQ3MzAzQyAxMC4zNDE3IDExLjgxNTIgMTQuMjU1NyAxMy4wNzM0IDE4LjI2OSAxMy4wNzM0QyAyMi4yODIzIDEzLjA3MzQgMjYuMTk2MyAxMS44MTUyIDI5LjQ2OTQgOS40NzMwM0MgMzIuNzQyNCA3LjEzMDgxIDM1LjIxMjYgMy44MjA0IDM2LjUzOCAwQyAzMi45NzA1IDQuMjU3NiAyNi4xMTQ4IDcuMTM0MTEgMTguMjY0NiA3LjEzNDExWiIvPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjM5LjczIDIyODUuNDgpIiBkPSJNIDE4LjI3MzMgNS45MzkzMUMgMjYuMTIzNSA1LjkzOTMxIDMyLjk3OTMgOC44MTU4MyAzNi41MzggMTMuMDczNEMgMzUuMjEyNiA5LjI1MzAzIDMyLjc0MjQgNS45NDI2MiAyOS40Njk0IDMuNjAwNEMgMjYuMTk2MyAxLjI1ODE4IDIyLjI4MjMgMCAxOC4yNjkgMEMgMTQuMjU1NyAwIDEwLjM0MTcgMS4yNTgxOCA3LjA2ODYgMy42MDA0QyAzLjc5NTU2IDUuOTQyNjIgMS4zMjUzOSA5LjI1MzAzIDAgMTMuMDczNEMgMy41Njc0NSA4LjgyNDYzIDEwLjQyMzIgNS45MzkzMSAxOC4yNzMzIDUuOTM5MzFaIi8+CiAgICA8L2c+CiAgICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjY5LjMgMjI4MS4zMSkiIGQ9Ik0gNS44OTM1MyAyLjg0NEMgNS45MTg4OSAzLjQzMTY1IDUuNzcwODUgNC4wMTM2NyA1LjQ2ODE1IDQuNTE2NDVDIDUuMTY1NDUgNS4wMTkyMiA0LjcyMTY4IDUuNDIwMTUgNC4xOTI5OSA1LjY2ODUxQyAzLjY2NDMgNS45MTY4OCAzLjA3NDQ0IDYuMDAxNTEgMi40OTgwNSA1LjkxMTcxQyAxLjkyMTY2IDUuODIxOSAxLjM4NDYzIDUuNTYxNyAwLjk1NDg5OCA1LjE2NDAxQyAwLjUyNTE3IDQuNzY2MzMgMC4yMjIwNTYgNC4yNDkwMyAwLjA4MzkwMzcgMy42Nzc1N0MgLTAuMDU0MjQ4MyAzLjEwNjExIC0wLjAyMTIzIDIuNTA2MTcgMC4xNzg3ODEgMS45NTM2NEMgMC4zNzg3OTMgMS40MDExIDAuNzM2ODA5IDAuOTIwODE3IDEuMjA3NTQgMC41NzM1MzhDIDEuNjc4MjYgMC4yMjYyNTkgMi4yNDA1NSAwLjAyNzU5MTkgMi44MjMyNiAwLjAwMjY3MjI5QyAzLjYwMzg5IC0wLjAzMDcxMTUgNC4zNjU3MyAwLjI0OTc4OSA0Ljk0MTQyIDAuNzgyNTUxQyA1LjUxNzExIDEuMzE1MzEgNS44NTk1NiAyLjA1Njc2IDUuODkzNTMgMi44NDRaIi8+CiAgICAgIDxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MzkuOCAyMzIzLjgxKSIgZD0iTSA3LjQyNzg5IDMuNTgzMzhDIDcuNDYwMDggNC4zMjQzIDcuMjczNTUgNS4wNTgxOSA2Ljg5MTkzIDUuNjkyMTNDIDYuNTEwMzEgNi4zMjYwNyA1Ljk1MDc1IDYuODMxNTYgNS4yODQxMSA3LjE0NDZDIDQuNjE3NDcgNy40NTc2MyAzLjg3MzcxIDcuNTY0MTQgMy4xNDcwMiA3LjQ1MDYzQyAyLjQyMDMyIDcuMzM3MTIgMS43NDMzNiA3LjAwODcgMS4yMDE4NCA2LjUwNjk1QyAwLjY2MDMyOCA2LjAwNTIgMC4yNzg2MSA1LjM1MjY4IDAuMTA1MDE3IDQuNjMyMDJDIC0wLjA2ODU3NTcgMy45MTEzNSAtMC4wMjYyMzYxIDMuMTU0OTQgMC4yMjY2NzUgMi40NTg1NkMgMC40Nzk1ODcgMS43NjIxNyAwLjkzMTY5NyAxLjE1NzEzIDEuNTI1NzYgMC43MjAwMzNDIDIuMTE5ODMgMC4yODI5MzUgMi44MjkxNCAwLjAzMzQzOTUgMy41NjM4OSAwLjAwMzEzMzQ0QyA0LjU0NjY3IC0wLjAzNzQwMzMgNS41MDUyOSAwLjMxNjcwNiA2LjIyOTYxIDAuOTg3ODM1QyA2Ljk1MzkzIDEuNjU4OTYgNy4zODQ4NCAyLjU5MjM1IDcuNDI3ODkgMy41ODMzOEwgNy40Mjc4OSAzLjU4MzM4WiIvPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjM4LjM2IDIyODYuMDYpIiBkPSJNIDIuMjc0NzEgNC4zOTYyOUMgMS44NDM2MyA0LjQxNTA4IDEuNDE2NzEgNC4zMDQ0NSAxLjA0Nzk5IDQuMDc4NDNDIDAuNjc5MjY4IDMuODUyNCAwLjM4NTMyOCAzLjUyMTE0IDAuMjAzMzcxIDMuMTI2NTZDIDAuMDIxNDEzNiAyLjczMTk4IC0wLjA0MDM3OTggMi4yOTE4MyAwLjAyNTgxMTYgMS44NjE4MUMgMC4wOTIwMDMxIDEuNDMxOCAwLjI4MzIwNCAxLjAzMTI2IDAuNTc1MjEzIDAuNzEwODgzQyAwLjg2NzIyMiAwLjM5MDUxIDEuMjQ2OTEgMC4xNjQ3MDggMS42NjYyMiAwLjA2MjA1OTJDIDIuMDg1NTMgLTAuMDQwNTg5NyAyLjUyNTYxIC0wLjAxNTQ3MTQgMi45MzA3NiAwLjEzNDIzNUMgMy4zMzU5MSAwLjI4Mzk0MSAzLjY4NzkyIDAuNTUxNTA1IDMuOTQyMjIgMC45MDMwNkMgNC4xOTY1MiAxLjI1NDYyIDQuMzQxNjkgMS42NzQzNiA0LjM1OTM1IDIuMTA5MTZDIDQuMzgyOTkgMi42OTEwNyA0LjE3Njc4IDMuMjU4NjkgMy43ODU5NyAzLjY4NzQ2QyAzLjM5NTE2IDQuMTE2MjQgMi44NTE2NiA0LjM3MTE2IDIuMjc0NzEgNC4zOTYyOUwgMi4yNzQ3MSA0LjM5NjI5WiIvPgogICAgPC9nPgogIDwvZz4+Cjwvc3ZnPgo=);
  --jp-icon-jupyterlab-wordmark: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIHZpZXdCb3g9IjAgMCAxODYwLjggNDc1Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiM0RTRFNEUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4MC4xMzY0MDEsIDY0LjI3MTQ5MykiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDU4Ljg3NTU2NikiPgogICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjA4NzYwMywgMC4xNDAyOTQpIj4KICAgICAgICA8cGF0aCBkPSJNLTQyNi45LDE2OS44YzAsNDguNy0zLjcsNjQuNy0xMy42LDc2LjRjLTEwLjgsMTAtMjUsMTUuNS0zOS43LDE1LjVsMy43LDI5IGMyMi44LDAuMyw0NC44LTcuOSw2MS45LTIzLjFjMTcuOC0xOC41LDI0LTQ0LjEsMjQtODMuM1YwSC00Mjd2MTcwLjFMLTQyNi45LDE2OS44TC00MjYuOSwxNjkuOHoiLz4KICAgICAgPC9nPgogICAgPC9nPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU1LjA0NTI5NiwgNTYuODM3MTA0KSI+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEuNTYyNDUzLCAxLjc5OTg0MikiPgogICAgICAgIDxwYXRoIGQ9Ik0tMzEyLDE0OGMwLDIxLDAsMzkuNSwxLjcsNTUuNGgtMzEuOGwtMi4xLTMzLjNoLTAuOGMtNi43LDExLjYtMTYuNCwyMS4zLTI4LDI3LjkgYy0xMS42LDYuNi0yNC44LDEwLTM4LjIsOS44Yy0zMS40LDAtNjktMTcuNy02OS04OVYwaDM2LjR2MTEyLjdjMCwzOC43LDExLjYsNjQuNyw0NC42LDY0LjdjMTAuMy0wLjIsMjAuNC0zLjUsMjguOS05LjQgYzguNS01LjksMTUuMS0xNC4zLDE4LjktMjMuOWMyLjItNi4xLDMuMy0xMi41LDMuMy0xOC45VjAuMmgzNi40VjE0OEgtMzEyTC0zMTIsMTQ4eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTAuMDEzMzIyLCA1My40Nzk2MzgpIj4KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS43MDY0NTgsIDAuMjMxNDI1KSI+CiAgICAgICAgPHBhdGggZD0iTS00NzguNiw3MS40YzAtMjYtMC44LTQ3LTEuNy02Ni43aDMyLjdsMS43LDM0LjhoMC44YzcuMS0xMi41LDE3LjUtMjIuOCwzMC4xLTI5LjcgYzEyLjUtNywyNi43LTEwLjMsNDEtOS44YzQ4LjMsMCw4NC43LDQxLjcsODQuNywxMDMuM2MwLDczLjEtNDMuNywxMDkuMi05MSwxMDkuMmMtMTIuMSwwLjUtMjQuMi0yLjItMzUtNy44IGMtMTAuOC01LjYtMTkuOS0xMy45LTI2LjYtMjQuMmgtMC44VjI5MWgtMzZ2LTIyMEwtNDc4LjYsNzEuNEwtNDc4LjYsNzEuNHogTS00NDIuNiwxMjUuNmMwLjEsNS4xLDAuNiwxMC4xLDEuNywxNS4xIGMzLDEyLjMsOS45LDIzLjMsMTkuOCwzMS4xYzkuOSw3LjgsMjIuMSwxMi4xLDM0LjcsMTIuMWMzOC41LDAsNjAuNy0zMS45LDYwLjctNzguNWMwLTQwLjctMjEuMS03NS42LTU5LjUtNzUuNiBjLTEyLjksMC40LTI1LjMsNS4xLTM1LjMsMTMuNGMtOS45LDguMy0xNi45LDE5LjctMTkuNiwzMi40Yy0xLjUsNC45LTIuMywxMC0yLjUsMTUuMVYxMjUuNkwtNDQyLjYsMTI1LjZMLTQ0Mi42LDEyNS42eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDYuNzQwNzI2LCA1Ni44MzcxMDQpIj4KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC43NTEyMjYsIDEuOTg5Mjk5KSI+CiAgICAgICAgPHBhdGggZD0iTS00NDAuOCwwbDQzLjcsMTIwLjFjNC41LDEzLjQsOS41LDI5LjQsMTIuOCw0MS43aDAuOGMzLjctMTIuMiw3LjktMjcuNywxMi44LTQyLjQgbDM5LjctMTE5LjJoMzguNUwtMzQ2LjksMTQ1Yy0yNiw2OS43LTQzLjcsMTA1LjQtNjguNiwxMjcuMmMtMTIuNSwxMS43LTI3LjksMjAtNDQuNiwyMy45bC05LjEtMzEuMSBjMTEuNy0zLjksMjIuNS0xMC4xLDMxLjgtMTguMWMxMy4yLTExLjEsMjMuNy0yNS4yLDMwLjYtNDEuMmMxLjUtMi44LDIuNS01LjcsMi45LTguOGMtMC4zLTMuMy0xLjItNi42LTIuNS05LjdMLTQ4MC4yLDAuMSBoMzkuN0wtNDQwLjgsMEwtNDQwLjgsMHoiLz4KICAgICAgPC9nPgogICAgPC9nPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODIyLjc0ODEwNCwgMC4wMDAwMDApIj4KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS40NjQwNTAsIDAuMzc4OTE0KSI+CiAgICAgICAgPHBhdGggZD0iTS00MTMuNywwdjU4LjNoNTJ2MjguMmgtNTJWMTk2YzAsMjUsNywzOS41LDI3LjMsMzkuNWM3LjEsMC4xLDE0LjItMC43LDIxLjEtMi41IGwxLjcsMjcuN2MtMTAuMywzLjctMjEuMyw1LjQtMzIuMiw1Yy03LjMsMC40LTE0LjYtMC43LTIxLjMtMy40Yy02LjgtMi43LTEyLjktNi44LTE3LjktMTIuMWMtMTAuMy0xMC45LTE0LjEtMjktMTQuMS01Mi45IFY4Ni41aC0zMVY1OC4zaDMxVjkuNkwtNDEzLjcsMEwtNDEzLjcsMHoiLz4KICAgICAgPC9nPgogICAgPC9nPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTc0LjQzMzI4NiwgNTMuNDc5NjM4KSI+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuOTkwMDM0LCAwLjYxMDMzOSkiPgogICAgICAgIDxwYXRoIGQ9Ik0tNDQ1LjgsMTEzYzAuOCw1MCwzMi4yLDcwLjYsNjguNiw3MC42YzE5LDAuNiwzNy45LTMsNTUuMy0xMC41bDYuMiwyNi40IGMtMjAuOSw4LjktNDMuNSwxMy4xLTY2LjIsMTIuNmMtNjEuNSwwLTk4LjMtNDEuMi05OC4zLTEwMi41Qy00ODAuMiw0OC4yLTQ0NC43LDAtMzg2LjUsMGM2NS4yLDAsODIuNyw1OC4zLDgyLjcsOTUuNyBjLTAuMSw1LjgtMC41LDExLjUtMS4yLDE3LjJoLTE0MC42SC00NDUuOEwtNDQ1LjgsMTEzeiBNLTMzOS4yLDg2LjZjMC40LTIzLjUtOS41LTYwLjEtNTAuNC02MC4xIGMtMzYuOCwwLTUyLjgsMzQuNC01NS43LDYwLjFILTMzOS4yTC0zMzkuMiw4Ni42TC0zMzkuMiw4Ni42eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjAxLjk2MTA1OCwgNTMuNDc5NjM4KSI+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEuMTc5NjQwLCAwLjcwNTA2OCkiPgogICAgICAgIDxwYXRoIGQ9Ik0tNDc4LjYsNjhjMC0yMy45LTAuNC00NC41LTEuNy02My40aDMxLjhsMS4yLDM5LjloMS43YzkuMS0yNy4zLDMxLTQ0LjUsNTUuMy00NC41IGMzLjUtMC4xLDcsMC40LDEwLjMsMS4ydjM0LjhjLTQuMS0wLjktOC4yLTEuMy0xMi40LTEuMmMtMjUuNiwwLTQzLjcsMTkuNy00OC43LDQ3LjRjLTEsNS43LTEuNiwxMS41LTEuNywxNy4ydjEwOC4zaC0zNlY2OCBMLTQ3OC42LDY4eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgoKICA8ZyBjbGFzcz0ianAtaWNvbi13YXJuMCIgZmlsbD0iI0YzNzcyNiI+CiAgICA8cGF0aCBkPSJNMTM1Mi4zLDMyNi4yaDM3VjI4aC0zN1YzMjYuMnogTTE2MDQuOCwzMjYuMmMtMi41LTEzLjktMy40LTMxLjEtMy40LTQ4Ljd2LTc2IGMwLTQwLjctMTUuMS04My4xLTc3LjMtODMuMWMtMjUuNiwwLTUwLDcuMS02Ni44LDE4LjFsOC40LDI0LjRjMTQuMy05LjIsMzQtMTUuMSw1My0xNS4xYzQxLjYsMCw0Ni4yLDMwLjIsNDYuMiw0N3Y0LjIgYy03OC42LTAuNC0xMjIuMywyNi41LTEyMi4zLDc1LjZjMCwyOS40LDIxLDU4LjQsNjIuMiw1OC40YzI5LDAsNTAuOS0xNC4zLDYyLjItMzAuMmgxLjNsMi45LDI1LjZIMTYwNC44eiBNMTU2NS43LDI1Ny43IGMwLDMuOC0wLjgsOC0yLjEsMTEuOGMtNS45LDE3LjItMjIuNywzNC00OS4yLDM0Yy0xOC45LDAtMzQuOS0xMS4zLTM0LjktMzUuM2MwLTM5LjUsNDUuOC00Ni42LDg2LjItNDUuOFYyNTcuN3ogTTE2OTguNSwzMjYuMiBsMS43LTMzLjZoMS4zYzE1LjEsMjYuOSwzOC43LDM4LjIsNjguMSwzOC4yYzQ1LjQsMCw5MS4yLTM2LjEsOTEuMi0xMDguOGMwLjQtNjEuNy0zNS4zLTEwMy43LTg1LjctMTAzLjcgYy0zMi44LDAtNTYuMywxNC43LTY5LjMsMzcuNGgtMC44VjI4aC0zNi42djI0NS43YzAsMTguMS0wLjgsMzguNi0xLjcsNTIuNUgxNjk4LjV6IE0xNzA0LjgsMjA4LjJjMC01LjksMS4zLTEwLjksMi4xLTE1LjEgYzcuNi0yOC4xLDMxLjEtNDUuNCw1Ni4zLTQ1LjRjMzkuNSwwLDYwLjUsMzQuOSw2MC41LDc1LjZjMCw0Ni42LTIzLjEsNzguMS02MS44LDc4LjFjLTI2LjksMC00OC4zLTE3LjYtNTUuNS00My4zIGMtMC44LTQuMi0xLjctOC44LTEuNy0xMy40VjIwOC4yeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-kernel: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgZmlsbD0iIzYxNjE2MSIgZD0iTTE1IDlIOXY2aDZWOXptLTIgNGgtMnYtMmgydjJ6bTgtMlY5aC0yVjdjMC0xLjEtLjktMi0yLTJoLTJWM2gtMnYyaC0yVjNIOXYySDdjLTEuMSAwLTIgLjktMiAydjJIM3YyaDJ2MkgzdjJoMnYyYzAgMS4xLjkgMiAyIDJoMnYyaDJ2LTJoMnYyaDJ2LTJoMmMxLjEgMCAyLS45IDItMnYtMmgydi0yaC0ydi0yaDJ6bS00IDZIN1Y3aDEwdjEweiIvPgo8L3N2Zz4K);
  --jp-icon-keyboard: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMjAgNUg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMTdjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY3YzAtMS4xLS45LTItMi0yem0tOSAzaDJ2MmgtMlY4em0wIDNoMnYyaC0ydi0yek04IDhoMnYySDhWOHptMCAzaDJ2Mkg4di0yem0tMSAySDV2LTJoMnYyem0wLTNINVY4aDJ2MnptOSA3SDh2LTJoOHYyem0wLTRoLTJ2LTJoMnYyem0wLTNoLTJWOGgydjJ6bTMgM2gtMnYtMmgydjJ6bTAtM2gtMlY4aDJ2MnoiLz4KPC9zdmc+Cg==);
  --jp-icon-launch: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzIgMzIiIHdpZHRoPSIzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik0yNiwyOEg2YTIuMDAyNywyLjAwMjcsMCwwLDEtMi0yVjZBMi4wMDI3LDIuMDAyNywwLDAsMSw2LDRIMTZWNkg2VjI2SDI2VjE2aDJWMjZBMi4wMDI3LDIuMDAyNywwLDAsMSwyNiwyOFoiLz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjAgMiAyMCA0IDI2LjU4NiA0IDE4IDEyLjU4NiAxOS40MTQgMTQgMjggNS40MTQgMjggMTIgMzAgMTIgMzAgMiAyMCAyIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-launcher: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTkgMTlINVY1aDdWM0g1YTIgMiAwIDAwLTIgMnYxNGEyIDIgMCAwMDIgMmgxNGMxLjEgMCAyLS45IDItMnYtN2gtMnY3ek0xNCAzdjJoMy41OWwtOS44MyA5LjgzIDEuNDEgMS40MUwxOSA2LjQxVjEwaDJWM2gtN3oiLz4KPC9zdmc+Cg==);
  --jp-icon-line-form: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9IndoaXRlIiBkPSJNNS44OCA0LjEyTDEzLjc2IDEybC03Ljg4IDcuODhMOCAyMmwxMC0xMEw4IDJ6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-link: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTMuOSAxMmMwLTEuNzEgMS4zOS0zLjEgMy4xLTMuMWg0VjdIN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNWg0di0xLjlIN2MtMS43MSAwLTMuMS0xLjM5LTMuMS0zLjF6TTggMTNoOHYtMkg4djJ6bTktNmgtNHYxLjloNGMxLjcxIDAgMy4xIDEuMzkgMy4xIDMuMXMtMS4zOSAzLjEtMy4xIDMuMWgtNFYxN2g0YzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-list: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiIGQ9Ik0xOSA1djE0SDVWNWgxNG0xLjEtMkgzLjljLS41IDAtLjkuNC0uOS45djE2LjJjMCAuNC40LjkuOS45aDE2LjJjLjQgMCAuOS0uNS45LS45VjMuOWMwLS41LS41LS45LS45LS45ek0xMSA3aDZ2MmgtNlY3em0wIDRoNnYyaC02di0yem0wIDRoNnYyaC02ek03IDdoMnYySDd6bTAgNGgydjJIN3ptMCA0aDJ2Mkg3eiIvPgo8L3N2Zz4K);
  --jp-icon-markdown: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1jb250cmFzdDAganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjN0IxRkEyIiBkPSJNNSAxNC45aDEybC02LjEgNnptOS40LTYuOGMwLTEuMy0uMS0yLjktLjEtNC41LS40IDEuNC0uOSAyLjktMS4zIDQuM2wtMS4zIDQuM2gtMkw4LjUgNy45Yy0uNC0xLjMtLjctMi45LTEtNC4zLS4xIDEuNi0uMSAzLjItLjIgNC42TDcgMTIuNEg0LjhsLjctMTFoMy4zTDEwIDVjLjQgMS4yLjcgMi43IDEgMy45LjMtMS4yLjctMi42IDEtMy45bDEuMi0zLjdoMy4zbC42IDExaC0yLjRsLS4zLTQuMnoiLz4KPC9zdmc+Cg==);
  --jp-icon-move-down: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBkPSJNMTIuNDcxIDcuNTI4OTlDMTIuNzYzMiA3LjIzNjg0IDEyLjc2MzIgNi43NjMxNiAxMi40NzEgNi40NzEwMVY2LjQ3MTAxQzEyLjE3OSA2LjE3OTA1IDExLjcwNTcgNi4xNzg4NCAxMS40MTM1IDYuNDcwNTRMNy43NSAxMC4xMjc1VjEuNzVDNy43NSAxLjMzNTc5IDcuNDE0MjEgMSA3IDFWMUM2LjU4NTc5IDEgNi4yNSAxLjMzNTc5IDYuMjUgMS43NVYxMC4xMjc1TDIuNTk3MjYgNi40NjgyMkMyLjMwMzM4IDYuMTczODEgMS44MjY0MSA2LjE3MzU5IDEuNTMyMjYgNi40Njc3NFY2LjQ2Nzc0QzEuMjM4MyA2Ljc2MTcgMS4yMzgzIDcuMjM4MyAxLjUzMjI2IDcuNTMyMjZMNi4yOTI4OSAxMi4yOTI5QzYuNjgzNDIgMTIuNjgzNCA3LjMxNjU4IDEyLjY4MzQgNy43MDcxMSAxMi4yOTI5TDEyLjQ3MSA3LjUyODk5WiIgZmlsbD0iIzYxNjE2MSIvPgo8L3N2Zz4K);
  --jp-icon-move-up: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBkPSJNMS41Mjg5OSA2LjQ3MTAxQzEuMjM2ODQgNi43NjMxNiAxLjIzNjg0IDcuMjM2ODQgMS41Mjg5OSA3LjUyODk5VjcuNTI4OTlDMS44MjA5NSA3LjgyMDk1IDIuMjk0MjYgNy44MjExNiAyLjU4NjQ5IDcuNTI5NDZMNi4yNSAzLjg3MjVWMTIuMjVDNi4yNSAxMi42NjQyIDYuNTg1NzkgMTMgNyAxM1YxM0M3LjQxNDIxIDEzIDcuNzUgMTIuNjY0MiA3Ljc1IDEyLjI1VjMuODcyNUwxMS40MDI3IDcuNTMxNzhDMTEuNjk2NiA3LjgyNjE5IDEyLjE3MzYgNy44MjY0MSAxMi40Njc3IDcuNTMyMjZWNy41MzIyNkMxMi43NjE3IDcuMjM4MyAxMi43NjE3IDYuNzYxNyAxMi40Njc3IDYuNDY3NzRMNy43MDcxMSAxLjcwNzExQzcuMzE2NTggMS4zMTY1OCA2LjY4MzQyIDEuMzE2NTggNi4yOTI4OSAxLjcwNzExTDEuNTI4OTkgNi40NzEwMVoiIGZpbGw9IiM2MTYxNjEiLz4KPC9zdmc+Cg==);
  --jp-icon-new-folder: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTIwIDZoLThsLTItMkg0Yy0xLjExIDAtMS45OS44OS0xLjk5IDJMMiAxOGMwIDEuMTEuODkgMiAyIDJoMTZjMS4xMSAwIDItLjg5IDItMlY4YzAtMS4xMS0uODktMi0yLTJ6bS0xIDhoLTN2M2gtMnYtM2gtM3YtMmgzVjloMnYzaDN2MnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-not-trusted: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI1IDI1Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMgMykiIGQ9Ik0xLjg2MDk0IDExLjQ0MDlDMC44MjY0NDggOC43NzAyNyAwLjg2Mzc3OSA2LjA1NzY0IDEuMjQ5MDcgNC4xOTkzMkMyLjQ4MjA2IDMuOTMzNDcgNC4wODA2OCAzLjQwMzQ3IDUuNjAxMDIgMi44NDQ5QzcuMjM1NDkgMi4yNDQ0IDguODU2NjYgMS41ODE1IDkuOTg3NiAxLjA5NTM5QzExLjA1OTcgMS41ODM0MSAxMi42MDk0IDIuMjQ0NCAxNC4yMTggMi44NDMzOUMxNS43NTAzIDMuNDEzOTQgMTcuMzk5NSAzLjk1MjU4IDE4Ljc1MzkgNC4yMTM4NUMxOS4xMzY0IDYuMDcxNzcgMTkuMTcwOSA4Ljc3NzIyIDE4LjEzOSAxMS40NDA5QzE3LjAzMDMgMTQuMzAzMiAxNC42NjY4IDE3LjE4NDQgOS45OTk5OSAxOC45MzU0QzUuMzMzMTkgMTcuMTg0NCAyLjk2OTY4IDE0LjMwMzIgMS44NjA5NCAxMS40NDA5WiIvPgogICAgPHBhdGggY2xhc3M9ImpwLWljb24yIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOS4zMTU5MiA5LjMyMDMxKSIgZD0iTTcuMzY4NDIgMEwwIDcuMzY0NzkiLz4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkuMzE1OTIgMTYuNjgzNikgc2NhbGUoMSAtMSkiIGQ9Ik03LjM2ODQyIDBMMCA3LjM2NDc5Ii8+Cjwvc3ZnPgo=);
  --jp-icon-notebook: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtbm90ZWJvb2staWNvbi1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiNFRjZDMDAiPgogICAgPHBhdGggZD0iTTE4LjcgMy4zdjE1LjRIMy4zVjMuM2gxNS40bTEuNS0xLjVIMS44djE4LjNoMTguM2wuMS0xOC4zeiIvPgogICAgPHBhdGggZD0iTTE2LjUgMTYuNWwtNS40LTQuMy01LjYgNC4zdi0xMWgxMXoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-numbering: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyOCAyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CgkJPHBhdGggZD0iTTQgMTlINlYxOS41SDVWMjAuNUg2VjIxSDRWMjJIN1YxOEg0VjE5Wk01IDEwSDZWNkg0VjdINVYxMFpNNCAxM0g1LjhMNCAxNS4xVjE2SDdWMTVINS4yTDcgMTIuOVYxMkg0VjEzWk05IDdWOUgyM1Y3SDlaTTkgMjFIMjNWMTlIOVYyMVpNOSAxNUgyM1YxM0g5VjE1WiIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-offline-bolt: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyIDIuMDJjLTUuNTEgMC05Ljk4IDQuNDctOS45OCA5Ljk4czQuNDcgOS45OCA5Ljk4IDkuOTggOS45OC00LjQ3IDkuOTgtOS45OFMxNy41MSAyLjAyIDEyIDIuMDJ6TTExLjQ4IDIwdi02LjI2SDhMMTMgNHY2LjI2aDMuMzVMMTEuNDggMjB6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-palette: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE4IDEzVjIwSDRWNkg5LjAyQzkuMDcgNS4yOSA5LjI0IDQuNjIgOS41IDRINEMyLjkgNCAyIDQuOSAyIDZWMjBDMiAyMS4xIDIuOSAyMiA0IDIySDE4QzE5LjEgMjIgMjAgMjEuMSAyMCAyMFYxNUwxOCAxM1pNMTkuMyA4Ljg5QzE5Ljc0IDguMTkgMjAgNy4zOCAyMCA2LjVDMjAgNC4wMSAxNy45OSAyIDE1LjUgMkMxMy4wMSAyIDExIDQuMDEgMTEgNi41QzExIDguOTkgMTMuMDEgMTEgMTUuNDkgMTFDMTYuMzcgMTEgMTcuMTkgMTAuNzQgMTcuODggMTAuM0wyMSAxMy40MkwyMi40MiAxMkwxOS4zIDguODlaTTE1LjUgOUMxNC4xMiA5IDEzIDcuODggMTMgNi41QzEzIDUuMTIgMTQuMTIgNCAxNS41IDRDMTYuODggNCAxOCA1LjEyIDE4IDYuNUMxOCA3Ljg4IDE2Ljg4IDkgMTUuNSA5WiIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDZIOS4wMTg5NEM5LjAwNjM5IDYuMTY1MDIgOSA2LjMzMTc2IDkgNi41QzkgOC44MTU3NyAxMC4yMTEgMTAuODQ4NyAxMi4wMzQzIDEySDlWMTRIMTZWMTIuOTgxMUMxNi41NzAzIDEyLjkzNzcgMTcuMTIgMTIuODIwNyAxNy42Mzk2IDEyLjYzOTZMMTggMTNWMjBINFY2Wk04IDhINlYxMEg4VjhaTTYgMTJIOFYxNEg2VjEyWk04IDE2SDZWMThIOFYxNlpNOSAxNkgxNlYxOEg5VjE2WiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-paste: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTE5IDJoLTQuMThDMTQuNC44NCAxMy4zIDAgMTIgMGMtMS4zIDAtMi40Ljg0LTIuODIgMkg1Yy0xLjEgMC0yIC45LTIgMnYxNmMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjRjMC0xLjEtLjktMi0yLTJ6bS03IDBjLjU1IDAgMSAuNDUgMSAxcy0uNDUgMS0xIDEtMS0uNDUtMS0xIC40NS0xIDEtMXptNyAxOEg1VjRoMnYzaDEwVjRoMnYxNnoiLz4KICAgIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-pdf: url(data:image/svg+xml;base64,PHN2ZwogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMiAyMiIgd2lkdGg9IjE2Ij4KICAgIDxwYXRoIHRyYW5zZm9ybT0icm90YXRlKDQ1KSIgY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI0ZGMkEyQSIKICAgICAgIGQ9Im0gMjIuMzQ0MzY5LC0zLjAxNjM2NDIgaCA1LjYzODYwNCB2IDEuNTc5MjQzMyBoIC0zLjU0OTIyNyB2IDEuNTA4NjkyOTkgaCAzLjMzNzU3NiBWIDEuNjUwODE1NCBoIC0zLjMzNzU3NiB2IDMuNDM1MjYxMyBoIC0yLjA4OTM3NyB6IG0gLTcuMTM2NDQ0LDEuNTc5MjQzMyB2IDQuOTQzOTU0MyBoIDAuNzQ4OTIgcSAxLjI4MDc2MSwwIDEuOTUzNzAzLC0wLjYzNDk1MzUgMC42NzgzNjksLTAuNjM0OTUzNSAwLjY3ODM2OSwtMS44NDUxNjQxIDAsLTEuMjA0NzgzNTUgLTAuNjcyOTQyLC0xLjgzNDMxMDExIC0wLjY3Mjk0MiwtMC42Mjk1MjY1OSAtMS45NTkxMywtMC42Mjk1MjY1OSB6IG0gLTIuMDg5Mzc3LC0xLjU3OTI0MzMgaCAyLjIwMzM0MyBxIDEuODQ1MTY0LDAgMi43NDYwMzksMC4yNjU5MjA3IDAuOTA2MzAxLDAuMjYwNDkzNyAxLjU1MjEwOCwwLjg5MDAyMDMgMC41Njk4MywwLjU0ODEyMjMgMC44NDY2MDUsMS4yNjQ0ODAwNiAwLjI3Njc3NCwwLjcxNjM1NzgxIDAuMjc2Nzc0LDEuNjIyNjU4OTQgMCwwLjkxNzE1NTEgLTAuMjc2Nzc0LDEuNjM4OTM5OSAtMC4yNzY3NzUsMC43MTYzNTc4IC0wLjg0NjYwNSwxLjI2NDQ4IC0wLjY1MTIzNCwwLjYyOTUyNjYgLTEuNTYyOTYyLDAuODk1NDQ3MyAtMC45MTE3MjgsMC4yNjA0OTM3IC0yLjczNTE4NSwwLjI2MDQ5MzcgaCAtMi4yMDMzNDMgeiBtIC04LjE0NTg1NjUsMCBoIDMuNDY3ODIzIHEgMS41NDY2ODE2LDAgMi4zNzE1Nzg1LDAuNjg5MjIzIDAuODMwMzI0LDAuNjgzNzk2MSAwLjgzMDMyNCwxLjk1MzcwMzE0IDAsMS4yNzUzMzM5NyAtMC44MzAzMjQsMS45NjQ1NTcwNiBRIDkuOTg3MTk2MSwyLjI3NDkxNSA4LjQ0MDUxNDUsMi4yNzQ5MTUgSCA3LjA2MjA2ODQgViA1LjA4NjA3NjcgSCA0Ljk3MjY5MTUgWiBtIDIuMDg5Mzc2OSwxLjUxNDExOTkgdiAyLjI2MzAzOTQzIGggMS4xNTU5NDEgcSAwLjYwNzgxODgsMCAwLjkzODg2MjksLTAuMjkzMDU1NDcgMC4zMzEwNDQxLC0wLjI5ODQ4MjQxIDAuMzMxMDQ0MSwtMC44NDExNzc3MiAwLC0wLjU0MjY5NTMxIC0wLjMzMTA0NDEsLTAuODM1NzUwNzQgLTAuMzMxMDQ0MSwtMC4yOTMwNTU1IC0wLjkzODg2MjksLTAuMjkzMDU1NSB6IgovPgo8L3N2Zz4K);
  --jp-icon-python: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iLTEwIC0xMCAxMzEuMTYxMzYxNjk0MzM1OTQgMTMyLjM4ODk5OTkzODk2NDg0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMzA2OTk4IiBkPSJNIDU0LjkxODc4NSw5LjE5Mjc0MjFlLTQgQyA1MC4zMzUxMzIsMC4wMjIyMTcyNyA0NS45NTc4NDYsMC40MTMxMzY5NyA0Mi4xMDYyODUsMS4wOTQ2NjkzIDMwLjc2MDA2OSwzLjA5OTE3MzEgMjguNzAwMDM2LDcuMjk0NzcxNCAyOC43MDAwMzUsMTUuMDMyMTY5IHYgMTAuMjE4NzUgaCAyNi44MTI1IHYgMy40MDYyNSBoIC0yNi44MTI1IC0xMC4wNjI1IGMgLTcuNzkyNDU5LDAgLTE0LjYxNTc1ODgsNC42ODM3MTcgLTE2Ljc0OTk5OTgsMTMuNTkzNzUgLTIuNDYxODE5OTgsMTAuMjEyOTY2IC0yLjU3MTAxNTA4LDE2LjU4NjAyMyAwLDI3LjI1IDEuOTA1OTI4Myw3LjkzNzg1MiA2LjQ1NzU0MzIsMTMuNTkzNzQ4IDE0LjI0OTk5OTgsMTMuNTkzNzUgaCA5LjIxODc1IHYgLTEyLjI1IGMgMCwtOC44NDk5MDIgNy42NTcxNDQsLTE2LjY1NjI0OCAxNi43NSwtMTYuNjU2MjUgaCAyNi43ODEyNSBjIDcuNDU0OTUxLDAgMTMuNDA2MjUzLC02LjEzODE2NCAxMy40MDYyNSwtMTMuNjI1IHYgLTI1LjUzMTI1IGMgMCwtNy4yNjYzMzg2IC02LjEyOTk4LC0xMi43MjQ3NzcxIC0xMy40MDYyNSwtMTMuOTM3NDk5NyBDIDY0LjI4MTU0OCwwLjMyNzk0Mzk3IDU5LjUwMjQzOCwtMC4wMjAzNzkwMyA1NC45MTg3ODUsOS4xOTI3NDIxZS00IFogbSAtMTQuNSw4LjIxODc1MDEyNTc5IGMgMi43Njk1NDcsMCA1LjAzMTI1LDIuMjk4NjQ1NiA1LjAzMTI1LDUuMTI0OTk5NiAtMmUtNiwyLjgxNjMzNiAtMi4yNjE3MDMsNS4wOTM3NSAtNS4wMzEyNSw1LjA5Mzc1IC0yLjc3OTQ3NiwtMWUtNiAtNS4wMzEyNSwtMi4yNzc0MTUgLTUuMDMxMjUsLTUuMDkzNzUgLTEwZS03LC0yLjgyNjM1MyAyLjI1MTc3NCwtNS4xMjQ5OTk2IDUuMDMxMjUsLTUuMTI0OTk5NiB6Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI2ZmZDQzYiIgZD0ibSA4NS42Mzc1MzUsMjguNjU3MTY5IHYgMTEuOTA2MjUgYyAwLDkuMjMwNzU1IC03LjgyNTg5NSwxNi45OTk5OTkgLTE2Ljc1LDE3IGggLTI2Ljc4MTI1IGMgLTcuMzM1ODMzLDAgLTEzLjQwNjI0OSw2LjI3ODQ4MyAtMTMuNDA2MjUsMTMuNjI1IHYgMjUuNTMxMjQ3IGMgMCw3LjI2NjM0NCA2LjMxODU4OCwxMS41NDAzMjQgMTMuNDA2MjUsMTMuNjI1MDA0IDguNDg3MzMxLDIuNDk1NjEgMTYuNjI2MjM3LDIuOTQ2NjMgMjYuNzgxMjUsMCA2Ljc1MDE1NSwtMS45NTQzOSAxMy40MDYyNTMsLTUuODg3NjEgMTMuNDA2MjUsLTEzLjYyNTAwNCBWIDg2LjUwMDkxOSBoIC0yNi43ODEyNSB2IC0zLjQwNjI1IGggMjYuNzgxMjUgMTMuNDA2MjU0IGMgNy43OTI0NjEsMCAxMC42OTYyNTEsLTUuNDM1NDA4IDEzLjQwNjI0MSwtMTMuNTkzNzUgMi43OTkzMywtOC4zOTg4ODYgMi42ODAyMiwtMTYuNDc1Nzc2IDAsLTI3LjI1IC0xLjkyNTc4LC03Ljc1NzQ0MSAtNS42MDM4NywtMTMuNTkzNzUgLTEzLjQwNjI0MSwtMTMuNTkzNzUgeiBtIC0xNS4wNjI1LDY0LjY1NjI1IGMgMi43Nzk0NzgsM2UtNiA1LjAzMTI1LDIuMjc3NDE3IDUuMDMxMjUsNS4wOTM3NDcgLTJlLTYsMi44MjYzNTQgLTIuMjUxNzc1LDUuMTI1MDA0IC01LjAzMTI1LDUuMTI1MDA0IC0yLjc2OTU1LDAgLTUuMDMxMjUsLTIuMjk4NjUgLTUuMDMxMjUsLTUuMTI1MDA0IDJlLTYsLTIuODE2MzMgMi4yNjE2OTcsLTUuMDkzNzQ3IDUuMDMxMjUsLTUuMDkzNzQ3IHoiLz4KPC9zdmc+Cg==);
  --jp-icon-r-kernel: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1jb250cmFzdDMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMjE5NkYzIiBkPSJNNC40IDIuNWMxLjItLjEgMi45LS4zIDQuOS0uMyAyLjUgMCA0LjEuNCA1LjIgMS4zIDEgLjcgMS41IDEuOSAxLjUgMy41IDAgMi0xLjQgMy41LTIuOSA0LjEgMS4yLjQgMS43IDEuNiAyLjIgMyAuNiAxLjkgMSAzLjkgMS4zIDQuNmgtMy44Yy0uMy0uNC0uOC0xLjctMS4yLTMuN3MtMS4yLTIuNi0yLjYtMi42aC0uOXY2LjRINC40VjIuNXptMy43IDYuOWgxLjRjMS45IDAgMi45LS45IDIuOS0yLjNzLTEtMi4zLTIuOC0yLjNjLS43IDAtMS4zIDAtMS42LjJ2NC41aC4xdi0uMXoiLz4KPC9zdmc+Cg==);
  --jp-icon-react: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMTUwIDE1MCA1NDEuOSAyOTUuMyI+CiAgPGcgY2xhc3M9ImpwLWljb24tYnJhbmQyIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzYxREFGQiI+CiAgICA8cGF0aCBkPSJNNjY2LjMgMjk2LjVjMC0zMi41LTQwLjctNjMuMy0xMDMuMS04Mi40IDE0LjQtNjMuNiA4LTExNC4yLTIwLjItMTMwLjQtNi41LTMuOC0xNC4xLTUuNi0yMi40LTUuNnYyMi4zYzQuNiAwIDguMy45IDExLjQgMi42IDEzLjYgNy44IDE5LjUgMzcuNSAxNC45IDc1LjctMS4xIDkuNC0yLjkgMTkuMy01LjEgMjkuNC0xOS42LTQuOC00MS04LjUtNjMuNS0xMC45LTEzLjUtMTguNS0yNy41LTM1LjMtNDEuNi01MCAzMi42LTMwLjMgNjMuMi00Ni45IDg0LTQ2LjlWNzhjLTI3LjUgMC02My41IDE5LjYtOTkuOSA1My42LTM2LjQtMzMuOC03Mi40LTUzLjItOTkuOS01My4ydjIyLjNjMjAuNyAwIDUxLjQgMTYuNSA4NCA0Ni42LTE0IDE0LjctMjggMzEuNC00MS4zIDQ5LjktMjIuNiAyLjQtNDQgNi4xLTYzLjYgMTEtMi4zLTEwLTQtMTkuNy01LjItMjktNC43LTM4LjIgMS4xLTY3LjkgMTQuNi03NS44IDMtMS44IDYuOS0yLjYgMTEuNS0yLjZWNzguNWMtOC40IDAtMTYgMS44LTIyLjYgNS42LTI4LjEgMTYuMi0zNC40IDY2LjctMTkuOSAxMzAuMS02Mi4yIDE5LjItMTAyLjcgNDkuOS0xMDIuNyA4Mi4zIDAgMzIuNSA0MC43IDYzLjMgMTAzLjEgODIuNC0xNC40IDYzLjYtOCAxMTQuMiAyMC4yIDEzMC40IDYuNSAzLjggMTQuMSA1LjYgMjIuNSA1LjYgMjcuNSAwIDYzLjUtMTkuNiA5OS45LTUzLjYgMzYuNCAzMy44IDcyLjQgNTMuMiA5OS45IDUzLjIgOC40IDAgMTYtMS44IDIyLjYtNS42IDI4LjEtMTYuMiAzNC40LTY2LjcgMTkuOS0xMzAuMSA2Mi0xOS4xIDEwMi41LTQ5LjkgMTAyLjUtODIuM3ptLTEzMC4yLTY2LjdjLTMuNyAxMi45LTguMyAyNi4yLTEzLjUgMzkuNS00LjEtOC04LjQtMTYtMTMuMS0yNC00LjYtOC05LjUtMTUuOC0xNC40LTIzLjQgMTQuMiAyLjEgMjcuOSA0LjcgNDEgNy45em0tNDUuOCAxMDYuNWMtNy44IDEzLjUtMTUuOCAyNi4zLTI0LjEgMzguMi0xNC45IDEuMy0zMCAyLTQ1LjIgMi0xNS4xIDAtMzAuMi0uNy00NS0xLjktOC4zLTExLjktMTYuNC0yNC42LTI0LjItMzgtNy42LTEzLjEtMTQuNS0yNi40LTIwLjgtMzkuOCA2LjItMTMuNCAxMy4yLTI2LjggMjAuNy0zOS45IDcuOC0xMy41IDE1LjgtMjYuMyAyNC4xLTM4LjIgMTQuOS0xLjMgMzAtMiA0NS4yLTIgMTUuMSAwIDMwLjIuNyA0NSAxLjkgOC4zIDExLjkgMTYuNCAyNC42IDI0LjIgMzggNy42IDEzLjEgMTQuNSAyNi40IDIwLjggMzkuOC02LjMgMTMuNC0xMy4yIDI2LjgtMjAuNyAzOS45em0zMi4zLTEzYzUuNCAxMy40IDEwIDI2LjggMTMuOCAzOS44LTEzLjEgMy4yLTI2LjkgNS45LTQxLjIgOCA0LjktNy43IDkuOC0xNS42IDE0LjQtMjMuNyA0LjYtOCA4LjktMTYuMSAxMy0yNC4xek00MjEuMiA0MzBjLTkuMy05LjYtMTguNi0yMC4zLTI3LjgtMzIgOSAuNCAxOC4yLjcgMjcuNS43IDkuNCAwIDE4LjctLjIgMjcuOC0uNy05IDExLjctMTguMyAyMi40LTI3LjUgMzJ6bS03NC40LTU4LjljLTE0LjItMi4xLTI3LjktNC43LTQxLTcuOSAzLjctMTIuOSA4LjMtMjYuMiAxMy41LTM5LjUgNC4xIDggOC40IDE2IDEzLjEgMjQgNC43IDggOS41IDE1LjggMTQuNCAyMy40ek00MjAuNyAxNjNjOS4zIDkuNiAxOC42IDIwLjMgMjcuOCAzMi05LS40LTE4LjItLjctMjcuNS0uNy05LjQgMC0xOC43LjItMjcuOC43IDktMTEuNyAxOC4zLTIyLjQgMjcuNS0zMnptLTc0IDU4LjljLTQuOSA3LjctOS44IDE1LjYtMTQuNCAyMy43LTQuNiA4LTguOSAxNi0xMyAyNC01LjQtMTMuNC0xMC0yNi44LTEzLjgtMzkuOCAxMy4xLTMuMSAyNi45LTUuOCA0MS4yLTcuOXptLTkwLjUgMTI1LjJjLTM1LjQtMTUuMS01OC4zLTM0LjktNTguMy01MC42IDAtMTUuNyAyMi45LTM1LjYgNTguMy01MC42IDguNi0zLjcgMTgtNyAyNy43LTEwLjEgNS43IDE5LjYgMTMuMiA0MCAyMi41IDYwLjktOS4yIDIwLjgtMTYuNiA0MS4xLTIyLjIgNjAuNi05LjktMy4xLTE5LjMtNi41LTI4LTEwLjJ6TTMxMCA0OTBjLTEzLjYtNy44LTE5LjUtMzcuNS0xNC45LTc1LjcgMS4xLTkuNCAyLjktMTkuMyA1LjEtMjkuNCAxOS42IDQuOCA0MSA4LjUgNjMuNSAxMC45IDEzLjUgMTguNSAyNy41IDM1LjMgNDEuNiA1MC0zMi42IDMwLjMtNjMuMiA0Ni45LTg0IDQ2LjktNC41LS4xLTguMy0xLTExLjMtMi43em0yMzcuMi03Ni4yYzQuNyAzOC4yLTEuMSA2Ny45LTE0LjYgNzUuOC0zIDEuOC02LjkgMi42LTExLjUgMi42LTIwLjcgMC01MS40LTE2LjUtODQtNDYuNiAxNC0xNC43IDI4LTMxLjQgNDEuMy00OS45IDIyLjYtMi40IDQ0LTYuMSA2My42LTExIDIuMyAxMC4xIDQuMSAxOS44IDUuMiAyOS4xem0zOC41LTY2LjdjLTguNiAzLjctMTggNy0yNy43IDEwLjEtNS43LTE5LjYtMTMuMi00MC0yMi41LTYwLjkgOS4yLTIwLjggMTYuNi00MS4xIDIyLjItNjAuNiA5LjkgMy4xIDE5LjMgNi41IDI4LjEgMTAuMiAzNS40IDE1LjEgNTguMyAzNC45IDU4LjMgNTAuNi0uMSAxNS43LTIzIDM1LjYtNTguNCA1MC42ek0zMjAuOCA3OC40eiIvPgogICAgPGNpcmNsZSBjeD0iNDIwLjkiIGN5PSIyOTYuNSIgcj0iNDUuNyIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-redo: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE4LjQgMTAuNkMxNi41NSA4Ljk5IDE0LjE1IDggMTEuNSA4Yy00LjY1IDAtOC41OCAzLjAzLTkuOTYgNy4yMkwzLjkgMTZjMS4wNS0zLjE5IDQuMDUtNS41IDcuNi01LjUgMS45NSAwIDMuNzMuNzIgNS4xMiAxLjg4TDEzIDE2aDlWN2wtMy42IDMuNnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-refresh: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTkgMTMuNWMtMi40OSAwLTQuNS0yLjAxLTQuNS00LjVTNi41MSA0LjUgOSA0LjVjMS4yNCAwIDIuMzYuNTIgMy4xNyAxLjMzTDEwIDhoNVYzbC0xLjc2IDEuNzZDMTIuMTUgMy42OCAxMC42NiAzIDkgMyA1LjY5IDMgMy4wMSA1LjY5IDMuMDEgOVM1LjY5IDE1IDkgMTVjMi45NyAwIDUuNDMtMi4xNiA1LjktNWgtMS41MmMtLjQ2IDItMi4yNCAzLjUtNC4zOCAzLjV6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-regex: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KICA8ZyBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiM0MTQxNDEiPgogICAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+CiAgPC9nPgoKICA8ZyBjbGFzcz0ianAtaWNvbi1hY2NlbnQyIiBmaWxsPSIjRkZGIj4KICAgIDxjaXJjbGUgY2xhc3M9InN0MiIgY3g9IjUuNSIgY3k9IjE0LjUiIHI9IjEuNSIvPgogICAgPHJlY3QgeD0iMTIiIHk9IjQiIGNsYXNzPSJzdDIiIHdpZHRoPSIxIiBoZWlnaHQ9IjgiLz4KICAgIDxyZWN0IHg9IjguNSIgeT0iNy41IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg2NiAtMC41IDAuNSAwLjg2NiAtMi4zMjU1IDcuMzIxOSkiIGNsYXNzPSJzdDIiIHdpZHRoPSI4IiBoZWlnaHQ9IjEiLz4KICAgIDxyZWN0IHg9IjEyIiB5PSI0IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjUgLTAuODY2IDAuODY2IDAuNSAtMC42Nzc5IDE0LjgyNTIpIiBjbGFzcz0ic3QyIiB3aWR0aD0iMSIgaGVpZ2h0PSI4Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-run: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTggNXYxNGwxMS03eiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-running: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDUxMiA1MTIiPgogIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICA8cGF0aCBkPSJNMjU2IDhDMTE5IDggOCAxMTkgOCAyNTZzMTExIDI0OCAyNDggMjQ4IDI0OC0xMTEgMjQ4LTI0OFMzOTMgOCAyNTYgOHptOTYgMzI4YzAgOC44LTcuMiAxNi0xNiAxNkgxNzZjLTguOCAwLTE2LTcuMi0xNi0xNlYxNzZjMC04LjggNy4yLTE2IDE2LTE2aDE2MGM4LjggMCAxNiA3LjIgMTYgMTZ2MTYweiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-save: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTE3IDNINWMtMS4xMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjdsLTQtNHptLTUgMTZjLTEuNjYgMC0zLTEuMzQtMy0zczEuMzQtMyAzLTMgMyAxLjM0IDMgMy0xLjM0IDMtMyAzem0zLTEwSDVWNWgxMHY0eiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-search: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyLjEsMTAuOWgtMC43bC0wLjItMC4yYzAuOC0wLjksMS4zLTIuMiwxLjMtMy41YzAtMy0yLjQtNS40LTUuNC01LjRTMS44LDQuMiwxLjgsNy4xczIuNCw1LjQsNS40LDUuNCBjMS4zLDAsMi41LTAuNSwzLjUtMS4zbDAuMiwwLjJ2MC43bDQuMSw0LjFsMS4yLTEuMkwxMi4xLDEwLjl6IE03LjEsMTAuOWMtMi4xLDAtMy43LTEuNy0zLjctMy43czEuNy0zLjcsMy43LTMuN3MzLjcsMS43LDMuNywzLjcgUzkuMiwxMC45LDcuMSwxMC45eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-settings: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVBLjQ4OC40ODggMCAwMDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXoiLz4KPC9zdmc+Cg==);
  --jp-icon-share: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTSAxOCAyIEMgMTYuMzU0OTkgMiAxNSAzLjM1NDk5MDQgMTUgNSBDIDE1IDUuMTkwOTUyOSAxNS4wMjE3OTEgNS4zNzcxMjI0IDE1LjA1NjY0MSA1LjU1ODU5MzggTCA3LjkyMTg3NSA5LjcyMDcwMzEgQyA3LjM5ODUzOTkgOS4yNzc4NTM5IDYuNzMyMDc3MSA5IDYgOSBDIDQuMzU0OTkwNCA5IDMgMTAuMzU0OTkgMyAxMiBDIDMgMTMuNjQ1MDEgNC4zNTQ5OTA0IDE1IDYgMTUgQyA2LjczMjA3NzEgMTUgNy4zOTg1Mzk5IDE0LjcyMjE0NiA3LjkyMTg3NSAxNC4yNzkyOTcgTCAxNS4wNTY2NDEgMTguNDM5NDUzIEMgMTUuMDIxNTU1IDE4LjYyMTUxNCAxNSAxOC44MDgzODYgMTUgMTkgQyAxNSAyMC42NDUwMSAxNi4zNTQ5OSAyMiAxOCAyMiBDIDE5LjY0NTAxIDIyIDIxIDIwLjY0NTAxIDIxIDE5IEMgMjEgMTcuMzU0OTkgMTkuNjQ1MDEgMTYgMTggMTYgQyAxNy4yNjc0OCAxNiAxNi42MDE1OTMgMTYuMjc5MzI4IDE2LjA3ODEyNSAxNi43MjI2NTYgTCA4Ljk0MzM1OTQgMTIuNTU4NTk0IEMgOC45NzgyMDk1IDEyLjM3NzEyMiA5IDEyLjE5MDk1MyA5IDEyIEMgOSAxMS44MDkwNDcgOC45NzgyMDk1IDExLjYyMjg3OCA4Ljk0MzM1OTQgMTEuNDQxNDA2IEwgMTYuMDc4MTI1IDcuMjc5Mjk2OSBDIDE2LjYwMTQ2IDcuNzIyMTQ2MSAxNy4yNjc5MjMgOCAxOCA4IEMgMTkuNjQ1MDEgOCAyMSA2LjY0NTAwOTYgMjEgNSBDIDIxIDMuMzU0OTkwNCAxOS42NDUwMSAyIDE4IDIgeiBNIDE4IDQgQyAxOC41NjQxMjkgNCAxOSA0LjQzNTg3MDYgMTkgNSBDIDE5IDUuNTY0MTI5NCAxOC41NjQxMjkgNiAxOCA2IEMgMTcuNDM1ODcxIDYgMTcgNS41NjQxMjk0IDE3IDUgQyAxNyA0LjQzNTg3MDYgMTcuNDM1ODcxIDQgMTggNCB6IE0gNiAxMSBDIDYuNTY0MTI5NCAxMSA3IDExLjQzNTg3MSA3IDEyIEMgNyAxMi41NjQxMjkgNi41NjQxMjk0IDEzIDYgMTMgQyA1LjQzNTg3MDYgMTMgNSAxMi41NjQxMjkgNSAxMiBDIDUgMTEuNDM1ODcxIDUuNDM1ODcwNiAxMSA2IDExIHogTSAxOCAxOCBDIDE4LjU2NDEyOSAxOCAxOSAxOC40MzU4NzEgMTkgMTkgQyAxOSAxOS41NjQxMjkgMTguNTY0MTI5IDIwIDE4IDIwIEMgMTcuNDM1ODcxIDIwIDE3IDE5LjU2NDEyOSAxNyAxOSBDIDE3IDE4LjQzNTg3MSAxNy40MzU4NzEgMTggMTggMTggeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-spreadsheet: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1jb250cmFzdDEganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNENBRjUwIiBkPSJNMi4yIDIuMnYxNy42aDE3LjZWMi4ySDIuMnptMTUuNCA3LjdoLTUuNVY0LjRoNS41djUuNXpNOS45IDQuNHY1LjVINC40VjQuNGg1LjV6bS01LjUgNy43aDUuNXY1LjVINC40di01LjV6bTcuNyA1LjV2LTUuNWg1LjV2NS41aC01LjV6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-stop: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGQ9Ik02IDZoMTJ2MTJINnoiLz4KICAgIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-tab: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTIxIDNIM2MtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxOGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yem0wIDE2SDNWNWgxMHY0aDh2MTB6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-table-rows: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGQ9Ik0yMSw4SDNWNGgxOFY4eiBNMjEsMTBIM3Y0aDE4VjEweiBNMjEsMTZIM3Y0aDE4VjE2eiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-tag: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCA0MyAyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CgkJPHBhdGggZD0iTTI4LjgzMzIgMTIuMzM0TDMyLjk5OTggMTYuNTAwN0wzNy4xNjY1IDEyLjMzNEgyOC44MzMyWiIvPgoJCTxwYXRoIGQ9Ik0xNi4yMDk1IDIxLjYxMDRDMTUuNjg3MyAyMi4xMjk5IDE0Ljg0NDMgMjIuMTI5OSAxNC4zMjQ4IDIxLjYxMDRMNi45ODI5IDE0LjcyNDVDNi41NzI0IDE0LjMzOTQgNi4wODMxMyAxMy42MDk4IDYuMDQ3ODYgMTMuMDQ4MkM1Ljk1MzQ3IDExLjUyODggNi4wMjAwMiA4LjYxOTQ0IDYuMDY2MjEgNy4wNzY5NUM2LjA4MjgxIDYuNTE0NzcgNi41NTU0OCA2LjA0MzQ3IDcuMTE4MDQgNi4wMzA1NUM5LjA4ODYzIDUuOTg0NzMgMTMuMjYzOCA1LjkzNTc5IDEzLjY1MTggNi4zMjQyNUwyMS43MzY5IDEzLjYzOUMyMi4yNTYgMTQuMTU4NSAyMS43ODUxIDE1LjQ3MjQgMjEuMjYyIDE1Ljk5NDZMMTYuMjA5NSAyMS42MTA0Wk05Ljc3NTg1IDguMjY1QzkuMzM1NTEgNy44MjU2NiA4LjYyMzUxIDcuODI1NjYgOC4xODI4IDguMjY1QzcuNzQzNDYgOC43MDU3MSA3Ljc0MzQ2IDkuNDE3MzMgOC4xODI4IDkuODU2NjdDOC42MjM4MiAxMC4yOTY0IDkuMzM1ODIgMTAuMjk2NCA5Ljc3NTg1IDkuODU2NjdDMTAuMjE1NiA5LjQxNzMzIDEwLjIxNTYgOC43MDUzMyA5Ljc3NTg1IDguMjY1WiIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-terminal: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiA+CiAgICA8cmVjdCBjbGFzcz0ianAtdGVybWluYWwtaWNvbi1iYWNrZ3JvdW5kLWNvbG9yIGpwLWljb24tc2VsZWN0YWJsZSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyIDIpIiBmaWxsPSIjMzMzMzMzIi8+CiAgICA8cGF0aCBjbGFzcz0ianAtdGVybWluYWwtaWNvbi1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUtaW52ZXJzZSIgZD0iTTUuMDU2NjQgOC43NjE3MkM1LjA1NjY0IDguNTk3NjYgNS4wMzEyNSA4LjQ1MzEyIDQuOTgwNDcgOC4zMjgxMkM0LjkzMzU5IDguMTk5MjIgNC44NTU0NyA4LjA4MjAzIDQuNzQ2MDkgNy45NzY1NkM0LjY0MDYyIDcuODcxMDkgNC41IDcuNzc1MzkgNC4zMjQyMiA3LjY4OTQ1QzQuMTUyMzQgNy41OTk2MSAzLjk0MzM2IDcuNTExNzIgMy42OTcyNyA3LjQyNTc4QzMuMzAyNzMgNy4yODUxNiAyLjk0MzM2IDcuMTM2NzIgMi42MTkxNCA2Ljk4MDQ3QzIuMjk0OTIgNi44MjQyMiAyLjAxNzU4IDYuNjQyNTggMS43ODcxMSA2LjQzNTU1QzEuNTYwNTUgNi4yMjg1MiAxLjM4NDc3IDUuOTg4MjggMS4yNTk3NyA1LjcxNDg0QzEuMTM0NzcgNS40Mzc1IDEuMDcyMjcgNS4xMDkzOCAxLjA3MjI3IDQuNzMwNDdDMS4wNzIyNyA0LjM5ODQ0IDEuMTI4OTEgNC4wOTU3IDEuMjQyMTkgMy44MjIyN0MxLjM1NTQ3IDMuNTQ0OTIgMS41MTU2MiAzLjMwNDY5IDEuNzIyNjYgMy4xMDE1NkMxLjkyOTY5IDIuODk4NDQgMi4xNzk2OSAyLjczNDM3IDIuNDcyNjYgMi42MDkzOEMyLjc2NTYyIDIuNDg0MzggMy4wOTE4IDIuNDA0MyAzLjQ1MTE3IDIuMzY5MTRWMS4xMDkzOEg0LjM4ODY3VjIuMzgwODZDNC43NDAyMyAyLjQyNzczIDUuMDU2NjQgMi41MjM0NCA1LjMzNzg5IDIuNjY3OTdDNS42MTkxNCAyLjgxMjUgNS44NTc0MiAzLjAwMTk1IDYuMDUyNzMgMy4yMzYzM0M2LjI1MTk1IDMuNDY2OCA2LjQwNDMgMy43NDAyMyA2LjUwOTc3IDQuMDU2NjRDNi42MTkxNCA0LjM2OTE0IDYuNjczODMgNC43MjA3IDYuNjczODMgNS4xMTEzM0g1LjA0NDkyQzUuMDQ0OTIgNC42Mzg2NyA0LjkzNzUgNC4yODEyNSA0LjcyMjY2IDQuMDM5MDZDNC41MDc4MSAzLjc5Mjk3IDQuMjE2OCAzLjY2OTkyIDMuODQ5NjEgMy42Njk5MkMzLjY1MDM5IDMuNjY5OTIgMy40NzY1NiAzLjY5NzI3IDMuMzI4MTIgMy43NTE5NUMzLjE4MzU5IDMuODAyNzMgMy4wNjQ0NSAzLjg3Njk1IDIuOTcwNyAzLjk3NDYxQzIuODc2OTUgNC4wNjgzNiAyLjgwNjY0IDQuMTc5NjkgMi43NTk3NyA0LjMwODU5QzIuNzE2OCA0LjQzNzUgMi42OTUzMSA0LjU3ODEyIDIuNjk1MzEgNC43MzA0N0MyLjY5NTMxIDQuODgyODEgMi43MTY4IDUuMDE5NTMgMi43NTk3NyA1LjE0MDYyQzIuODA2NjQgNS4yNTc4MSAyLjg4MjgxIDUuMzY3MTkgMi45ODgyOCA1LjQ2ODc1QzMuMDk3NjYgNS41NzAzMSAzLjI0MDIzIDUuNjY3OTcgMy40MTYwMiA1Ljc2MTcyQzMuNTkxOCA1Ljg1MTU2IDMuODEwNTUgNS45NDMzNiA0LjA3MjI3IDYuMDM3MTFDNC40NjY4IDYuMTg1NTUgNC44MjQyMiA2LjMzOTg0IDUuMTQ0NTMgNi41QzUuNDY0ODQgNi42NTYyNSA1LjczODI4IDYuODM5ODQgNS45NjQ4NCA3LjA1MDc4QzYuMTk1MzEgNy4yNTc4MSA2LjM3MTA5IDcuNSA2LjQ5MjE5IDcuNzc3MzRDNi42MTcxOSA4LjA1MDc4IDYuNjc5NjkgOC4zNzUgNi42Nzk2OSA4Ljc1QzYuNjc5NjkgOS4wOTM3NSA2LjYyMzA1IDkuNDA0MyA2LjUwOTc3IDkuNjgxNjRDNi4zOTY0OCA5Ljk1NTA4IDYuMjM0MzggMTAuMTkxNCA2LjAyMzQ0IDEwLjM5MDZDNS44MTI1IDEwLjU4OTggNS41NTg1OSAxMC43NSA1LjI2MTcyIDEwLjg3MTFDNC45NjQ4NCAxMC45ODgzIDQuNjMyODEgMTEuMDY0NSA0LjI2NTYyIDExLjA5OTZWMTIuMjQ4SDMuMzMzOThWMTEuMDk5NkMzLjAwMTk1IDExLjA2ODQgMi42Nzk2OSAxMC45OTYxIDIuMzY3MTkgMTAuODgyOEMyLjA1NDY5IDEwLjc2NTYgMS43NzczNCAxMC41OTc3IDEuNTM1MTYgMTAuMzc4OUMxLjI5Njg4IDEwLjE2MDIgMS4xMDU0NyA5Ljg4NDc3IDAuOTYwOTM4IDkuNTUyNzNDMC44MTY0MDYgOS4yMTY4IDAuNzQ0MTQxIDguODE0NDUgMC43NDQxNDEgOC4zNDU3SDIuMzc4OTFDMi4zNzg5MSA4LjYyNjk1IDIuNDE5OTIgOC44NjMyOCAyLjUwMTk1IDkuMDU0NjlDMi41ODM5OCA5LjI0MjE5IDIuNjg5NDUgOS4zOTI1OCAyLjgxODM2IDkuNTA1ODZDMi45NTExNyA5LjYxNTIzIDMuMTAxNTYgOS42OTMzNiAzLjI2OTUzIDkuNzQwMjNDMy40Mzc1IDkuNzg3MTEgMy42MDkzOCA5LjgxMDU1IDMuNzg1MTYgOS44MTA1NUM0LjIwMzEyIDkuODEwNTUgNC41MTk1MyA5LjcxMjg5IDQuNzM0MzggOS41MTc1OEM0Ljk0OTIyIDkuMzIyMjcgNS4wNTY2NCA5LjA3MDMxIDUuMDU2NjQgOC43NjE3MlpNMTMuNDE4IDEyLjI3MTVIOC4wNzQyMlYxMUgxMy40MThWMTIuMjcxNVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMuOTUyNjQgNikiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=);
  --jp-icon-text-editor: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtdGV4dC1lZGl0b3ItaWNvbi1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiIGQ9Ik0xNSAxNUgzdjJoMTJ2LTJ6bTAtOEgzdjJoMTJWN3pNMyAxM2gxOHYtMkgzdjJ6bTAgOGgxOHYtMkgzdjJ6TTMgM3YyaDE4VjNIM3oiLz4KPC9zdmc+Cg==);
  --jp-icon-toc: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik03LDVIMjFWN0g3VjVNNywxM1YxMUgyMVYxM0g3TTQsNC41QTEuNSwxLjUgMCAwLDEgNS41LDZBMS41LDEuNSAwIDAsMSA0LDcuNUExLjUsMS41IDAgMCwxIDIuNSw2QTEuNSwxLjUgMCAwLDEgNCw0LjVNNCwxMC41QTEuNSwxLjUgMCAwLDEgNS41LDEyQTEuNSwxLjUgMCAwLDEgNCwxMy41QTEuNSwxLjUgMCAwLDEgMi41LDEyQTEuNSwxLjUgMCAwLDEgNCwxMC41TTcsMTlWMTdIMjFWMTlIN000LDE2LjVBMS41LDEuNSAwIDAsMSA1LjUsMThBMS41LDEuNSAwIDAsMSA0LDE5LjVBMS41LDEuNSAwIDAsMSAyLjUsMThBMS41LDEuNSAwIDAsMSA0LDE2LjVaIiAvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-tree-view: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGQ9Ik0yMiAxMVYzaC03djNIOVYzSDJ2OGg3VjhoMnYxMGg0djNoN3YtOGgtN3YzaC0yVjhoMnYzeiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-trusted: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI1Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIgMykiIGQ9Ik0xLjg2MDk0IDExLjQ0MDlDMC44MjY0NDggOC43NzAyNyAwLjg2Mzc3OSA2LjA1NzY0IDEuMjQ5MDcgNC4xOTkzMkMyLjQ4MjA2IDMuOTMzNDcgNC4wODA2OCAzLjQwMzQ3IDUuNjAxMDIgMi44NDQ5QzcuMjM1NDkgMi4yNDQ0IDguODU2NjYgMS41ODE1IDkuOTg3NiAxLjA5NTM5QzExLjA1OTcgMS41ODM0MSAxMi42MDk0IDIuMjQ0NCAxNC4yMTggMi44NDMzOUMxNS43NTAzIDMuNDEzOTQgMTcuMzk5NSAzLjk1MjU4IDE4Ljc1MzkgNC4yMTM4NUMxOS4xMzY0IDYuMDcxNzcgMTkuMTcwOSA4Ljc3NzIyIDE4LjEzOSAxMS40NDA5QzE3LjAzMDMgMTQuMzAzMiAxNC42NjY4IDE3LjE4NDQgOS45OTk5OSAxOC45MzU0QzUuMzMzMiAxNy4xODQ0IDIuOTY5NjggMTQuMzAzMiAxLjg2MDk0IDExLjQ0MDlaIi8+CiAgICA8cGF0aCBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiMzMzMzMzMiIHN0cm9rZT0iIzMzMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCA5Ljg2NzE5KSIgZD0iTTIuODYwMTUgNC44NjUzNUwwLjcyNjU0OSAyLjk5OTU5TDAgMy42MzA0NUwyLjg2MDE1IDYuMTMxNTdMOCAwLjYzMDg3Mkw3LjI3ODU3IDBMMi44NjAxNSA0Ljg2NTM1WiIvPgo8L3N2Zz4K);
  --jp-icon-undo: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyLjUgOGMtMi42NSAwLTUuMDUuOTktNi45IDIuNkwyIDd2OWg5bC0zLjYyLTMuNjJjMS4zOS0xLjE2IDMuMTYtMS44OCA1LjEyLTEuODggMy41NCAwIDYuNTUgMi4zMSA3LjYgNS41bDIuMzctLjc4QzIxLjA4IDExLjAzIDE3LjE1IDggMTIuNSA4eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-user: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE2IDdhNCA0IDAgMTEtOCAwIDQgNCAwIDAxOCAwek0xMiAxNGE3IDcgMCAwMC03IDdoMTRhNyA3IDAgMDAtNy03eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-users: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM2IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPGcgY2xhc3M9ImpwLWljb24zIiB0cmFuc2Zvcm09Im1hdHJpeCgxLjczMjcgMCAwIDEuNzMyNyAtMy42MjgyIC4wOTk1NzcpIiBmaWxsPSIjNjE2MTYxIj4KICA8cGF0aCB0cmFuc2Zvcm09Im1hdHJpeCgxLjUsMCwwLDEuNSwwLC02KSIgZD0ibTEyLjE4NiA3LjUwOThjLTEuMDUzNSAwLTEuOTc1NyAwLjU2NjUtMi40Nzg1IDEuNDEwMiAwLjc1MDYxIDAuMzEyNzcgMS4zOTc0IDAuODI2NDggMS44NzMgMS40NzI3aDMuNDg2M2MwLTEuNTkyLTEuMjg4OS0yLjg4MjgtMi44ODA5LTIuODgyOHoiLz4KICA8cGF0aCBkPSJtMjAuNDY1IDIuMzg5NWEyLjE4ODUgMi4xODg1IDAgMCAxLTIuMTg4NCAyLjE4ODUgMi4xODg1IDIuMTg4NSAwIDAgMS0yLjE4ODUtMi4xODg1IDIuMTg4NSAyLjE4ODUgMCAwIDEgMi4xODg1LTIuMTg4NSAyLjE4ODUgMi4xODg1IDAgMCAxIDIuMTg4NCAyLjE4ODV6Ii8+CiAgPHBhdGggdHJhbnNmb3JtPSJtYXRyaXgoMS41LDAsMCwxLjUsMCwtNikiIGQ9Im0zLjU4OTggOC40MjE5Yy0xLjExMjYgMC0yLjAxMzcgMC45MDExMS0yLjAxMzcgMi4wMTM3aDIuODE0NWMwLjI2Nzk3LTAuMzczMDkgMC41OTA3LTAuNzA0MzUgMC45NTg5OC0wLjk3ODUyLTAuMzQ0MzMtMC42MTY4OC0xLjAwMzEtMS4wMzUyLTEuNzU5OC0xLjAzNTJ6Ii8+CiAgPHBhdGggZD0ibTYuOTE1NCA0LjYyM2ExLjUyOTQgMS41Mjk0IDAgMCAxLTEuNTI5NCAxLjUyOTQgMS41Mjk0IDEuNTI5NCAwIDAgMS0xLjUyOTQtMS41Mjk0IDEuNTI5NCAxLjUyOTQgMCAwIDEgMS41Mjk0LTEuNTI5NCAxLjUyOTQgMS41Mjk0IDAgMCAxIDEuNTI5NCAxLjUyOTR6Ii8+CiAgPHBhdGggZD0ibTYuMTM1IDEzLjUzNWMwLTMuMjM5MiAyLjYyNTktNS44NjUgNS44NjUtNS44NjUgMy4yMzkyIDAgNS44NjUgMi42MjU5IDUuODY1IDUuODY1eiIvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMy43Njg1IiByPSIyLjk2ODUiLz4KIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-vega: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtaWNvbjEganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMjEyMTIxIj4KICAgIDxwYXRoIGQ9Ik0xMC42IDUuNGwyLjItMy4ySDIuMnY3LjNsNC02LjZ6Ii8+CiAgICA8cGF0aCBkPSJNMTUuOCAyLjJsLTQuNCA2LjZMNyA2LjNsLTQuOCA4djUuNWgxNy42VjIuMmgtNHptLTcgMTUuNEg1LjV2LTQuNGgzLjN2NC40em00LjQgMEg5LjhWOS44aDMuNHY3Ljh6bTQuNCAwaC0zLjRWNi41aDMuNHYxMS4xeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-word: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KIDxnIGNsYXNzPSJqcC1pY29uMiIgZmlsbD0iIzQxNDE0MSI+CiAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+CiA8L2c+CiA8ZyBjbGFzcz0ianAtaWNvbi1hY2NlbnQyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSguNDMgLjA0MDEpIiBmaWxsPSIjZmZmIj4KICA8cGF0aCBkPSJtNC4xNCA4Ljc2cTAuMDY4Mi0xLjg5IDIuNDItMS44OSAxLjE2IDAgMS42OCAwLjQyIDAuNTY3IDAuNDEgMC41NjcgMS4xNnYzLjQ3cTAgMC40NjIgMC41MTQgMC40NjIgMC4xMDMgMCAwLjItMC4wMjMxdjAuNzE0cS0wLjM5OSAwLjEwMy0wLjY1MSAwLjEwMy0wLjQ1MiAwLTAuNjkzLTAuMjItMC4yMzEtMC4yLTAuMjg0LTAuNjYyLTAuOTU2IDAuODcyLTIgMC44NzItMC45MDMgMC0xLjQ3LTAuNDcyLTAuNTI1LTAuNDcyLTAuNTI1LTEuMjYgMC0wLjI2MiAwLjA0NTItMC40NzIgMC4wNTY3LTAuMjIgMC4xMTYtMC4zNzggMC4wNjgyLTAuMTY4IDAuMjMxLTAuMzA0IDAuMTU4LTAuMTQ3IDAuMjYyLTAuMjQyIDAuMTE2LTAuMDkxNCAwLjM2OC0wLjE2OCAwLjI2Mi0wLjA5MTQgMC4zOTktMC4xMjYgMC4xMzYtMC4wNDUyIDAuNDcyLTAuMTAzIDAuMzM2LTAuMDU3OCAwLjUwNC0wLjA3OTggMC4xNTgtMC4wMjMxIDAuNTY3LTAuMDc5OCAwLjU1Ni0wLjA2ODIgMC43NzctMC4yMjEgMC4yMi0wLjE1MiAwLjIyLTAuNDQxdi0wLjI1MnEwLTAuNDMtMC4zNTctMC42NjItMC4zMzYtMC4yMzEtMC45NzYtMC4yMzEtMC42NjIgMC0wLjk5OCAwLjI2Mi0wLjMzNiAwLjI1Mi0wLjM5OSAwLjc5OHptMS44OSAzLjY4cTAuNzg4IDAgMS4yNi0wLjQxIDAuNTA0LTAuNDIgMC41MDQtMC45MDN2LTEuMDVxLTAuMjg0IDAuMTM2LTAuODYxIDAuMjMxLTAuNTY3IDAuMDkxNC0wLjk4NyAwLjE1OC0wLjQyIDAuMDY4Mi0wLjc2NiAwLjMyNi0wLjMzNiAwLjI1Mi0wLjMzNiAwLjcwNHQwLjMwNCAwLjcwNCAwLjg2MSAwLjI1MnoiIHN0cm9rZS13aWR0aD0iMS4wNSIvPgogIDxwYXRoIGQ9Im0xMCA0LjU2aDAuOTQ1djMuMTVxMC42NTEtMC45NzYgMS44OS0wLjk3NiAxLjE2IDAgMS44OSAwLjg0IDAuNjgyIDAuODQgMC42ODIgMi4zMSAwIDEuNDctMC43MDQgMi40Mi0wLjcwNCAwLjg4Mi0xLjg5IDAuODgyLTEuMjYgMC0xLjg5LTEuMDJ2MC43NjZoLTAuODV6bTIuNjIgMy4wNHEtMC43NDYgMC0xLjE2IDAuNjQtMC40NTIgMC42My0wLjQ1MiAxLjY4IDAgMS4wNSAwLjQ1MiAxLjY4dDEuMTYgMC42M3EwLjc3NyAwIDEuMjYtMC42MyAwLjQ5NC0wLjY0IDAuNDk0LTEuNjggMC0xLjA1LTAuNDcyLTEuNjgtMC40NjItMC42NC0xLjI2LTAuNjR6IiBzdHJva2Utd2lkdGg9IjEuMDUiLz4KICA8cGF0aCBkPSJtMi43MyAxNS44IDEzLjYgMC4wMDgxYzAuMDA2OSAwIDAtMi42IDAtMi42IDAtMC4wMDc4LTEuMTUgMC0xLjE1IDAtMC4wMDY5IDAtMC4wMDgzIDEuNS0wLjAwODMgMS41LTJlLTMgLTAuMDAxNC0xMS4zLTAuMDAxNC0xMS4zLTAuMDAxNGwtMC4wMDU5Mi0xLjVjMC0wLjAwNzgtMS4xNyAwLjAwMTMtMS4xNyAwLjAwMTN6IiBzdHJva2Utd2lkdGg9Ii45NzUiLz4KIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-yaml: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtaWNvbi1jb250cmFzdDIganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjRDgxQjYwIj4KICAgIDxwYXRoIGQ9Ik03LjIgMTguNnYtNS40TDMgNS42aDMuM2wxLjQgMy4xYy4zLjkuNiAxLjYgMSAyLjUuMy0uOC42LTEuNiAxLTIuNWwxLjQtMy4xaDMuNGwtNC40IDcuNnY1LjVsLTIuOS0uMXoiLz4KICAgIDxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjE3LjYiIGN5PSIxNi41IiByPSIyLjEiLz4KICAgIDxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjE3LjYiIGN5PSIxMSIgcj0iMi4xIi8+CiAgPC9nPgo8L3N2Zz4K);
}

/* Icon CSS class declarations */

.jp-AddAboveIcon {
  background-image: var(--jp-icon-add-above);
}

.jp-AddBelowIcon {
  background-image: var(--jp-icon-add-below);
}

.jp-AddIcon {
  background-image: var(--jp-icon-add);
}

.jp-BellIcon {
  background-image: var(--jp-icon-bell);
}

.jp-BugDotIcon {
  background-image: var(--jp-icon-bug-dot);
}

.jp-BugIcon {
  background-image: var(--jp-icon-bug);
}

.jp-BuildIcon {
  background-image: var(--jp-icon-build);
}

.jp-CaretDownEmptyIcon {
  background-image: var(--jp-icon-caret-down-empty);
}

.jp-CaretDownEmptyThinIcon {
  background-image: var(--jp-icon-caret-down-empty-thin);
}

.jp-CaretDownIcon {
  background-image: var(--jp-icon-caret-down);
}

.jp-CaretLeftIcon {
  background-image: var(--jp-icon-caret-left);
}

.jp-CaretRightIcon {
  background-image: var(--jp-icon-caret-right);
}

.jp-CaretUpEmptyThinIcon {
  background-image: var(--jp-icon-caret-up-empty-thin);
}

.jp-CaretUpIcon {
  background-image: var(--jp-icon-caret-up);
}

.jp-CaseSensitiveIcon {
  background-image: var(--jp-icon-case-sensitive);
}

.jp-CheckIcon {
  background-image: var(--jp-icon-check);
}

.jp-CircleEmptyIcon {
  background-image: var(--jp-icon-circle-empty);
}

.jp-CircleIcon {
  background-image: var(--jp-icon-circle);
}

.jp-ClearIcon {
  background-image: var(--jp-icon-clear);
}

.jp-CloseIcon {
  background-image: var(--jp-icon-close);
}

.jp-CodeCheckIcon {
  background-image: var(--jp-icon-code-check);
}

.jp-CodeIcon {
  background-image: var(--jp-icon-code);
}

.jp-CollapseAllIcon {
  background-image: var(--jp-icon-collapse-all);
}

.jp-ConsoleIcon {
  background-image: var(--jp-icon-console);
}

.jp-CopyIcon {
  background-image: var(--jp-icon-copy);
}

.jp-CopyrightIcon {
  background-image: var(--jp-icon-copyright);
}

.jp-CutIcon {
  background-image: var(--jp-icon-cut);
}

.jp-DeleteIcon {
  background-image: var(--jp-icon-delete);
}

.jp-DownloadIcon {
  background-image: var(--jp-icon-download);
}

.jp-DuplicateIcon {
  background-image: var(--jp-icon-duplicate);
}

.jp-EditIcon {
  background-image: var(--jp-icon-edit);
}

.jp-EllipsesIcon {
  background-image: var(--jp-icon-ellipses);
}

.jp-ErrorIcon {
  background-image: var(--jp-icon-error);
}

.jp-ExpandAllIcon {
  background-image: var(--jp-icon-expand-all);
}

.jp-ExtensionIcon {
  background-image: var(--jp-icon-extension);
}

.jp-FastForwardIcon {
  background-image: var(--jp-icon-fast-forward);
}

.jp-FileIcon {
  background-image: var(--jp-icon-file);
}

.jp-FileUploadIcon {
  background-image: var(--jp-icon-file-upload);
}

.jp-FilterDotIcon {
  background-image: var(--jp-icon-filter-dot);
}

.jp-FilterIcon {
  background-image: var(--jp-icon-filter);
}

.jp-FilterListIcon {
  background-image: var(--jp-icon-filter-list);
}

.jp-FolderFavoriteIcon {
  background-image: var(--jp-icon-folder-favorite);
}

.jp-FolderIcon {
  background-image: var(--jp-icon-folder);
}

.jp-HomeIcon {
  background-image: var(--jp-icon-home);
}

.jp-Html5Icon {
  background-image: var(--jp-icon-html5);
}

.jp-ImageIcon {
  background-image: var(--jp-icon-image);
}

.jp-InfoIcon {
  background-image: var(--jp-icon-info);
}

.jp-InspectorIcon {
  background-image: var(--jp-icon-inspector);
}

.jp-JsonIcon {
  background-image: var(--jp-icon-json);
}

.jp-JuliaIcon {
  background-image: var(--jp-icon-julia);
}

.jp-JupyterFaviconIcon {
  background-image: var(--jp-icon-jupyter-favicon);
}

.jp-JupyterIcon {
  background-image: var(--jp-icon-jupyter);
}

.jp-JupyterlabWordmarkIcon {
  background-image: var(--jp-icon-jupyterlab-wordmark);
}

.jp-KernelIcon {
  background-image: var(--jp-icon-kernel);
}

.jp-KeyboardIcon {
  background-image: var(--jp-icon-keyboard);
}

.jp-LaunchIcon {
  background-image: var(--jp-icon-launch);
}

.jp-LauncherIcon {
  background-image: var(--jp-icon-launcher);
}

.jp-LineFormIcon {
  background-image: var(--jp-icon-line-form);
}

.jp-LinkIcon {
  background-image: var(--jp-icon-link);
}

.jp-ListIcon {
  background-image: var(--jp-icon-list);
}

.jp-MarkdownIcon {
  background-image: var(--jp-icon-markdown);
}

.jp-MoveDownIcon {
  background-image: var(--jp-icon-move-down);
}

.jp-MoveUpIcon {
  background-image: var(--jp-icon-move-up);
}

.jp-NewFolderIcon {
  background-image: var(--jp-icon-new-folder);
}

.jp-NotTrustedIcon {
  background-image: var(--jp-icon-not-trusted);
}

.jp-NotebookIcon {
  background-image: var(--jp-icon-notebook);
}

.jp-NumberingIcon {
  background-image: var(--jp-icon-numbering);
}

.jp-OfflineBoltIcon {
  background-image: var(--jp-icon-offline-bolt);
}

.jp-PaletteIcon {
  background-image: var(--jp-icon-palette);
}

.jp-PasteIcon {
  background-image: var(--jp-icon-paste);
}

.jp-PdfIcon {
  background-image: var(--jp-icon-pdf);
}

.jp-PythonIcon {
  background-image: var(--jp-icon-python);
}

.jp-RKernelIcon {
  background-image: var(--jp-icon-r-kernel);
}

.jp-ReactIcon {
  background-image: var(--jp-icon-react);
}

.jp-RedoIcon {
  background-image: var(--jp-icon-redo);
}

.jp-RefreshIcon {
  background-image: var(--jp-icon-refresh);
}

.jp-RegexIcon {
  background-image: var(--jp-icon-regex);
}

.jp-RunIcon {
  background-image: var(--jp-icon-run);
}

.jp-RunningIcon {
  background-image: var(--jp-icon-running);
}

.jp-SaveIcon {
  background-image: var(--jp-icon-save);
}

.jp-SearchIcon {
  background-image: var(--jp-icon-search);
}

.jp-SettingsIcon {
  background-image: var(--jp-icon-settings);
}

.jp-ShareIcon {
  background-image: var(--jp-icon-share);
}

.jp-SpreadsheetIcon {
  background-image: var(--jp-icon-spreadsheet);
}

.jp-StopIcon {
  background-image: var(--jp-icon-stop);
}

.jp-TabIcon {
  background-image: var(--jp-icon-tab);
}

.jp-TableRowsIcon {
  background-image: var(--jp-icon-table-rows);
}

.jp-TagIcon {
  background-image: var(--jp-icon-tag);
}

.jp-TerminalIcon {
  background-image: var(--jp-icon-terminal);
}

.jp-TextEditorIcon {
  background-image: var(--jp-icon-text-editor);
}

.jp-TocIcon {
  background-image: var(--jp-icon-toc);
}

.jp-TreeViewIcon {
  background-image: var(--jp-icon-tree-view);
}

.jp-TrustedIcon {
  background-image: var(--jp-icon-trusted);
}

.jp-UndoIcon {
  background-image: var(--jp-icon-undo);
}

.jp-UserIcon {
  background-image: var(--jp-icon-user);
}

.jp-UsersIcon {
  background-image: var(--jp-icon-users);
}

.jp-VegaIcon {
  background-image: var(--jp-icon-vega);
}

.jp-WordIcon {
  background-image: var(--jp-icon-word);
}

.jp-YamlIcon {
  background-image: var(--jp-icon-yaml);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * (DEPRECATED) Support for consuming icons as CSS background images
 */

.jp-Icon,
.jp-MaterialIcon {
  background-position: center;
  background-repeat: no-repeat;
  background-size: 16px;
  min-width: 16px;
  min-height: 16px;
}

.jp-Icon-cover {
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}

/**
 * (DEPRECATED) Support for specific CSS icon sizes
 */

.jp-Icon-16 {
  background-size: 16px;
  min-width: 16px;
  min-height: 16px;
}

.jp-Icon-18 {
  background-size: 18px;
  min-width: 18px;
  min-height: 18px;
}

.jp-Icon-20 {
  background-size: 20px;
  min-width: 20px;
  min-height: 20px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.lm-TabBar .lm-TabBar-addButton {
  align-items: center;
  display: flex;
  padding: 4px;
  padding-bottom: 5px;
  margin-right: 1px;
  background-color: var(--jp-layout-color2);
}

.lm-TabBar .lm-TabBar-addButton:hover {
  background-color: var(--jp-layout-color1);
}

.lm-DockPanel-tabBar .lm-TabBar-tab {
  width: var(--jp-private-horizontal-tab-width);
}

.lm-DockPanel-tabBar .lm-TabBar-content {
  flex: unset;
}

.lm-DockPanel-tabBar[data-orientation='horizontal'] {
  flex: 1 1 auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * Support for icons as inline SVG HTMLElements
 */

/* recolor the primary elements of an icon */
.jp-icon0[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon1[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon2[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon3[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon4[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon0[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon1[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon2[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon3[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon4[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/* recolor the accent elements of an icon */
.jp-icon-accent0[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-accent1[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-accent2[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-accent3[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-accent4[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-accent0[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-accent1[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-accent2[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-accent3[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-accent4[stroke] {
  stroke: var(--jp-layout-color4);
}

/* set the color of an icon to transparent */
.jp-icon-none[fill] {
  fill: none;
}

.jp-icon-none[stroke] {
  stroke: none;
}

/* brand icon colors. Same for light and dark */
.jp-icon-brand0[fill] {
  fill: var(--jp-brand-color0);
}

.jp-icon-brand1[fill] {
  fill: var(--jp-brand-color1);
}

.jp-icon-brand2[fill] {
  fill: var(--jp-brand-color2);
}

.jp-icon-brand3[fill] {
  fill: var(--jp-brand-color3);
}

.jp-icon-brand4[fill] {
  fill: var(--jp-brand-color4);
}

.jp-icon-brand0[stroke] {
  stroke: var(--jp-brand-color0);
}

.jp-icon-brand1[stroke] {
  stroke: var(--jp-brand-color1);
}

.jp-icon-brand2[stroke] {
  stroke: var(--jp-brand-color2);
}

.jp-icon-brand3[stroke] {
  stroke: var(--jp-brand-color3);
}

.jp-icon-brand4[stroke] {
  stroke: var(--jp-brand-color4);
}

/* warn icon colors. Same for light and dark */
.jp-icon-warn0[fill] {
  fill: var(--jp-warn-color0);
}

.jp-icon-warn1[fill] {
  fill: var(--jp-warn-color1);
}

.jp-icon-warn2[fill] {
  fill: var(--jp-warn-color2);
}

.jp-icon-warn3[fill] {
  fill: var(--jp-warn-color3);
}

.jp-icon-warn0[stroke] {
  stroke: var(--jp-warn-color0);
}

.jp-icon-warn1[stroke] {
  stroke: var(--jp-warn-color1);
}

.jp-icon-warn2[stroke] {
  stroke: var(--jp-warn-color2);
}

.jp-icon-warn3[stroke] {
  stroke: var(--jp-warn-color3);
}

/* icon colors that contrast well with each other and most backgrounds */
.jp-icon-contrast0[fill] {
  fill: var(--jp-icon-contrast-color0);
}

.jp-icon-contrast1[fill] {
  fill: var(--jp-icon-contrast-color1);
}

.jp-icon-contrast2[fill] {
  fill: var(--jp-icon-contrast-color2);
}

.jp-icon-contrast3[fill] {
  fill: var(--jp-icon-contrast-color3);
}

.jp-icon-contrast0[stroke] {
  stroke: var(--jp-icon-contrast-color0);
}

.jp-icon-contrast1[stroke] {
  stroke: var(--jp-icon-contrast-color1);
}

.jp-icon-contrast2[stroke] {
  stroke: var(--jp-icon-contrast-color2);
}

.jp-icon-contrast3[stroke] {
  stroke: var(--jp-icon-contrast-color3);
}

.jp-icon-dot[fill] {
  fill: var(--jp-warn-color0);
}

.jp-jupyter-icon-color[fill] {
  fill: var(--jp-jupyter-icon-color, var(--jp-warn-color0));
}

.jp-notebook-icon-color[fill] {
  fill: var(--jp-notebook-icon-color, var(--jp-warn-color0));
}

.jp-json-icon-color[fill] {
  fill: var(--jp-json-icon-color, var(--jp-warn-color1));
}

.jp-console-icon-color[fill] {
  fill: var(--jp-console-icon-color, white);
}

.jp-console-icon-background-color[fill] {
  fill: var(--jp-console-icon-background-color, var(--jp-brand-color1));
}

.jp-terminal-icon-color[fill] {
  fill: var(--jp-terminal-icon-color, var(--jp-layout-color2));
}

.jp-terminal-icon-background-color[fill] {
  fill: var(
    --jp-terminal-icon-background-color,
    var(--jp-inverse-layout-color2)
  );
}

.jp-text-editor-icon-color[fill] {
  fill: var(--jp-text-editor-icon-color, var(--jp-inverse-layout-color3));
}

.jp-inspector-icon-color[fill] {
  fill: var(--jp-inspector-icon-color, var(--jp-inverse-layout-color3));
}

/* CSS for icons in selected filebrowser listing items */
.jp-DirListing-item.jp-mod-selected .jp-icon-selectable[fill] {
  fill: #fff;
}

.jp-DirListing-item.jp-mod-selected .jp-icon-selectable-inverse[fill] {
  fill: var(--jp-brand-color1);
}

/* stylelint-disable selector-max-class, selector-max-compound-selectors */

/**
* TODO: come up with non css-hack solution for showing the busy icon on top
*  of the close icon
* CSS for complex behavior of close icon of tabs in the main area tabbar
*/
.lm-DockPanel-tabBar
  .lm-TabBar-tab.lm-mod-closable.jp-mod-dirty
  > .lm-TabBar-tabCloseIcon
  > :not(:hover)
  > .jp-icon3[fill] {
  fill: none;
}

.lm-DockPanel-tabBar
  .lm-TabBar-tab.lm-mod-closable.jp-mod-dirty
  > .lm-TabBar-tabCloseIcon
  > :not(:hover)
  > .jp-icon-busy[fill] {
  fill: var(--jp-inverse-layout-color3);
}

/* stylelint-enable selector-max-class, selector-max-compound-selectors */

/* CSS for icons in status bar */
#jp-main-statusbar .jp-mod-selected .jp-icon-selectable[fill] {
  fill: #fff;
}

#jp-main-statusbar .jp-mod-selected .jp-icon-selectable-inverse[fill] {
  fill: var(--jp-brand-color1);
}

/* special handling for splash icon CSS. While the theme CSS reloads during
   splash, the splash icon can loose theming. To prevent that, we set a
   default for its color variable */
:root {
  --jp-warn-color0: var(--md-orange-700);
}

/* not sure what to do with this one, used in filebrowser listing */
.jp-DragIcon {
  margin-right: 4px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * Support for alt colors for icons as inline SVG HTMLElements
 */

/* alt recolor the primary elements of an icon */
.jp-icon-alt .jp-icon0[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-alt .jp-icon1[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-alt .jp-icon2[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-alt .jp-icon3[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-alt .jp-icon4[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-alt .jp-icon0[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-alt .jp-icon1[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-alt .jp-icon2[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-alt .jp-icon3[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-alt .jp-icon4[stroke] {
  stroke: var(--jp-layout-color4);
}

/* alt recolor the accent elements of an icon */
.jp-icon-alt .jp-icon-accent0[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon-alt .jp-icon-accent1[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon-alt .jp-icon-accent2[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon-alt .jp-icon-accent3[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon-alt .jp-icon-accent4[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon-alt .jp-icon-accent0[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon-alt .jp-icon-accent1[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon-alt .jp-icon-accent2[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon-alt .jp-icon-accent3[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon-alt .jp-icon-accent4[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-icon-hoverShow:not(:hover) .jp-icon-hoverShow-content {
  display: none !important;
}

/**
 * Support for hover colors for icons as inline SVG HTMLElements
 */

/**
 * regular colors
 */

/* recolor the primary elements of an icon */
.jp-icon-hover :hover .jp-icon0-hover[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon-hover :hover .jp-icon1-hover[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon-hover :hover .jp-icon2-hover[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon-hover :hover .jp-icon3-hover[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon-hover :hover .jp-icon4-hover[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon-hover :hover .jp-icon0-hover[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon-hover :hover .jp-icon1-hover[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon-hover :hover .jp-icon2-hover[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon-hover :hover .jp-icon3-hover[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon-hover :hover .jp-icon4-hover[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/* recolor the accent elements of an icon */
.jp-icon-hover :hover .jp-icon-accent0-hover[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-hover :hover .jp-icon-accent1-hover[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-hover :hover .jp-icon-accent2-hover[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-hover :hover .jp-icon-accent3-hover[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-hover :hover .jp-icon-accent4-hover[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-hover :hover .jp-icon-accent0-hover[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-hover :hover .jp-icon-accent1-hover[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-hover :hover .jp-icon-accent2-hover[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-hover :hover .jp-icon-accent3-hover[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-hover :hover .jp-icon-accent4-hover[stroke] {
  stroke: var(--jp-layout-color4);
}

/* set the color of an icon to transparent */
.jp-icon-hover :hover .jp-icon-none-hover[fill] {
  fill: none;
}

.jp-icon-hover :hover .jp-icon-none-hover[stroke] {
  stroke: none;
}

/**
 * inverse colors
 */

/* inverse recolor the primary elements of an icon */
.jp-icon-hover.jp-icon-alt :hover .jp-icon0-hover[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon1-hover[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon2-hover[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon3-hover[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon4-hover[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon0-hover[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon1-hover[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon2-hover[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon3-hover[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon4-hover[stroke] {
  stroke: var(--jp-layout-color4);
}

/* inverse recolor the accent elements of an icon */
.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent0-hover[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent1-hover[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent2-hover[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent3-hover[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent4-hover[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent0-hover[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent1-hover[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent2-hover[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent3-hover[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent4-hover[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-IFrame {
  width: 100%;
  height: 100%;
}

.jp-IFrame > iframe {
  border: none;
}

/*
When drag events occur, `lm-mod-override-cursor` is added to the body.
Because iframes steal all cursor events, the following two rules are necessary
to suppress pointer events while resize drags are occurring. There may be a
better solution to this problem.
*/
body.lm-mod-override-cursor .jp-IFrame {
  position: relative;
}

body.lm-mod-override-cursor .jp-IFrame::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-HoverBox {
  position: fixed;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-FormGroup-content fieldset {
  border: none;
  padding: 0;
  min-width: 0;
  width: 100%;
}

/* stylelint-disable selector-max-type */

.jp-FormGroup-content fieldset .jp-inputFieldWrapper input,
.jp-FormGroup-content fieldset .jp-inputFieldWrapper select,
.jp-FormGroup-content fieldset .jp-inputFieldWrapper textarea {
  font-size: var(--jp-content-font-size2);
  border-color: var(--jp-input-border-color);
  border-style: solid;
  border-radius: var(--jp-border-radius);
  border-width: 1px;
  padding: 6px 8px;
  background: none;
  color: var(--jp-ui-font-color0);
  height: inherit;
}

.jp-FormGroup-content fieldset input[type='checkbox'] {
  position: relative;
  top: 2px;
  margin-left: 0;
}

.jp-FormGroup-content button.jp-mod-styled {
  cursor: pointer;
}

.jp-FormGroup-content .checkbox label {
  cursor: pointer;
  font-size: var(--jp-content-font-size1);
}

.jp-FormGroup-content .jp-root > fieldset > legend {
  display: none;
}

.jp-FormGroup-content .jp-root > fieldset > p {
  display: none;
}

/** copy of `input.jp-mod-styled:focus` style */
.jp-FormGroup-content fieldset input:focus,
.jp-FormGroup-content fieldset select:focus {
  -moz-outline-radius: unset;
  outline: var(--jp-border-width) solid var(--md-blue-500);
  outline-offset: -1px;
  box-shadow: inset 0 0 4px var(--md-blue-300);
}

.jp-FormGroup-content fieldset input:hover:not(:focus),
.jp-FormGroup-content fieldset select:hover:not(:focus) {
  background-color: var(--jp-border-color2);
}

/* stylelint-enable selector-max-type */

.jp-FormGroup-content .checkbox .field-description {
  /* Disable default description field for checkbox:
   because other widgets do not have description fields,
   we add descriptions to each widget on the field level.
  */
  display: none;
}

.jp-FormGroup-content #root__description {
  display: none;
}

.jp-FormGroup-content .jp-modifiedIndicator {
  width: 5px;
  background-color: var(--jp-brand-color2);
  margin-top: 0;
  margin-left: calc(var(--jp-private-settingeditor-modifier-indent) * -1);
  flex-shrink: 0;
}

.jp-FormGroup-content .jp-modifiedIndicator.jp-errorIndicator {
  background-color: var(--jp-error-color0);
  margin-right: 0.5em;
}

/* RJSF ARRAY style */

.jp-arrayFieldWrapper legend {
  font-size: var(--jp-content-font-size2);
  color: var(--jp-ui-font-color0);
  flex-basis: 100%;
  padding: 4px 0;
  font-weight: var(--jp-content-heading-font-weight);
  border-bottom: 1px solid var(--jp-border-color2);
}

.jp-arrayFieldWrapper .field-description {
  padding: 4px 0;
  white-space: pre-wrap;
}

.jp-arrayFieldWrapper .array-item {
  width: 100%;
  border: 1px solid var(--jp-border-color2);
  border-radius: 4px;
  margin: 4px;
}

.jp-ArrayOperations {
  display: flex;
  margin-left: 8px;
}

.jp-ArrayOperationsButton {
  margin: 2px;
}

.jp-ArrayOperationsButton .jp-icon3[fill] {
  fill: var(--jp-ui-font-color0);
}

button.jp-ArrayOperationsButton.jp-mod-styled:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

/* RJSF form validation error */

.jp-FormGroup-content .validationErrors {
  color: var(--jp-error-color0);
}

/* Hide panel level error as duplicated the field level error */
.jp-FormGroup-content .panel.errors {
  display: none;
}

/* RJSF normal content (settings-editor) */

.jp-FormGroup-contentNormal {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}

.jp-FormGroup-contentNormal .jp-FormGroup-contentItem {
  margin-left: 7px;
  color: var(--jp-ui-font-color0);
}

.jp-FormGroup-contentNormal .jp-FormGroup-description {
  flex-basis: 100%;
  padding: 4px 7px;
}

.jp-FormGroup-contentNormal .jp-FormGroup-default {
  flex-basis: 100%;
  padding: 4px 7px;
}

.jp-FormGroup-contentNormal .jp-FormGroup-fieldLabel {
  font-size: var(--jp-content-font-size1);
  font-weight: normal;
  min-width: 120px;
}

.jp-FormGroup-contentNormal fieldset:not(:first-child) {
  margin-left: 7px;
}

.jp-FormGroup-contentNormal .field-array-of-string .array-item {
  /* Display `jp-ArrayOperations` buttons side-by-side with content except
    for small screens where flex-wrap will place them one below the other.
  */
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}

.jp-FormGroup-contentNormal .jp-objectFieldWrapper .form-group {
  padding: 2px 8px 2px var(--jp-private-settingeditor-modifier-indent);
  margin-top: 2px;
}

/* RJSF compact content (metadata-form) */

.jp-FormGroup-content.jp-FormGroup-contentCompact {
  width: 100%;
}

.jp-FormGroup-contentCompact .form-group {
  display: flex;
  padding: 0.5em 0.2em 0.5em 0;
}

.jp-FormGroup-contentCompact
  .jp-FormGroup-compactTitle
  .jp-FormGroup-description {
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color2);
}

.jp-FormGroup-contentCompact .jp-FormGroup-fieldLabel {
  padding-bottom: 0.3em;
}

.jp-FormGroup-contentCompact .jp-inputFieldWrapper .form-control {
  width: 100%;
  box-sizing: border-box;
}

.jp-FormGroup-contentCompact .jp-arrayFieldWrapper .jp-FormGroup-compactTitle {
  padding-bottom: 7px;
}

.jp-FormGroup-contentCompact
  .jp-objectFieldWrapper
  .jp-objectFieldWrapper
  .form-group {
  padding: 2px 8px 2px var(--jp-private-settingeditor-modifier-indent);
  margin-top: 2px;
}

.jp-FormGroup-contentCompact ul.error-detail {
  margin-block-start: 0.5em;
  margin-block-end: 0.5em;
  padding-inline-start: 1em;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-SidePanel {
  display: flex;
  flex-direction: column;
  min-width: var(--jp-sidebar-min-width);
  overflow-y: auto;
  color: var(--jp-ui-font-color1);
  background: var(--jp-layout-color1);
  font-size: var(--jp-ui-font-size1);
}

.jp-SidePanel-header {
  flex: 0 0 auto;
  display: flex;
  border-bottom: var(--jp-border-width) solid var(--jp-border-color2);
  font-size: var(--jp-ui-font-size0);
  font-weight: 600;
  letter-spacing: 1px;
  margin: 0;
  padding: 2px;
  text-transform: uppercase;
}

.jp-SidePanel-toolbar {
  flex: 0 0 auto;
}

.jp-SidePanel-content {
  flex: 1 1 auto;
}

.jp-SidePanel-toolbar,
.jp-AccordionPanel-toolbar {
  height: var(--jp-private-toolbar-height);
}

.jp-SidePanel-toolbar.jp-Toolbar-micro {
  display: none;
}

.lm-AccordionPanel .jp-AccordionPanel-title {
  box-sizing: border-box;
  line-height: 25px;
  margin: 0;
  display: flex;
  align-items: center;
  background: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  box-shadow: var(--jp-toolbar-box-shadow);
  font-size: var(--jp-ui-font-size0);
}

.jp-AccordionPanel-title {
  cursor: pointer;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  text-transform: uppercase;
}

.lm-AccordionPanel[data-orientation='horizontal'] > .jp-AccordionPanel-title {
  /* Title is rotated for horizontal accordion panel using CSS */
  display: block;
  transform-origin: top left;
  transform: rotate(-90deg) translate(-100%);
}

.jp-AccordionPanel-title .lm-AccordionPanel-titleLabel {
  user-select: none;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

.jp-AccordionPanel-title .lm-AccordionPanel-titleCollapser {
  transform: rotate(-90deg);
  margin: auto 0;
  height: 16px;
}

.jp-AccordionPanel-title.lm-mod-expanded .lm-AccordionPanel-titleCollapser {
  transform: rotate(0deg);
}

.lm-AccordionPanel .jp-AccordionPanel-toolbar {
  background: none;
  box-shadow: none;
  border: none;
  margin-left: auto;
}

.lm-AccordionPanel .lm-SplitPanel-handle:hover {
  background: var(--jp-layout-color3);
}

.jp-text-truncated {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Spinner {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: var(--jp-layout-color0);
  outline: none;
}

.jp-SpinnerContent {
  font-size: 10px;
  margin: 50px auto;
  text-indent: -9999em;
  width: 3em;
  height: 3em;
  border-radius: 50%;
  background: var(--jp-brand-color3);
  background: linear-gradient(
    to right,
    #f37626 10%,
    rgba(255, 255, 255, 0) 42%
  );
  position: relative;
  animation: load3 1s infinite linear, fadeIn 1s;
}

.jp-SpinnerContent::before {
  width: 50%;
  height: 50%;
  background: #f37626;
  border-radius: 100% 0 0;
  position: absolute;
  top: 0;
  left: 0;
  content: '';
}

.jp-SpinnerContent::after {
  background: var(--jp-layout-color0);
  width: 75%;
  height: 75%;
  border-radius: 50%;
  content: '';
  margin: auto;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes load3 {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

button.jp-mod-styled {
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color0);
  border: none;
  box-sizing: border-box;
  text-align: center;
  line-height: 32px;
  height: 32px;
  padding: 0 12px;
  letter-spacing: 0.8px;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

input.jp-mod-styled {
  background: var(--jp-input-background);
  height: 28px;
  box-sizing: border-box;
  border: var(--jp-border-width) solid var(--jp-border-color1);
  padding-left: 7px;
  padding-right: 7px;
  font-size: var(--jp-ui-font-size2);
  color: var(--jp-ui-font-color0);
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

input[type='checkbox'].jp-mod-styled {
  appearance: checkbox;
  -webkit-appearance: checkbox;
  -moz-appearance: checkbox;
  height: auto;
}

input.jp-mod-styled:focus {
  border: var(--jp-border-width) solid var(--md-blue-500);
  box-shadow: inset 0 0 4px var(--md-blue-300);
}

.jp-select-wrapper {
  display: flex;
  position: relative;
  flex-direction: column;
  padding: 1px;
  background-color: var(--jp-layout-color1);
  box-sizing: border-box;
  margin-bottom: 12px;
}

.jp-select-wrapper:not(.multiple) {
  height: 28px;
}

.jp-select-wrapper.jp-mod-focused select.jp-mod-styled {
  border: var(--jp-border-width) solid var(--jp-input-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
  background-color: var(--jp-input-active-background);
}

select.jp-mod-styled:hover {
  cursor: pointer;
  color: var(--jp-ui-font-color0);
  background-color: var(--jp-input-hover-background);
  box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.5);
}

select.jp-mod-styled {
  flex: 1 1 auto;
  width: 100%;
  font-size: var(--jp-ui-font-size2);
  background: var(--jp-input-background);
  color: var(--jp-ui-font-color0);
  padding: 0 25px 0 8px;
  border: var(--jp-border-width) solid var(--jp-input-border-color);
  border-radius: 0;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

select.jp-mod-styled:not([multiple]) {
  height: 32px;
}

select.jp-mod-styled[multiple] {
  max-height: 200px;
  overflow-y: auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-switch {
  display: flex;
  align-items: center;
  padding-left: 4px;
  padding-right: 4px;
  font-size: var(--jp-ui-font-size1);
  background-color: transparent;
  color: var(--jp-ui-font-color1);
  border: none;
  height: 20px;
}

.jp-switch:hover {
  background-color: var(--jp-layout-color2);
}

.jp-switch-label {
  margin-right: 5px;
  font-family: var(--jp-ui-font-family);
}

.jp-switch-track {
  cursor: pointer;
  background-color: var(--jp-switch-color, var(--jp-border-color1));
  -webkit-transition: 0.4s;
  transition: 0.4s;
  border-radius: 34px;
  height: 16px;
  width: 35px;
  position: relative;
}

.jp-switch-track::before {
  content: '';
  position: absolute;
  height: 10px;
  width: 10px;
  margin: 3px;
  left: 0;
  background-color: var(--jp-ui-inverse-font-color1);
  -webkit-transition: 0.4s;
  transition: 0.4s;
  border-radius: 50%;
}

.jp-switch[aria-checked='true'] .jp-switch-track {
  background-color: var(--jp-switch-true-position-color, var(--jp-warn-color0));
}

.jp-switch[aria-checked='true'] .jp-switch-track::before {
  /* track width (35) - margins (3 + 3) - thumb width (10) */
  left: 19px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

:root {
  --jp-private-toolbar-height: calc(
    28px + var(--jp-border-width)
  ); /* leave 28px for content */
}

.jp-Toolbar {
  color: var(--jp-ui-font-color1);
  flex: 0 0 auto;
  display: flex;
  flex-direction: row;
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  box-shadow: var(--jp-toolbar-box-shadow);
  background: var(--jp-toolbar-background);
  min-height: var(--jp-toolbar-micro-height);
  padding: 2px;
  z-index: 8;
  overflow-x: hidden;
}

/* Toolbar items */

.jp-Toolbar > .jp-Toolbar-item.jp-Toolbar-spacer {
  flex-grow: 1;
  flex-shrink: 1;
}

.jp-Toolbar-item.jp-Toolbar-kernelStatus {
  display: inline-block;
  width: 32px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 16px;
}

.jp-Toolbar > .jp-Toolbar-item {
  flex: 0 0 auto;
  display: flex;
  padding-left: 1px;
  padding-right: 1px;
  font-size: var(--jp-ui-font-size1);
  line-height: var(--jp-private-toolbar-height);
  height: 100%;
}

/* Toolbar buttons */

/* This is the div we use to wrap the react component into a Widget */
div.jp-ToolbarButton {
  color: transparent;
  border: none;
  box-sizing: border-box;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding: 0;
  margin: 0;
}

button.jp-ToolbarButtonComponent {
  background: var(--jp-layout-color1);
  border: none;
  box-sizing: border-box;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding: 0 6px;
  margin: 0;
  height: 24px;
  border-radius: var(--jp-border-radius);
  display: flex;
  align-items: center;
  text-align: center;
  font-size: 14px;
  min-width: unset;
  min-height: unset;
}

button.jp-ToolbarButtonComponent:disabled {
  opacity: 0.4;
}

button.jp-ToolbarButtonComponent > span {
  padding: 0;
  flex: 0 0 auto;
}

button.jp-ToolbarButtonComponent .jp-ToolbarButtonComponent-label {
  font-size: var(--jp-ui-font-size1);
  line-height: 100%;
  padding-left: 2px;
  color: var(--jp-ui-font-color1);
  font-family: var(--jp-ui-font-family);
}

#jp-main-dock-panel[data-mode='single-document']
  .jp-MainAreaWidget
  > .jp-Toolbar.jp-Toolbar-micro {
  padding: 0;
  min-height: 0;
}

#jp-main-dock-panel[data-mode='single-document']
  .jp-MainAreaWidget
  > .jp-Toolbar {
  border: none;
  box-shadow: none;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-WindowedPanel-outer {
  position: relative;
  overflow-y: auto;
}

.jp-WindowedPanel-inner {
  position: relative;
}

.jp-WindowedPanel-window {
  position: absolute;
  left: 0;
  right: 0;
  overflow: visible;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/* Sibling imports */

body {
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
}

/* Disable native link decoration styles everywhere outside of dialog boxes */
a {
  text-decoration: unset;
  color: unset;
}

a:hover {
  text-decoration: unset;
  color: unset;
}

/* Accessibility for links inside dialog box text */
.jp-Dialog-content a {
  text-decoration: revert;
  color: var(--jp-content-link-color);
}

.jp-Dialog-content a:hover {
  text-decoration: revert;
}

/* Styles for ui-components */
.jp-Button {
  color: var(--jp-ui-font-color2);
  border-radius: var(--jp-border-radius);
  padding: 0 12px;
  font-size: var(--jp-ui-font-size1);

  /* Copy from blueprint 3 */
  display: inline-flex;
  flex-direction: row;
  border: none;
  cursor: pointer;
  align-items: center;
  justify-content: center;
  text-align: left;
  vertical-align: middle;
  min-height: 30px;
  min-width: 30px;
}

.jp-Button:disabled {
  cursor: not-allowed;
}

.jp-Button:empty {
  padding: 0 !important;
}

.jp-Button.jp-mod-small {
  min-height: 24px;
  min-width: 24px;
  font-size: 12px;
  padding: 0 7px;
}

/* Use our own theme for hover styles */
.jp-Button.jp-mod-minimal:hover {
  background-color: var(--jp-layout-color2);
}

.jp-Button.jp-mod-minimal {
  background: none;
}

.jp-InputGroup {
  display: block;
  position: relative;
}

.jp-InputGroup input {
  box-sizing: border-box;
  border: none;
  border-radius: 0;
  background-color: transparent;
  color: var(--jp-ui-font-color0);
  box-shadow: inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color);
  padding-bottom: 0;
  padding-top: 0;
  padding-left: 10px;
  padding-right: 28px;
  position: relative;
  width: 100%;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  font-size: 14px;
  font-weight: 400;
  height: 30px;
  line-height: 30px;
  outline: none;
  vertical-align: middle;
}

.jp-InputGroup input:focus {
  box-shadow: inset 0 0 0 var(--jp-border-width)
      var(--jp-input-active-box-shadow-color),
    inset 0 0 0 3px var(--jp-input-active-box-shadow-color);
}

.jp-InputGroup input:disabled {
  cursor: not-allowed;
  resize: block;
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color2);
}

.jp-InputGroup input:disabled ~ span {
  cursor: not-allowed;
  color: var(--jp-ui-font-color2);
}

.jp-InputGroup input::placeholder,
input::placeholder {
  color: var(--jp-ui-font-color2);
}

.jp-InputGroupAction {
  position: absolute;
  bottom: 1px;
  right: 0;
  padding: 6px;
}

.jp-HTMLSelect.jp-DefaultStyle select {
  background-color: initial;
  border: none;
  border-radius: 0;
  box-shadow: none;
  color: var(--jp-ui-font-color0);
  display: block;
  font-size: var(--jp-ui-font-size1);
  font-family: var(--jp-ui-font-family);
  height: 24px;
  line-height: 14px;
  padding: 0 25px 0 10px;
  text-align: left;
  -moz-appearance: none;
  -webkit-appearance: none;
}

.jp-HTMLSelect.jp-DefaultStyle select:disabled {
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color2);
  cursor: not-allowed;
  resize: block;
}

.jp-HTMLSelect.jp-DefaultStyle select:disabled ~ span {
  cursor: not-allowed;
}

/* Use our own theme for hover and option styles */
/* stylelint-disable-next-line selector-max-type */
.jp-HTMLSelect.jp-DefaultStyle select:hover,
.jp-HTMLSelect.jp-DefaultStyle select > option {
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color0);
}

select {
  box-sizing: border-box;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Styles
|----------------------------------------------------------------------------*/

.jp-StatusBar-Widget {
  display: flex;
  align-items: center;
  background: var(--jp-layout-color2);
  min-height: var(--jp-statusbar-height);
  justify-content: space-between;
  padding: 0 10px;
}

.jp-StatusBar-Left {
  display: flex;
  align-items: center;
  flex-direction: row;
}

.jp-StatusBar-Middle {
  display: flex;
  align-items: center;
}

.jp-StatusBar-Right {
  display: flex;
  align-items: center;
  flex-direction: row-reverse;
}

.jp-StatusBar-Item {
  max-height: var(--jp-statusbar-height);
  margin: 0 2px;
  height: var(--jp-statusbar-height);
  white-space: nowrap;
  text-overflow: ellipsis;
  color: var(--jp-ui-font-color1);
  padding: 0 6px;
}

.jp-mod-highlighted:hover {
  background-color: var(--jp-layout-color3);
}

.jp-mod-clicked {
  background-color: var(--jp-brand-color1);
}

.jp-mod-clicked:hover {
  background-color: var(--jp-brand-color0);
}

.jp-mod-clicked .jp-StatusBar-TextItem {
  color: var(--jp-ui-inverse-font-color1);
}

.jp-StatusBar-HoverItem {
  box-shadow: '0px 4px 4px rgba(0, 0, 0, 0.25)';
}

.jp-StatusBar-TextItem {
  font-size: var(--jp-ui-font-size1);
  font-family: var(--jp-ui-font-family);
  line-height: 24px;
  color: var(--jp-ui-font-color1);
}

.jp-StatusBar-GroupItem {
  display: flex;
  align-items: center;
  flex-direction: row;
}

.jp-Statusbar-ProgressCircle svg {
  display: block;
  margin: 0 auto;
  width: 16px;
  height: 24px;
  align-self: normal;
}

.jp-Statusbar-ProgressCircle path {
  fill: var(--jp-inverse-layout-color3);
}

.jp-Statusbar-ProgressBar-progress-bar {
  height: 10px;
  width: 100px;
  border: solid 0.25px var(--jp-brand-color2);
  border-radius: 3px;
  overflow: hidden;
  align-self: center;
}

.jp-Statusbar-ProgressBar-progress-bar > div {
  background-color: var(--jp-brand-color2);
  background-image: linear-gradient(
    -45deg,
    rgba(255, 255, 255, 0.2) 25%,
    transparent 25%,
    transparent 50%,
    rgba(255, 255, 255, 0.2) 50%,
    rgba(255, 255, 255, 0.2) 75%,
    transparent 75%,
    transparent
  );
  background-size: 40px 40px;
  float: left;
  width: 0%;
  height: 100%;
  font-size: 12px;
  line-height: 14px;
  color: #fff;
  text-align: center;
  animation: jp-Statusbar-ExecutionTime-progress-bar 2s linear infinite;
}

.jp-Statusbar-ProgressBar-progress-bar p {
  color: var(--jp-ui-font-color1);
  font-family: var(--jp-ui-font-family);
  font-size: var(--jp-ui-font-size1);
  line-height: 10px;
  width: 100px;
}

@keyframes jp-Statusbar-ExecutionTime-progress-bar {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 40px 40px;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

:root {
  --jp-private-commandpalette-search-height: 28px;
}

/*-----------------------------------------------------------------------------
| Overall styles
|----------------------------------------------------------------------------*/

.lm-CommandPalette {
  padding-bottom: 0;
  color: var(--jp-ui-font-color1);
  background: var(--jp-layout-color1);

  /* This is needed so that all font sizing of children done in ems is
   * relative to this base size */
  font-size: var(--jp-ui-font-size1);
}

/*-----------------------------------------------------------------------------
| Modal variant
|----------------------------------------------------------------------------*/

.jp-ModalCommandPalette {
  position: absolute;
  z-index: 10000;
  top: 38px;
  left: 30%;
  margin: 0;
  padding: 4px;
  width: 40%;
  box-shadow: var(--jp-elevation-z4);
  border-radius: 4px;
  background: var(--jp-layout-color0);
}

.jp-ModalCommandPalette .lm-CommandPalette {
  max-height: 40vh;
}

.jp-ModalCommandPalette .lm-CommandPalette .lm-close-icon::after {
  display: none;
}

.jp-ModalCommandPalette .lm-CommandPalette .lm-CommandPalette-header {
  display: none;
}

.jp-ModalCommandPalette .lm-CommandPalette .lm-CommandPalette-item {
  margin-left: 4px;
  margin-right: 4px;
}

.jp-ModalCommandPalette
  .lm-CommandPalette
  .lm-CommandPalette-item.lm-mod-disabled {
  display: none;
}

/*-----------------------------------------------------------------------------
| Search
|----------------------------------------------------------------------------*/

.lm-CommandPalette-search {
  padding: 4px;
  background-color: var(--jp-layout-color1);
  z-index: 2;
}

.lm-CommandPalette-wrapper {
  overflow: overlay;
  padding: 0 9px;
  background-color: var(--jp-input-active-background);
  height: 30px;
  box-shadow: inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color);
}

.lm-CommandPalette.lm-mod-focused .lm-CommandPalette-wrapper {
  box-shadow: inset 0 0 0 1px var(--jp-input-active-box-shadow-color),
    inset 0 0 0 3px var(--jp-input-active-box-shadow-color);
}

.jp-SearchIconGroup {
  color: white;
  background-color: var(--jp-brand-color1);
  position: absolute;
  top: 4px;
  right: 4px;
  padding: 5px 5px 1px;
}

.jp-SearchIconGroup svg {
  height: 20px;
  width: 20px;
}

.jp-SearchIconGroup .jp-icon3[fill] {
  fill: var(--jp-layout-color0);
}

.lm-CommandPalette-input {
  background: transparent;
  width: calc(100% - 18px);
  float: left;
  border: none;
  outline: none;
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color0);
  line-height: var(--jp-private-commandpalette-search-height);
}

.lm-CommandPalette-input::-webkit-input-placeholder,
.lm-CommandPalette-input::-moz-placeholder,
.lm-CommandPalette-input:-ms-input-placeholder {
  color: var(--jp-ui-font-color2);
  font-size: var(--jp-ui-font-size1);
}

/*-----------------------------------------------------------------------------
| Results
|----------------------------------------------------------------------------*/

.lm-CommandPalette-header:first-child {
  margin-top: 0;
}

.lm-CommandPalette-header {
  border-bottom: solid var(--jp-border-width) var(--jp-border-color2);
  color: var(--jp-ui-font-color1);
  cursor: pointer;
  display: flex;
  font-size: var(--jp-ui-font-size0);
  font-weight: 600;
  letter-spacing: 1px;
  margin-top: 8px;
  padding: 8px 0 8px 12px;
  text-transform: uppercase;
}

.lm-CommandPalette-header.lm-mod-active {
  background: var(--jp-layout-color2);
}

.lm-CommandPalette-header > mark {
  background-color: transparent;
  font-weight: bold;
  color: var(--jp-ui-font-color1);
}

.lm-CommandPalette-item {
  padding: 4px 12px 4px 4px;
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  font-weight: 400;
  display: flex;
}

.lm-CommandPalette-item.lm-mod-disabled {
  color: var(--jp-ui-font-color2);
}

.lm-CommandPalette-item.lm-mod-active {
  color: var(--jp-ui-inverse-font-color1);
  background: var(--jp-brand-color1);
}

.lm-CommandPalette-item.lm-mod-active .lm-CommandPalette-itemLabel > mark {
  color: var(--jp-ui-inverse-font-color0);
}

.lm-CommandPalette-item.lm-mod-active .jp-icon-selectable[fill] {
  fill: var(--jp-layout-color0);
}

.lm-CommandPalette-item.lm-mod-active:hover:not(.lm-mod-disabled) {
  color: var(--jp-ui-inverse-font-color1);
  background: var(--jp-brand-color1);
}

.lm-CommandPalette-item:hover:not(.lm-mod-active):not(.lm-mod-disabled) {
  background: var(--jp-layout-color2);
}

.lm-CommandPalette-itemContent {
  overflow: hidden;
}

.lm-CommandPalette-itemLabel > mark {
  color: var(--jp-ui-font-color0);
  background-color: transparent;
  font-weight: bold;
}

.lm-CommandPalette-item.lm-mod-disabled mark {
  color: var(--jp-ui-font-color2);
}

.lm-CommandPalette-item .lm-CommandPalette-itemIcon {
  margin: 0 4px 0 0;
  position: relative;
  width: 16px;
  top: 2px;
  flex: 0 0 auto;
}

.lm-CommandPalette-item.lm-mod-disabled .lm-CommandPalette-itemIcon {
  opacity: 0.6;
}

.lm-CommandPalette-item .lm-CommandPalette-itemShortcut {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemCaption {
  display: none;
}

.lm-CommandPalette-content {
  background-color: var(--jp-layout-color1);
}

.lm-CommandPalette-content:empty::after {
  content: 'No results';
  margin: auto;
  margin-top: 20px;
  width: 100px;
  display: block;
  font-size: var(--jp-ui-font-size2);
  font-family: var(--jp-ui-font-family);
  font-weight: lighter;
}

.lm-CommandPalette-emptyMessage {
  text-align: center;
  margin-top: 24px;
  line-height: 1.32;
  padding: 0 8px;
  color: var(--jp-content-font-color3);
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Dialog {
  position: absolute;
  z-index: 10000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: var(--jp-dialog-background);
}

.jp-Dialog-content {
  display: flex;
  flex-direction: column;
  margin-left: auto;
  margin-right: auto;
  background: var(--jp-layout-color1);
  padding: 24px 24px 12px;
  min-width: 300px;
  min-height: 150px;
  max-width: 1000px;
  max-height: 500px;
  box-sizing: border-box;
  box-shadow: var(--jp-elevation-z20);
  word-wrap: break-word;
  border-radius: var(--jp-border-radius);

  /* This is needed so that all font sizing of children done in ems is
   * relative to this base size */
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color1);
  resize: both;
}

.jp-Dialog-content.jp-Dialog-content-small {
  max-width: 500px;
}

.jp-Dialog-button {
  overflow: visible;
}

button.jp-Dialog-button:focus {
  outline: 1px solid var(--jp-brand-color1);
  outline-offset: 4px;
  -moz-outline-radius: 0;
}

button.jp-Dialog-button:focus::-moz-focus-inner {
  border: 0;
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-accept:focus,
button.jp-Dialog-button.jp-mod-styled.jp-mod-warn:focus,
button.jp-Dialog-button.jp-mod-styled.jp-mod-reject:focus {
  outline-offset: 4px;
  -moz-outline-radius: 0;
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-accept:focus {
  outline: 1px solid var(--jp-accept-color-normal, var(--jp-brand-color1));
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-warn:focus {
  outline: 1px solid var(--jp-warn-color-normal, var(--jp-error-color1));
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-reject:focus {
  outline: 1px solid var(--jp-reject-color-normal, var(--md-grey-600));
}

button.jp-Dialog-close-button {
  padding: 0;
  height: 100%;
  min-width: unset;
  min-height: unset;
}

.jp-Dialog-header {
  display: flex;
  justify-content: space-between;
  flex: 0 0 auto;
  padding-bottom: 12px;
  font-size: var(--jp-ui-font-size3);
  font-weight: 400;
  color: var(--jp-ui-font-color1);
}

.jp-Dialog-body {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  font-size: var(--jp-ui-font-size1);
  background: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  overflow: auto;
}

.jp-Dialog-footer {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
  flex: 0 0 auto;
  margin-left: -12px;
  margin-right: -12px;
  padding: 12px;
}

.jp-Dialog-checkbox {
  padding-right: 5px;
}

.jp-Dialog-checkbox > input:focus-visible {
  outline: 1px solid var(--jp-input-active-border-color);
  outline-offset: 1px;
}

.jp-Dialog-spacer {
  flex: 1 1 auto;
}

.jp-Dialog-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.jp-Dialog-body > .jp-select-wrapper {
  width: 100%;
}

.jp-Dialog-body > button {
  padding: 0 16px;
}

.jp-Dialog-body > label {
  line-height: 1.4;
  color: var(--jp-ui-font-color0);
}

.jp-Dialog-button.jp-mod-styled:not(:last-child) {
  margin-right: 12px;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-Input-Boolean-Dialog {
  flex-direction: row-reverse;
  align-items: end;
  width: 100%;
}

.jp-Input-Boolean-Dialog > label {
  flex: 1 1 auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-MainAreaWidget > :focus {
  outline: none;
}

.jp-MainAreaWidget .jp-MainAreaWidget-error {
  padding: 6px;
}

.jp-MainAreaWidget .jp-MainAreaWidget-error > pre {
  width: auto;
  padding: 10px;
  background: var(--jp-error-color3);
  border: var(--jp-border-width) solid var(--jp-error-color1);
  border-radius: var(--jp-border-radius);
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  white-space: pre-wrap;
  word-wrap: break-word;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/**
 * google-material-color v1.2.6
 * https://github.com/danlevan/google-material-color
 */
:root {
  --md-red-50: #ffebee;
  --md-red-100: #ffcdd2;
  --md-red-200: #ef9a9a;
  --md-red-300: #e57373;
  --md-red-400: #ef5350;
  --md-red-500: #f44336;
  --md-red-600: #e53935;
  --md-red-700: #d32f2f;
  --md-red-800: #c62828;
  --md-red-900: #b71c1c;
  --md-red-A100: #ff8a80;
  --md-red-A200: #ff5252;
  --md-red-A400: #ff1744;
  --md-red-A700: #d50000;
  --md-pink-50: #fce4ec;
  --md-pink-100: #f8bbd0;
  --md-pink-200: #f48fb1;
  --md-pink-300: #f06292;
  --md-pink-400: #ec407a;
  --md-pink-500: #e91e63;
  --md-pink-600: #d81b60;
  --md-pink-700: #c2185b;
  --md-pink-800: #ad1457;
  --md-pink-900: #880e4f;
  --md-pink-A100: #ff80ab;
  --md-pink-A200: #ff4081;
  --md-pink-A400: #f50057;
  --md-pink-A700: #c51162;
  --md-purple-50: #f3e5f5;
  --md-purple-100: #e1bee7;
  --md-purple-200: #ce93d8;
  --md-purple-300: #ba68c8;
  --md-purple-400: #ab47bc;
  --md-purple-500: #9c27b0;
  --md-purple-600: #8e24aa;
  --md-purple-700: #7b1fa2;
  --md-purple-800: #6a1b9a;
  --md-purple-900: #4a148c;
  --md-purple-A100: #ea80fc;
  --md-purple-A200: #e040fb;
  --md-purple-A400: #d500f9;
  --md-purple-A700: #a0f;
  --md-deep-purple-50: #ede7f6;
  --md-deep-purple-100: #d1c4e9;
  --md-deep-purple-200: #b39ddb;
  --md-deep-purple-300: #9575cd;
  --md-deep-purple-400: #7e57c2;
  --md-deep-purple-500: #673ab7;
  --md-deep-purple-600: #5e35b1;
  --md-deep-purple-700: #512da8;
  --md-deep-purple-800: #4527a0;
  --md-deep-purple-900: #311b92;
  --md-deep-purple-A100: #b388ff;
  --md-deep-purple-A200: #7c4dff;
  --md-deep-purple-A400: #651fff;
  --md-deep-purple-A700: #6200ea;
  --md-indigo-50: #e8eaf6;
  --md-indigo-100: #c5cae9;
  --md-indigo-200: #9fa8da;
  --md-indigo-300: #7986cb;
  --md-indigo-400: #5c6bc0;
  --md-indigo-500: #3f51b5;
  --md-indigo-600: #3949ab;
  --md-indigo-700: #303f9f;
  --md-indigo-800: #283593;
  --md-indigo-900: #1a237e;
  --md-indigo-A100: #8c9eff;
  --md-indigo-A200: #536dfe;
  --md-indigo-A400: #3d5afe;
  --md-indigo-A700: #304ffe;
  --md-blue-50: #e3f2fd;
  --md-blue-100: #bbdefb;
  --md-blue-200: #90caf9;
  --md-blue-300: #64b5f6;
  --md-blue-400: #42a5f5;
  --md-blue-500: #2196f3;
  --md-blue-600: #1e88e5;
  --md-blue-700: #1976d2;
  --md-blue-800: #1565c0;
  --md-blue-900: #0d47a1;
  --md-blue-A100: #82b1ff;
  --md-blue-A200: #448aff;
  --md-blue-A400: #2979ff;
  --md-blue-A700: #2962ff;
  --md-light-blue-50: #e1f5fe;
  --md-light-blue-100: #b3e5fc;
  --md-light-blue-200: #81d4fa;
  --md-light-blue-300: #4fc3f7;
  --md-light-blue-400: #29b6f6;
  --md-light-blue-500: #03a9f4;
  --md-light-blue-600: #039be5;
  --md-light-blue-700: #0288d1;
  --md-light-blue-800: #0277bd;
  --md-light-blue-900: #01579b;
  --md-light-blue-A100: #80d8ff;
  --md-light-blue-A200: #40c4ff;
  --md-light-blue-A400: #00b0ff;
  --md-light-blue-A700: #0091ea;
  --md-cyan-50: #e0f7fa;
  --md-cyan-100: #b2ebf2;
  --md-cyan-200: #80deea;
  --md-cyan-300: #4dd0e1;
  --md-cyan-400: #26c6da;
  --md-cyan-500: #00bcd4;
  --md-cyan-600: #00acc1;
  --md-cyan-700: #0097a7;
  --md-cyan-800: #00838f;
  --md-cyan-900: #006064;
  --md-cyan-A100: #84ffff;
  --md-cyan-A200: #18ffff;
  --md-cyan-A400: #00e5ff;
  --md-cyan-A700: #00b8d4;
  --md-teal-50: #e0f2f1;
  --md-teal-100: #b2dfdb;
  --md-teal-200: #80cbc4;
  --md-teal-300: #4db6ac;
  --md-teal-400: #26a69a;
  --md-teal-500: #009688;
  --md-teal-600: #00897b;
  --md-teal-700: #00796b;
  --md-teal-800: #00695c;
  --md-teal-900: #004d40;
  --md-teal-A100: #a7ffeb;
  --md-teal-A200: #64ffda;
  --md-teal-A400: #1de9b6;
  --md-teal-A700: #00bfa5;
  --md-green-50: #e8f5e9;
  --md-green-100: #c8e6c9;
  --md-green-200: #a5d6a7;
  --md-green-300: #81c784;
  --md-green-400: #66bb6a;
  --md-green-500: #4caf50;
  --md-green-600: #43a047;
  --md-green-700: #388e3c;
  --md-green-800: #2e7d32;
  --md-green-900: #1b5e20;
  --md-green-A100: #b9f6ca;
  --md-green-A200: #69f0ae;
  --md-green-A400: #00e676;
  --md-green-A700: #00c853;
  --md-light-green-50: #f1f8e9;
  --md-light-green-100: #dcedc8;
  --md-light-green-200: #c5e1a5;
  --md-light-green-300: #aed581;
  --md-light-green-400: #9ccc65;
  --md-light-green-500: #8bc34a;
  --md-light-green-600: #7cb342;
  --md-light-green-700: #689f38;
  --md-light-green-800: #558b2f;
  --md-light-green-900: #33691e;
  --md-light-green-A100: #ccff90;
  --md-light-green-A200: #b2ff59;
  --md-light-green-A400: #76ff03;
  --md-light-green-A700: #64dd17;
  --md-lime-50: #f9fbe7;
  --md-lime-100: #f0f4c3;
  --md-lime-200: #e6ee9c;
  --md-lime-300: #dce775;
  --md-lime-400: #d4e157;
  --md-lime-500: #cddc39;
  --md-lime-600: #c0ca33;
  --md-lime-700: #afb42b;
  --md-lime-800: #9e9d24;
  --md-lime-900: #827717;
  --md-lime-A100: #f4ff81;
  --md-lime-A200: #eeff41;
  --md-lime-A400: #c6ff00;
  --md-lime-A700: #aeea00;
  --md-yellow-50: #fffde7;
  --md-yellow-100: #fff9c4;
  --md-yellow-200: #fff59d;
  --md-yellow-300: #fff176;
  --md-yellow-400: #ffee58;
  --md-yellow-500: #ffeb3b;
  --md-yellow-600: #fdd835;
  --md-yellow-700: #fbc02d;
  --md-yellow-800: #f9a825;
  --md-yellow-900: #f57f17;
  --md-yellow-A100: #ffff8d;
  --md-yellow-A200: #ff0;
  --md-yellow-A400: #ffea00;
  --md-yellow-A700: #ffd600;
  --md-amber-50: #fff8e1;
  --md-amber-100: #ffecb3;
  --md-amber-200: #ffe082;
  --md-amber-300: #ffd54f;
  --md-amber-400: #ffca28;
  --md-amber-500: #ffc107;
  --md-amber-600: #ffb300;
  --md-amber-700: #ffa000;
  --md-amber-800: #ff8f00;
  --md-amber-900: #ff6f00;
  --md-amber-A100: #ffe57f;
  --md-amber-A200: #ffd740;
  --md-amber-A400: #ffc400;
  --md-amber-A700: #ffab00;
  --md-orange-50: #fff3e0;
  --md-orange-100: #ffe0b2;
  --md-orange-200: #ffcc80;
  --md-orange-300: #ffb74d;
  --md-orange-400: #ffa726;
  --md-orange-500: #ff9800;
  --md-orange-600: #fb8c00;
  --md-orange-700: #f57c00;
  --md-orange-800: #ef6c00;
  --md-orange-900: #e65100;
  --md-orange-A100: #ffd180;
  --md-orange-A200: #ffab40;
  --md-orange-A400: #ff9100;
  --md-orange-A700: #ff6d00;
  --md-deep-orange-50: #fbe9e7;
  --md-deep-orange-100: #ffccbc;
  --md-deep-orange-200: #ffab91;
  --md-deep-orange-300: #ff8a65;
  --md-deep-orange-400: #ff7043;
  --md-deep-orange-500: #ff5722;
  --md-deep-orange-600: #f4511e;
  --md-deep-orange-700: #e64a19;
  --md-deep-orange-800: #d84315;
  --md-deep-orange-900: #bf360c;
  --md-deep-orange-A100: #ff9e80;
  --md-deep-orange-A200: #ff6e40;
  --md-deep-orange-A400: #ff3d00;
  --md-deep-orange-A700: #dd2c00;
  --md-brown-50: #efebe9;
  --md-brown-100: #d7ccc8;
  --md-brown-200: #bcaaa4;
  --md-brown-300: #a1887f;
  --md-brown-400: #8d6e63;
  --md-brown-500: #795548;
  --md-brown-600: #6d4c41;
  --md-brown-700: #5d4037;
  --md-brown-800: #4e342e;
  --md-brown-900: #3e2723;
  --md-grey-50: #fafafa;
  --md-grey-100: #f5f5f5;
  --md-grey-200: #eee;
  --md-grey-300: #e0e0e0;
  --md-grey-400: #bdbdbd;
  --md-grey-500: #9e9e9e;
  --md-grey-600: #757575;
  --md-grey-700: #616161;
  --md-grey-800: #424242;
  --md-grey-900: #212121;
  --md-blue-grey-50: #eceff1;
  --md-blue-grey-100: #cfd8dc;
  --md-blue-grey-200: #b0bec5;
  --md-blue-grey-300: #90a4ae;
  --md-blue-grey-400: #78909c;
  --md-blue-grey-500: #607d8b;
  --md-blue-grey-600: #546e7a;
  --md-blue-grey-700: #455a64;
  --md-blue-grey-800: #37474f;
  --md-blue-grey-900: #263238;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| RenderedText
|----------------------------------------------------------------------------*/

:root {
  /* This is the padding value to fill the gaps between lines containing spans with background color. */
  --jp-private-code-span-padding: calc(
    (var(--jp-code-line-height) - 1) * var(--jp-code-font-size) / 2
  );
}

.jp-RenderedText {
  text-align: left;
  padding-left: var(--jp-code-padding);
  line-height: var(--jp-code-line-height);
  font-family: var(--jp-code-font-family);
}

.jp-RenderedText pre,
.jp-RenderedJavaScript pre,
.jp-RenderedHTMLCommon pre {
  color: var(--jp-content-font-color1);
  font-size: var(--jp-code-font-size);
  border: none;
  margin: 0;
  padding: 0;
}

.jp-RenderedText pre a:link {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

.jp-RenderedText pre a:hover {
  text-decoration: underline;
  color: var(--jp-content-link-color);
}

.jp-RenderedText pre a:visited {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

/* console foregrounds and backgrounds */
.jp-RenderedText pre .ansi-black-fg {
  color: #3e424d;
}

.jp-RenderedText pre .ansi-red-fg {
  color: #e75c58;
}

.jp-RenderedText pre .ansi-green-fg {
  color: #00a250;
}

.jp-RenderedText pre .ansi-yellow-fg {
  color: #ddb62b;
}

.jp-RenderedText pre .ansi-blue-fg {
  color: #208ffb;
}

.jp-RenderedText pre .ansi-magenta-fg {
  color: #d160c4;
}

.jp-RenderedText pre .ansi-cyan-fg {
  color: #60c6c8;
}

.jp-RenderedText pre .ansi-white-fg {
  color: #c5c1b4;
}

.jp-RenderedText pre .ansi-black-bg {
  background-color: #3e424d;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-red-bg {
  background-color: #e75c58;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-green-bg {
  background-color: #00a250;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-yellow-bg {
  background-color: #ddb62b;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-blue-bg {
  background-color: #208ffb;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-magenta-bg {
  background-color: #d160c4;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-cyan-bg {
  background-color: #60c6c8;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-white-bg {
  background-color: #c5c1b4;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-black-intense-fg {
  color: #282c36;
}

.jp-RenderedText pre .ansi-red-intense-fg {
  color: #b22b31;
}

.jp-RenderedText pre .ansi-green-intense-fg {
  color: #007427;
}

.jp-RenderedText pre .ansi-yellow-intense-fg {
  color: #b27d12;
}

.jp-RenderedText pre .ansi-blue-intense-fg {
  color: #0065ca;
}

.jp-RenderedText pre .ansi-magenta-intense-fg {
  color: #a03196;
}

.jp-RenderedText pre .ansi-cyan-intense-fg {
  color: #258f8f;
}

.jp-RenderedText pre .ansi-white-intense-fg {
  color: #a1a6b2;
}

.jp-RenderedText pre .ansi-black-intense-bg {
  background-color: #282c36;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-red-intense-bg {
  background-color: #b22b31;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-green-intense-bg {
  background-color: #007427;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-yellow-intense-bg {
  background-color: #b27d12;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-blue-intense-bg {
  background-color: #0065ca;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-magenta-intense-bg {
  background-color: #a03196;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-cyan-intense-bg {
  background-color: #258f8f;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-white-intense-bg {
  background-color: #a1a6b2;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-default-inverse-fg {
  color: var(--jp-ui-inverse-font-color0);
}

.jp-RenderedText pre .ansi-default-inverse-bg {
  background-color: var(--jp-inverse-layout-color0);
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-bold {
  font-weight: bold;
}

.jp-RenderedText pre .ansi-underline {
  text-decoration: underline;
}

.jp-RenderedText[data-mime-type='application/vnd.jupyter.stderr'] {
  background: var(--jp-rendermime-error-background);
  padding-top: var(--jp-code-padding);
}

/*-----------------------------------------------------------------------------
| RenderedLatex
|----------------------------------------------------------------------------*/

.jp-RenderedLatex {
  color: var(--jp-content-font-color1);
  font-size: var(--jp-content-font-size1);
  line-height: var(--jp-content-line-height);
}

/* Left-justify outputs.*/
.jp-OutputArea-output.jp-RenderedLatex {
  padding: var(--jp-code-padding);
  text-align: left;
}

/*-----------------------------------------------------------------------------
| RenderedHTML
|----------------------------------------------------------------------------*/

.jp-RenderedHTMLCommon {
  color: var(--jp-content-font-color1);
  font-family: var(--jp-content-font-family);
  font-size: var(--jp-content-font-size1);
  line-height: var(--jp-content-line-height);

  /* Give a bit more R padding on Markdown text to keep line lengths reasonable */
  padding-right: 20px;
}

.jp-RenderedHTMLCommon em {
  font-style: italic;
}

.jp-RenderedHTMLCommon strong {
  font-weight: bold;
}

.jp-RenderedHTMLCommon u {
  text-decoration: underline;
}

.jp-RenderedHTMLCommon a:link {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

.jp-RenderedHTMLCommon a:hover {
  text-decoration: underline;
  color: var(--jp-content-link-color);
}

.jp-RenderedHTMLCommon a:visited {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

/* Headings */

.jp-RenderedHTMLCommon h1,
.jp-RenderedHTMLCommon h2,
.jp-RenderedHTMLCommon h3,
.jp-RenderedHTMLCommon h4,
.jp-RenderedHTMLCommon h5,
.jp-RenderedHTMLCommon h6 {
  line-height: var(--jp-content-heading-line-height);
  font-weight: var(--jp-content-heading-font-weight);
  font-style: normal;
  margin: var(--jp-content-heading-margin-top) 0
    var(--jp-content-heading-margin-bottom) 0;
}

.jp-RenderedHTMLCommon h1:first-child,
.jp-RenderedHTMLCommon h2:first-child,
.jp-RenderedHTMLCommon h3:first-child,
.jp-RenderedHTMLCommon h4:first-child,
.jp-RenderedHTMLCommon h5:first-child,
.jp-RenderedHTMLCommon h6:first-child {
  margin-top: calc(0.5 * var(--jp-content-heading-margin-top));
}

.jp-RenderedHTMLCommon h1:last-child,
.jp-RenderedHTMLCommon h2:last-child,
.jp-RenderedHTMLCommon h3:last-child,
.jp-RenderedHTMLCommon h4:last-child,
.jp-RenderedHTMLCommon h5:last-child,
.jp-RenderedHTMLCommon h6:last-child {
  margin-bottom: calc(0.5 * var(--jp-content-heading-margin-bottom));
}

.jp-RenderedHTMLCommon h1 {
  font-size: var(--jp-content-font-size5);
}

.jp-RenderedHTMLCommon h2 {
  font-size: var(--jp-content-font-size4);
}

.jp-RenderedHTMLCommon h3 {
  font-size: var(--jp-content-font-size3);
}

.jp-RenderedHTMLCommon h4 {
  font-size: var(--jp-content-font-size2);
}

.jp-RenderedHTMLCommon h5 {
  font-size: var(--jp-content-font-size1);
}

.jp-RenderedHTMLCommon h6 {
  font-size: var(--jp-content-font-size0);
}

/* Lists */

/* stylelint-disable selector-max-type, selector-max-compound-selectors */

.jp-RenderedHTMLCommon ul:not(.list-inline),
.jp-RenderedHTMLCommon ol:not(.list-inline) {
  padding-left: 2em;
}

.jp-RenderedHTMLCommon ul {
  list-style: disc;
}

.jp-RenderedHTMLCommon ul ul {
  list-style: square;
}

.jp-RenderedHTMLCommon ul ul ul {
  list-style: circle;
}

.jp-RenderedHTMLCommon ol {
  list-style: decimal;
}

.jp-RenderedHTMLCommon ol ol {
  list-style: upper-alpha;
}

.jp-RenderedHTMLCommon ol ol ol {
  list-style: lower-alpha;
}

.jp-RenderedHTMLCommon ol ol ol ol {
  list-style: lower-roman;
}

.jp-RenderedHTMLCommon ol ol ol ol ol {
  list-style: decimal;
}

.jp-RenderedHTMLCommon ol,
.jp-RenderedHTMLCommon ul {
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon ul ul,
.jp-RenderedHTMLCommon ul ol,
.jp-RenderedHTMLCommon ol ul,
.jp-RenderedHTMLCommon ol ol {
  margin-bottom: 0;
}

/* stylelint-enable selector-max-type, selector-max-compound-selectors */

.jp-RenderedHTMLCommon hr {
  color: var(--jp-border-color2);
  background-color: var(--jp-border-color1);
  margin-top: 1em;
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon > pre {
  margin: 1.5em 2em;
}

.jp-RenderedHTMLCommon pre,
.jp-RenderedHTMLCommon code {
  border: 0;
  background-color: var(--jp-layout-color0);
  color: var(--jp-content-font-color1);
  font-family: var(--jp-code-font-family);
  font-size: inherit;
  line-height: var(--jp-code-line-height);
  padding: 0;
  white-space: pre-wrap;
}

.jp-RenderedHTMLCommon :not(pre) > code {
  background-color: var(--jp-layout-color2);
  padding: 1px 5px;
}

/* Tables */

.jp-RenderedHTMLCommon table {
  border-collapse: collapse;
  border-spacing: 0;
  border: none;
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  table-layout: fixed;
  margin-left: auto;
  margin-bottom: 1em;
  margin-right: auto;
}

.jp-RenderedHTMLCommon thead {
  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);
  vertical-align: bottom;
}

.jp-RenderedHTMLCommon td,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon tr {
  vertical-align: middle;
  padding: 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}

.jp-RenderedMarkdown.jp-RenderedHTMLCommon td,
.jp-RenderedMarkdown.jp-RenderedHTMLCommon th {
  max-width: none;
}

:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon td,
:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon th,
:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon tr {
  text-align: right;
}

.jp-RenderedHTMLCommon th {
  font-weight: bold;
}

.jp-RenderedHTMLCommon tbody tr:nth-child(odd) {
  background: var(--jp-layout-color0);
}

.jp-RenderedHTMLCommon tbody tr:nth-child(even) {
  background: var(--jp-rendermime-table-row-background);
}

.jp-RenderedHTMLCommon tbody tr:hover {
  background: var(--jp-rendermime-table-row-hover-background);
}

.jp-RenderedHTMLCommon p {
  text-align: left;
  margin: 0;
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon img {
  -moz-force-broken-image-icon: 1;
}

/* Restrict to direct children as other images could be nested in other content. */
.jp-RenderedHTMLCommon > img {
  display: block;
  margin-left: 0;
  margin-right: 0;
  margin-bottom: 1em;
}

/* Change color behind transparent images if they need it... */
[data-jp-theme-light='false'] .jp-RenderedImage img.jp-needs-light-background {
  background-color: var(--jp-inverse-layout-color1);
}

[data-jp-theme-light='true'] .jp-RenderedImage img.jp-needs-dark-background {
  background-color: var(--jp-inverse-layout-color1);
}

.jp-RenderedHTMLCommon img,
.jp-RenderedImage img,
.jp-RenderedHTMLCommon svg,
.jp-RenderedSVG svg {
  max-width: 100%;
  height: auto;
}

.jp-RenderedHTMLCommon img.jp-mod-unconfined,
.jp-RenderedImage img.jp-mod-unconfined,
.jp-RenderedHTMLCommon svg.jp-mod-unconfined,
.jp-RenderedSVG svg.jp-mod-unconfined {
  max-width: none;
}

.jp-RenderedHTMLCommon .alert {
  padding: var(--jp-notebook-padding);
  border: var(--jp-border-width) solid transparent;
  border-radius: var(--jp-border-radius);
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon .alert-info {
  color: var(--jp-info-color0);
  background-color: var(--jp-info-color3);
  border-color: var(--jp-info-color2);
}

.jp-RenderedHTMLCommon .alert-info hr {
  border-color: var(--jp-info-color3);
}

.jp-RenderedHTMLCommon .alert-info > p:last-child,
.jp-RenderedHTMLCommon .alert-info > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon .alert-warning {
  color: var(--jp-warn-color0);
  background-color: var(--jp-warn-color3);
  border-color: var(--jp-warn-color2);
}

.jp-RenderedHTMLCommon .alert-warning hr {
  border-color: var(--jp-warn-color3);
}

.jp-RenderedHTMLCommon .alert-warning > p:last-child,
.jp-RenderedHTMLCommon .alert-warning > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon .alert-success {
  color: var(--jp-success-color0);
  background-color: var(--jp-success-color3);
  border-color: var(--jp-success-color2);
}

.jp-RenderedHTMLCommon .alert-success hr {
  border-color: var(--jp-success-color3);
}

.jp-RenderedHTMLCommon .alert-success > p:last-child,
.jp-RenderedHTMLCommon .alert-success > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon .alert-danger {
  color: var(--jp-error-color0);
  background-color: var(--jp-error-color3);
  border-color: var(--jp-error-color2);
}

.jp-RenderedHTMLCommon .alert-danger hr {
  border-color: var(--jp-error-color3);
}

.jp-RenderedHTMLCommon .alert-danger > p:last-child,
.jp-RenderedHTMLCommon .alert-danger > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon blockquote {
  margin: 1em 2em;
  padding: 0 1em;
  border-left: 5px solid var(--jp-border-color2);
}

a.jp-InternalAnchorLink {
  visibility: hidden;
  margin-left: 8px;
  color: var(--md-blue-800);
}

h1:hover .jp-InternalAnchorLink,
h2:hover .jp-InternalAnchorLink,
h3:hover .jp-InternalAnchorLink,
h4:hover .jp-InternalAnchorLink,
h5:hover .jp-InternalAnchorLink,
h6:hover .jp-InternalAnchorLink {
  visibility: visible;
}

.jp-RenderedHTMLCommon kbd {
  background-color: var(--jp-rendermime-table-row-background);
  border: 1px solid var(--jp-border-color0);
  border-bottom-color: var(--jp-border-color2);
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.25);
  display: inline-block;
  font-size: var(--jp-ui-font-size0);
  line-height: 1em;
  padding: 0.2em 0.5em;
}

/* Most direct children of .jp-RenderedHTMLCommon have a margin-bottom of 1.0.
 * At the bottom of cells this is a bit too much as there is also spacing
 * between cells. Going all the way to 0 gets too tight between markdown and
 * code cells.
 */
.jp-RenderedHTMLCommon > *:last-child {
  margin-bottom: 0.5em;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-cursor-backdrop {
  position: fixed;
  width: 200px;
  height: 200px;
  margin-top: -100px;
  margin-left: -100px;
  will-change: transform;
  z-index: 100;
}

.lm-mod-drag-image {
  will-change: transform;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-lineFormSearch {
  padding: 4px 12px;
  background-color: var(--jp-layout-color2);
  box-shadow: var(--jp-toolbar-box-shadow);
  z-index: 2;
  font-size: var(--jp-ui-font-size1);
}

.jp-lineFormCaption {
  font-size: var(--jp-ui-font-size0);
  line-height: var(--jp-ui-font-size1);
  margin-top: 4px;
  color: var(--jp-ui-font-color0);
}

.jp-baseLineForm {
  border: none;
  border-radius: 0;
  position: absolute;
  background-size: 16px;
  background-repeat: no-repeat;
  background-position: center;
  outline: none;
}

.jp-lineFormButtonContainer {
  top: 4px;
  right: 8px;
  height: 24px;
  padding: 0 12px;
  width: 12px;
}

.jp-lineFormButtonIcon {
  top: 0;
  right: 0;
  background-color: var(--jp-brand-color1);
  height: 100%;
  width: 100%;
  box-sizing: border-box;
  padding: 4px 6px;
}

.jp-lineFormButton {
  top: 0;
  right: 0;
  background-color: transparent;
  height: 100%;
  width: 100%;
  box-sizing: border-box;
}

.jp-lineFormWrapper {
  overflow: hidden;
  padding: 0 8px;
  border: 1px solid var(--jp-border-color0);
  background-color: var(--jp-input-active-background);
  height: 22px;
}

.jp-lineFormWrapperFocusWithin {
  border: var(--jp-border-width) solid var(--md-blue-500);
  box-shadow: inset 0 0 4px var(--md-blue-300);
}

.jp-lineFormInput {
  background: transparent;
  width: 200px;
  height: 100%;
  border: none;
  outline: none;
  color: var(--jp-ui-font-color0);
  line-height: 28px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-JSONEditor {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.jp-JSONEditor-host {
  flex: 1 1 auto;
  border: var(--jp-border-width) solid var(--jp-input-border-color);
  border-radius: 0;
  background: var(--jp-layout-color0);
  min-height: 50px;
  padding: 1px;
}

.jp-JSONEditor.jp-mod-error .jp-JSONEditor-host {
  border-color: red;
  outline-color: red;
}

.jp-JSONEditor-header {
  display: flex;
  flex: 1 0 auto;
  padding: 0 0 0 12px;
}

.jp-JSONEditor-header label {
  flex: 0 0 auto;
}

.jp-JSONEditor-commitButton {
  height: 16px;
  width: 16px;
  background-size: 18px;
  background-repeat: no-repeat;
  background-position: center;
}

.jp-JSONEditor-host.jp-mod-focused {
  background-color: var(--jp-input-active-background);
  border: 1px solid var(--jp-input-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
}

.jp-Editor.jp-mod-dropTarget {
  border: var(--jp-border-width) solid var(--jp-input-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/
.jp-DocumentSearch-input {
  border: none;
  outline: none;
  color: var(--jp-ui-font-color0);
  font-size: var(--jp-ui-font-size1);
  background-color: var(--jp-layout-color0);
  font-family: var(--jp-ui-font-family);
  padding: 2px 1px;
  resize: none;
}

.jp-DocumentSearch-overlay {
  position: absolute;
  background-color: var(--jp-toolbar-background);
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  border-left: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  top: 0;
  right: 0;
  z-index: 7;
  min-width: 405px;
  padding: 2px;
  font-size: var(--jp-ui-font-size1);

  --jp-private-document-search-button-height: 20px;
}

.jp-DocumentSearch-overlay button {
  background-color: var(--jp-toolbar-background);
  outline: 0;
}

.jp-DocumentSearch-overlay button:hover {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-overlay button:active {
  background-color: var(--jp-layout-color3);
}

.jp-DocumentSearch-overlay-row {
  display: flex;
  align-items: center;
  margin-bottom: 2px;
}

.jp-DocumentSearch-button-content {
  display: inline-block;
  cursor: pointer;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
}

.jp-DocumentSearch-button-content svg {
  width: 100%;
  height: 100%;
}

.jp-DocumentSearch-input-wrapper {
  border: var(--jp-border-width) solid var(--jp-border-color0);
  display: flex;
  background-color: var(--jp-layout-color0);
  margin: 2px;
}

.jp-DocumentSearch-input-wrapper:focus-within {
  border-color: var(--jp-cell-editor-active-border-color);
}

.jp-DocumentSearch-toggle-wrapper,
.jp-DocumentSearch-button-wrapper {
  all: initial;
  overflow: hidden;
  display: inline-block;
  border: none;
  box-sizing: border-box;
}

.jp-DocumentSearch-toggle-wrapper {
  width: 14px;
  height: 14px;
}

.jp-DocumentSearch-button-wrapper {
  width: var(--jp-private-document-search-button-height);
  height: var(--jp-private-document-search-button-height);
}

.jp-DocumentSearch-toggle-wrapper:focus,
.jp-DocumentSearch-button-wrapper:focus {
  outline: var(--jp-border-width) solid
    var(--jp-cell-editor-active-border-color);
  outline-offset: -1px;
}

.jp-DocumentSearch-toggle-wrapper,
.jp-DocumentSearch-button-wrapper,
.jp-DocumentSearch-button-content:focus {
  outline: none;
}

.jp-DocumentSearch-toggle-placeholder {
  width: 5px;
}

.jp-DocumentSearch-input-button::before {
  display: block;
  padding-top: 100%;
}

.jp-DocumentSearch-input-button-off {
  opacity: var(--jp-search-toggle-off-opacity);
}

.jp-DocumentSearch-input-button-off:hover {
  opacity: var(--jp-search-toggle-hover-opacity);
}

.jp-DocumentSearch-input-button-on {
  opacity: var(--jp-search-toggle-on-opacity);
}

.jp-DocumentSearch-index-counter {
  padding-left: 10px;
  padding-right: 10px;
  user-select: none;
  min-width: 35px;
  display: inline-block;
}

.jp-DocumentSearch-up-down-wrapper {
  display: inline-block;
  padding-right: 2px;
  margin-left: auto;
  white-space: nowrap;
}

.jp-DocumentSearch-spacer {
  margin-left: auto;
}

.jp-DocumentSearch-up-down-wrapper button {
  outline: 0;
  border: none;
  width: var(--jp-private-document-search-button-height);
  height: var(--jp-private-document-search-button-height);
  vertical-align: middle;
  margin: 1px 5px 2px;
}

.jp-DocumentSearch-up-down-button:hover {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-up-down-button:active {
  background-color: var(--jp-layout-color3);
}

.jp-DocumentSearch-filter-button {
  border-radius: var(--jp-border-radius);
}

.jp-DocumentSearch-filter-button:hover {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-filter-button-enabled {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-filter-button-enabled:hover {
  background-color: var(--jp-layout-color3);
}

.jp-DocumentSearch-search-options {
  padding: 0 8px;
  margin-left: 3px;
  width: 100%;
  display: grid;
  justify-content: start;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  justify-items: stretch;
}

.jp-DocumentSearch-search-filter-disabled {
  color: var(--jp-ui-font-color2);
}

.jp-DocumentSearch-search-filter {
  display: flex;
  align-items: center;
  user-select: none;
}

.jp-DocumentSearch-regex-error {
  color: var(--jp-error-color0);
}

.jp-DocumentSearch-replace-button-wrapper {
  overflow: hidden;
  display: inline-block;
  box-sizing: border-box;
  border: var(--jp-border-width) solid var(--jp-border-color0);
  margin: auto 2px;
  padding: 1px 4px;
  height: calc(var(--jp-private-document-search-button-height) + 2px);
}

.jp-DocumentSearch-replace-button-wrapper:focus {
  border: var(--jp-border-width) solid var(--jp-cell-editor-active-border-color);
}

.jp-DocumentSearch-replace-button {
  display: inline-block;
  text-align: center;
  cursor: pointer;
  box-sizing: border-box;
  color: var(--jp-ui-font-color1);

  /* height - 2 * (padding of wrapper) */
  line-height: calc(var(--jp-private-document-search-button-height) - 2px);
  width: 100%;
  height: 100%;
}

.jp-DocumentSearch-replace-button:focus {
  outline: none;
}

.jp-DocumentSearch-replace-wrapper-class {
  margin-left: 14px;
  display: flex;
}

.jp-DocumentSearch-replace-toggle {
  border: none;
  background-color: var(--jp-toolbar-background);
  border-radius: var(--jp-border-radius);
}

.jp-DocumentSearch-replace-toggle:hover {
  background-color: var(--jp-layout-color2);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.cm-editor {
  line-height: var(--jp-code-line-height);
  font-size: var(--jp-code-font-size);
  font-family: var(--jp-code-font-family);
  border: 0;
  border-radius: 0;
  height: auto;

  /* Changed to auto to autogrow */
}

.cm-editor pre {
  padding: 0 var(--jp-code-padding);
}

.jp-CodeMirrorEditor[data-type='inline'] .cm-dialog {
  background-color: var(--jp-layout-color0);
  color: var(--jp-content-font-color1);
}

.jp-CodeMirrorEditor {
  cursor: text;
}

/* When zoomed out 67% and 33% on a screen of 1440 width x 900 height */
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .jp-CodeMirrorEditor[data-type='inline'] .cm-cursor {
    border-left: var(--jp-code-cursor-width1) solid
      var(--jp-editor-cursor-color);
  }
}

/* When zoomed out less than 33% */
@media screen and (min-width: 4320px) {
  .jp-CodeMirrorEditor[data-type='inline'] .cm-cursor {
    border-left: var(--jp-code-cursor-width2) solid
      var(--jp-editor-cursor-color);
  }
}

.cm-editor.jp-mod-readOnly .cm-cursor {
  display: none;
}

.jp-CollaboratorCursor {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: none;
  border-bottom: 3px solid;
  background-clip: content-box;
  margin-left: -5px;
  margin-right: -5px;
}

.cm-searching,
.cm-searching span {
  /* `.cm-searching span`: we need to override syntax highlighting */
  background-color: var(--jp-search-unselected-match-background-color);
  color: var(--jp-search-unselected-match-color);
}

.cm-searching::selection,
.cm-searching span::selection {
  background-color: var(--jp-search-unselected-match-background-color);
  color: var(--jp-search-unselected-match-color);
}

.jp-current-match > .cm-searching,
.jp-current-match > .cm-searching span,
.cm-searching > .jp-current-match,
.cm-searching > .jp-current-match span {
  background-color: var(--jp-search-selected-match-background-color);
  color: var(--jp-search-selected-match-color);
}

.jp-current-match > .cm-searching::selection,
.cm-searching > .jp-current-match::selection,
.jp-current-match > .cm-searching span::selection {
  background-color: var(--jp-search-selected-match-background-color);
  color: var(--jp-search-selected-match-color);
}

.cm-trailingspace {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAsElEQVQIHQGlAFr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7+r3zKmT0/+pk9P/7+r3zAAAAAAAAAAABAAAAAAAAAAA6OPzM+/q9wAAAAAA6OPzMwAAAAAAAAAAAgAAAAAAAAAAGR8NiRQaCgAZIA0AGR8NiQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQyoYJ/SY80UAAAAASUVORK5CYII=);
  background-position: center left;
  background-repeat: repeat-x;
}

.jp-CollaboratorCursor-hover {
  position: absolute;
  z-index: 1;
  transform: translateX(-50%);
  color: white;
  border-radius: 3px;
  padding-left: 4px;
  padding-right: 4px;
  padding-top: 1px;
  padding-bottom: 1px;
  text-align: center;
  font-size: var(--jp-ui-font-size1);
  white-space: nowrap;
}

.jp-CodeMirror-ruler {
  border-left: 1px dashed var(--jp-border-color2);
}

/* Styles for shared cursors (remote cursor locations and selected ranges) */
.jp-CodeMirrorEditor .cm-ySelectionCaret {
  position: relative;
  border-left: 1px solid black;
  margin-left: -1px;
  margin-right: -1px;
  box-sizing: border-box;
}

.jp-CodeMirrorEditor .cm-ySelectionCaret > .cm-ySelectionInfo {
  white-space: nowrap;
  position: absolute;
  top: -1.15em;
  padding-bottom: 0.05em;
  left: -1px;
  font-size: 0.95em;
  font-family: var(--jp-ui-font-family);
  font-weight: bold;
  line-height: normal;
  user-select: none;
  color: white;
  padding-left: 2px;
  padding-right: 2px;
  z-index: 101;
  transition: opacity 0.3s ease-in-out;
}

.jp-CodeMirrorEditor .cm-ySelectionInfo {
  transition-delay: 0.7s;
  opacity: 0;
}

.jp-CodeMirrorEditor .cm-ySelectionCaret:hover > .cm-ySelectionInfo {
  opacity: 1;
  transition-delay: 0s;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-MimeDocument {
  outline: none;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

:root {
  --jp-private-filebrowser-button-height: 28px;
  --jp-private-filebrowser-button-width: 48px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-FileBrowser .jp-SidePanel-content {
  display: flex;
  flex-direction: column;
}

.jp-FileBrowser-toolbar.jp-Toolbar {
  flex-wrap: wrap;
  row-gap: 12px;
  border-bottom: none;
  height: auto;
  margin: 8px 12px 0;
  box-shadow: none;
  padding: 0;
  justify-content: flex-start;
}

.jp-FileBrowser-Panel {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
}

.jp-BreadCrumbs {
  flex: 0 0 auto;
  margin: 8px 12px;
}

.jp-BreadCrumbs-item {
  margin: 0 2px;
  padding: 0 2px;
  border-radius: var(--jp-border-radius);
  cursor: pointer;
}

.jp-BreadCrumbs-item:hover {
  background-color: var(--jp-layout-color2);
}

.jp-BreadCrumbs-item:first-child {
  margin-left: 0;
}

.jp-BreadCrumbs-item.jp-mod-dropTarget {
  background-color: var(--jp-brand-color2);
  opacity: 0.7;
}

/*-----------------------------------------------------------------------------
| Buttons
|----------------------------------------------------------------------------*/

.jp-FileBrowser-toolbar > .jp-Toolbar-item {
  flex: 0 0 auto;
  padding-left: 0;
  padding-right: 2px;
  align-items: center;
  height: unset;
}

.jp-FileBrowser-toolbar > .jp-Toolbar-item .jp-ToolbarButtonComponent {
  width: 40px;
}

/*-----------------------------------------------------------------------------
| Other styles
|----------------------------------------------------------------------------*/

.jp-FileDialog.jp-mod-conflict input {
  color: var(--jp-error-color1);
}

.jp-FileDialog .jp-new-name-title {
  margin-top: 12px;
}

.jp-LastModified-hidden {
  display: none;
}

.jp-FileSize-hidden {
  display: none;
}

.jp-FileBrowser .lm-AccordionPanel > h3:first-child {
  display: none;
}

/*-----------------------------------------------------------------------------
| DirListing
|----------------------------------------------------------------------------*/

.jp-DirListing {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  outline: 0;
}

.jp-DirListing-header {
  flex: 0 0 auto;
  display: flex;
  flex-direction: row;
  align-items: center;
  overflow: hidden;
  border-top: var(--jp-border-width) solid var(--jp-border-color2);
  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);
  box-shadow: var(--jp-toolbar-box-shadow);
  z-index: 2;
}

.jp-DirListing-headerItem {
  padding: 4px 12px 2px;
  font-weight: 500;
}

.jp-DirListing-headerItem:hover {
  background: var(--jp-layout-color2);
}

.jp-DirListing-headerItem.jp-id-name {
  flex: 1 0 84px;
}

.jp-DirListing-headerItem.jp-id-modified {
  flex: 0 0 112px;
  border-left: var(--jp-border-width) solid var(--jp-border-color2);
  text-align: right;
}

.jp-DirListing-headerItem.jp-id-filesize {
  flex: 0 0 75px;
  border-left: var(--jp-border-width) solid var(--jp-border-color2);
  text-align: right;
}

.jp-id-narrow {
  display: none;
  flex: 0 0 5px;
  padding: 4px;
  border-left: var(--jp-border-width) solid var(--jp-border-color2);
  text-align: right;
  color: var(--jp-border-color2);
}

.jp-DirListing-narrow .jp-id-narrow {
  display: block;
}

.jp-DirListing-narrow .jp-id-modified,
.jp-DirListing-narrow .jp-DirListing-itemModified {
  display: none;
}

.jp-DirListing-headerItem.jp-mod-selected {
  font-weight: 600;
}

/* increase specificity to override bundled default */
.jp-DirListing-content {
  flex: 1 1 auto;
  margin: 0;
  padding: 0;
  list-style-type: none;
  overflow: auto;
  background-color: var(--jp-layout-color1);
}

.jp-DirListing-content mark {
  color: var(--jp-ui-font-color0);
  background-color: transparent;
  font-weight: bold;
}

.jp-DirListing-content .jp-DirListing-item.jp-mod-selected mark {
  color: var(--jp-ui-inverse-font-color0);
}

/* Style the directory listing content when a user drops a file to upload */
.jp-DirListing.jp-mod-native-drop .jp-DirListing-content {
  outline: 5px dashed rgba(128, 128, 128, 0.5);
  outline-offset: -10px;
  cursor: copy;
}

.jp-DirListing-item {
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 4px 12px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.jp-DirListing-checkboxWrapper {
  /* Increases hit area of checkbox. */
  padding: 4px;
}

.jp-DirListing-header
  .jp-DirListing-checkboxWrapper
  + .jp-DirListing-headerItem {
  padding-left: 4px;
}

.jp-DirListing-content .jp-DirListing-checkboxWrapper {
  position: relative;
  left: -4px;
  margin: -4px 0 -4px -8px;
}

.jp-DirListing-checkboxWrapper.jp-mod-visible {
  visibility: visible;
}

/* For devices that support hovering, hide checkboxes until hovered, selected...
*/
@media (hover: hover) {
  .jp-DirListing-checkboxWrapper {
    visibility: hidden;
  }

  .jp-DirListing-item:hover .jp-DirListing-checkboxWrapper,
  .jp-DirListing-item.jp-mod-selected .jp-DirListing-checkboxWrapper {
    visibility: visible;
  }
}

.jp-DirListing-item[data-is-dot] {
  opacity: 75%;
}

.jp-DirListing-item.jp-mod-selected {
  color: var(--jp-ui-inverse-font-color1);
  background: var(--jp-brand-color1);
}

.jp-DirListing-item.jp-mod-dropTarget {
  background: var(--jp-brand-color3);
}

.jp-DirListing-item:hover:not(.jp-mod-selected) {
  background: var(--jp-layout-color2);
}

.jp-DirListing-itemIcon {
  flex: 0 0 20px;
  margin-right: 4px;
}

.jp-DirListing-itemText {
  flex: 1 0 64px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  user-select: none;
}

.jp-DirListing-itemText:focus {
  outline-width: 2px;
  outline-color: var(--jp-inverse-layout-color1);
  outline-style: solid;
  outline-offset: 1px;
}

.jp-DirListing-item.jp-mod-selected .jp-DirListing-itemText:focus {
  outline-color: var(--jp-layout-color1);
}

.jp-DirListing-itemModified {
  flex: 0 0 125px;
  text-align: right;
}

.jp-DirListing-itemFileSize {
  flex: 0 0 90px;
  text-align: right;
}

.jp-DirListing-editor {
  flex: 1 0 64px;
  outline: none;
  border: none;
  color: var(--jp-ui-font-color1);
  background-color: var(--jp-layout-color1);
}

.jp-DirListing-item.jp-mod-running .jp-DirListing-itemIcon::before {
  color: var(--jp-success-color1);
  content: '\25CF';
  font-size: 8px;
  position: absolute;
  left: -8px;
}

.jp-DirListing-item.jp-mod-running.jp-mod-selected
  .jp-DirListing-itemIcon::before {
  color: var(--jp-ui-inverse-font-color1);
}

.jp-DirListing-item.lm-mod-drag-image,
.jp-DirListing-item.jp-mod-selected.lm-mod-drag-image {
  font-size: var(--jp-ui-font-size1);
  padding-left: 4px;
  margin-left: 4px;
  width: 160px;
  background-color: var(--jp-ui-inverse-font-color2);
  box-shadow: var(--jp-elevation-z2);
  border-radius: 0;
  color: var(--jp-ui-font-color1);
  transform: translateX(-40%) translateY(-58%);
}

.jp-Document {
  min-width: 120px;
  min-height: 120px;
  outline: none;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Main OutputArea
| OutputArea has a list of Outputs
|----------------------------------------------------------------------------*/

.jp-OutputArea {
  overflow-y: auto;
}

.jp-OutputArea-child {
  display: table;
  table-layout: fixed;
  width: 100%;
  overflow: hidden;
}

.jp-OutputPrompt {
  width: var(--jp-cell-prompt-width);
  color: var(--jp-cell-outprompt-font-color);
  font-family: var(--jp-cell-prompt-font-family);
  padding: var(--jp-code-padding);
  letter-spacing: var(--jp-cell-prompt-letter-spacing);
  line-height: var(--jp-code-line-height);
  font-size: var(--jp-code-font-size);
  border: var(--jp-border-width) solid transparent;
  opacity: var(--jp-cell-prompt-opacity);

  /* Right align prompt text, don't wrap to handle large prompt numbers */
  text-align: right;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  /* Disable text selection */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.jp-OutputArea-prompt {
  display: table-cell;
  vertical-align: top;
}

.jp-OutputArea-output {
  display: table-cell;
  width: 100%;
  height: auto;
  overflow: auto;
  user-select: text;
  -moz-user-select: text;
  -webkit-user-select: text;
  -ms-user-select: text;
}

.jp-OutputArea .jp-RenderedText {
  padding-left: 1ch;
}

/**
 * Prompt overlay.
 */

.jp-OutputArea-promptOverlay {
  position: absolute;
  top: 0;
  width: var(--jp-cell-prompt-width);
  height: 100%;
  opacity: 0.5;
}

.jp-OutputArea-promptOverlay:hover {
  background: var(--jp-layout-color2);
  box-shadow: inset 0 0 1px var(--jp-inverse-layout-color0);
  cursor: zoom-out;
}

.jp-mod-outputsScrolled .jp-OutputArea-promptOverlay:hover {
  cursor: zoom-in;
}

/**
 * Isolated output.
 */
.jp-OutputArea-output.jp-mod-isolated {
  width: 100%;
  display: block;
}

/*
When drag events occur, `lm-mod-override-cursor` is added to the body.
Because iframes steal all cursor events, the following two rules are necessary
to suppress pointer events while resize drags are occurring. There may be a
better solution to this problem.
*/
body.lm-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated {
  position: relative;
}

body.lm-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
}

/* pre */

.jp-OutputArea-output pre {
  border: none;
  margin: 0;
  padding: 0;
  overflow-x: auto;
  overflow-y: auto;
  word-break: break-all;
  word-wrap: break-word;
  white-space: pre-wrap;
}

/* tables */

.jp-OutputArea-output.jp-RenderedHTMLCommon table {
  margin-left: 0;
  margin-right: 0;
}

/* description lists */

.jp-OutputArea-output dl,
.jp-OutputArea-output dt,
.jp-OutputArea-output dd {
  display: block;
}

.jp-OutputArea-output dl {
  width: 100%;
  overflow: hidden;
  padding: 0;
  margin: 0;
}

.jp-OutputArea-output dt {
  font-weight: bold;
  float: left;
  width: 20%;
  padding: 0;
  margin: 0;
}

.jp-OutputArea-output dd {
  float: left;
  width: 80%;
  padding: 0;
  margin: 0;
}

.jp-TrimmedOutputs pre {
  background: var(--jp-layout-color3);
  font-size: calc(var(--jp-code-font-size) * 1.4);
  text-align: center;
  text-transform: uppercase;
}

/* Hide the gutter in case of
 *  - nested output areas (e.g. in the case of output widgets)
 *  - mirrored output areas
 */
.jp-OutputArea .jp-OutputArea .jp-OutputArea-prompt {
  display: none;
}

/* Hide empty lines in the output area, for instance due to cleared widgets */
.jp-OutputArea-prompt:empty {
  padding: 0;
  border: 0;
}

/*-----------------------------------------------------------------------------
| executeResult is added to any Output-result for the display of the object
| returned by a cell
|----------------------------------------------------------------------------*/

.jp-OutputArea-output.jp-OutputArea-executeResult {
  margin-left: 0;
  width: 100%;
}

/* Text output with the Out[] prompt needs a top padding to match the
 * alignment of the Out[] prompt itself.
 */
.jp-OutputArea-executeResult .jp-RenderedText.jp-OutputArea-output {
  padding-top: var(--jp-code-padding);
  border-top: var(--jp-border-width) solid transparent;
}

/*-----------------------------------------------------------------------------
| The Stdin output
|----------------------------------------------------------------------------*/

.jp-Stdin-prompt {
  color: var(--jp-content-font-color0);
  padding-right: var(--jp-code-padding);
  vertical-align: baseline;
  flex: 0 0 auto;
}

.jp-Stdin-input {
  font-family: var(--jp-code-font-family);
  font-size: inherit;
  color: inherit;
  background-color: inherit;
  width: 42%;
  min-width: 200px;

  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;

  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0 0.25em;
  margin: 0 0.25em;
  flex: 0 0 70%;
}

.jp-Stdin-input::placeholder {
  opacity: 0;
}

.jp-Stdin-input:focus {
  box-shadow: none;
}

.jp-Stdin-input:focus::placeholder {
  opacity: 1;
}

/*-----------------------------------------------------------------------------
| Output Area View
|----------------------------------------------------------------------------*/

.jp-LinkedOutputView .jp-OutputArea {
  height: 100%;
  display: block;
}

.jp-LinkedOutputView .jp-OutputArea-output:only-child {
  height: 100%;
}

/*-----------------------------------------------------------------------------
| Printing
|----------------------------------------------------------------------------*/

@media print {
  .jp-OutputArea-child {
    break-inside: avoid-page;
  }
}

/*-----------------------------------------------------------------------------
| Mobile
|----------------------------------------------------------------------------*/
@media only screen and (max-width: 760px) {
  .jp-OutputPrompt {
    display: table-row;
    text-align: left;
  }

  .jp-OutputArea-child .jp-OutputArea-output {
    display: table-row;
    margin-left: var(--jp-notebook-padding);
  }
}

/* Trimmed outputs warning */
.jp-TrimmedOutputs > a {
  margin: 10px;
  text-decoration: none;
  cursor: pointer;
}

.jp-TrimmedOutputs > a:hover {
  text-decoration: none;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Table of Contents
|----------------------------------------------------------------------------*/

:root {
  --jp-private-toc-active-width: 4px;
}

.jp-TableOfContents {
  display: flex;
  flex-direction: column;
  background: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  height: 100%;
}

.jp-TableOfContents-placeholder {
  text-align: center;
}

.jp-TableOfContents-placeholderContent {
  color: var(--jp-content-font-color2);
  padding: 8px;
}

.jp-TableOfContents-placeholderContent > h3 {
  margin-bottom: var(--jp-content-heading-margin-bottom);
}

.jp-TableOfContents .jp-SidePanel-content {
  overflow-y: auto;
}

.jp-TableOfContents-tree {
  margin: 4px;
}

.jp-TableOfContents ol {
  list-style-type: none;
}

/* stylelint-disable-next-line selector-max-type */
.jp-TableOfContents li > ol {
  /* Align left border with triangle icon center */
  padding-left: 11px;
}

.jp-TableOfContents-content {
  /* left margin for the active heading indicator */
  margin: 0 0 0 var(--jp-private-toc-active-width);
  padding: 0;
  background-color: var(--jp-layout-color1);
}

.jp-tocItem {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.jp-tocItem-heading {
  display: flex;
  cursor: pointer;
}

.jp-tocItem-heading:hover {
  background-color: var(--jp-layout-color2);
}

.jp-tocItem-content {
  display: block;
  padding: 4px 0;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow-x: hidden;
}

.jp-tocItem-collapser {
  height: 20px;
  margin: 2px 2px 0;
  padding: 0;
  background: none;
  border: none;
  cursor: pointer;
}

.jp-tocItem-collapser:hover {
  background-color: var(--jp-layout-color3);
}

/* Active heading indicator */

.jp-tocItem-heading::before {
  content: ' ';
  background: transparent;
  width: var(--jp-private-toc-active-width);
  height: 24px;
  position: absolute;
  left: 0;
  border-radius: var(--jp-border-radius);
}

.jp-tocItem-heading.jp-tocItem-active::before {
  background-color: var(--jp-brand-color1);
}

.jp-tocItem-heading:hover.jp-tocItem-active::before {
  background: var(--jp-brand-color0);
  opacity: 1;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Collapser {
  flex: 0 0 var(--jp-cell-collapser-width);
  padding: 0;
  margin: 0;
  border: none;
  outline: none;
  background: transparent;
  border-radius: var(--jp-border-radius);
  opacity: 1;
}

.jp-Collapser-child {
  display: block;
  width: 100%;
  box-sizing: border-box;

  /* height: 100% doesn't work because the height of its parent is computed from content */
  position: absolute;
  top: 0;
  bottom: 0;
}

/*-----------------------------------------------------------------------------
| Printing
|----------------------------------------------------------------------------*/

/*
Hiding collapsers in print mode.

Note: input and output wrappers have "display: block" propery in print mode.
*/

@media print {
  .jp-Collapser {
    display: none;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Header/Footer
|----------------------------------------------------------------------------*/

/* Hidden by zero height by default */
.jp-CellHeader,
.jp-CellFooter {
  height: 0;
  width: 100%;
  padding: 0;
  margin: 0;
  border: none;
  outline: none;
  background: transparent;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Input
|----------------------------------------------------------------------------*/

/* All input areas */
.jp-InputArea {
  display: table;
  table-layout: fixed;
  width: 100%;
  overflow: hidden;
}

.jp-InputArea-editor {
  display: table-cell;
  overflow: hidden;
  vertical-align: top;

  /* This is the non-active, default styling */
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  border-radius: 0;
  background: var(--jp-cell-editor-background);
}

.jp-InputPrompt {
  display: table-cell;
  vertical-align: top;
  width: var(--jp-cell-prompt-width);
  color: var(--jp-cell-inprompt-font-color);
  font-family: var(--jp-cell-prompt-font-family);
  padding: var(--jp-code-padding);
  letter-spacing: var(--jp-cell-prompt-letter-spacing);
  opacity: var(--jp-cell-prompt-opacity);
  line-height: var(--jp-code-line-height);
  font-size: var(--jp-code-font-size);
  border: var(--jp-border-width) solid transparent;

  /* Right align prompt text, don't wrap to handle large prompt numbers */
  text-align: right;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  /* Disable text selection */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/*-----------------------------------------------------------------------------
| Mobile
|----------------------------------------------------------------------------*/
@media only screen and (max-width: 760px) {
  .jp-InputArea-editor {
    display: table-row;
    margin-left: var(--jp-notebook-padding);
  }

  .jp-InputPrompt {
    display: table-row;
    text-align: left;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Placeholder
|----------------------------------------------------------------------------*/

.jp-Placeholder {
  display: table;
  table-layout: fixed;
  width: 100%;
}

.jp-Placeholder-prompt {
  display: table-cell;
  box-sizing: border-box;
}

.jp-Placeholder-content {
  display: table-cell;
  padding: 4px 6px;
  border: 1px solid transparent;
  border-radius: 0;
  background: none;
  box-sizing: border-box;
  cursor: pointer;
}

.jp-Placeholder-contentContainer {
  display: flex;
}

.jp-Placeholder-content:hover,
.jp-InputPlaceholder > .jp-Placeholder-content:hover {
  border-color: var(--jp-layout-color3);
}

.jp-Placeholder-content .jp-MoreHorizIcon {
  width: 32px;
  height: 16px;
  border: 1px solid transparent;
  border-radius: var(--jp-border-radius);
}

.jp-Placeholder-content .jp-MoreHorizIcon:hover {
  border: 1px solid var(--jp-border-color1);
  box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.25);
  background-color: var(--jp-layout-color0);
}

.jp-PlaceholderText {
  white-space: nowrap;
  overflow-x: hidden;
  color: var(--jp-inverse-layout-color3);
  font-family: var(--jp-code-font-family);
}

.jp-InputPlaceholder > .jp-Placeholder-content {
  border-color: var(--jp-cell-editor-border-color);
  background: var(--jp-cell-editor-background);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Private CSS variables
|----------------------------------------------------------------------------*/

:root {
  --jp-private-cell-scrolling-output-offset: 5px;
}

/*-----------------------------------------------------------------------------
| Cell
|----------------------------------------------------------------------------*/

.jp-Cell {
  padding: var(--jp-cell-padding);
  margin: 0;
  border: none;
  outline: none;
  background: transparent;
}

/*-----------------------------------------------------------------------------
| Common input/output
|----------------------------------------------------------------------------*/

.jp-Cell-inputWrapper,
.jp-Cell-outputWrapper {
  display: flex;
  flex-direction: row;
  padding: 0;
  margin: 0;

  /* Added to reveal the box-shadow on the input and output collapsers. */
  overflow: visible;
}

/* Only input/output areas inside cells */
.jp-Cell-inputArea,
.jp-Cell-outputArea {
  flex: 1 1 auto;
}

/*-----------------------------------------------------------------------------
| Collapser
|----------------------------------------------------------------------------*/

/* Make the output collapser disappear when there is not output, but do so
 * in a manner that leaves it in the layout and preserves its width.
 */
.jp-Cell.jp-mod-noOutputs .jp-Cell-outputCollapser {
  border: none !important;
  background: transparent !important;
}

.jp-Cell:not(.jp-mod-noOutputs) .jp-Cell-outputCollapser {
  min-height: var(--jp-cell-collapser-min-height);
}

/*-----------------------------------------------------------------------------
| Output
|----------------------------------------------------------------------------*/

/* Put a space between input and output when there IS output */
.jp-Cell:not(.jp-mod-noOutputs) .jp-Cell-outputWrapper {
  margin-top: 5px;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-Cell-outputArea {
  overflow-y: auto;
  max-height: 24em;
  margin-left: var(--jp-private-cell-scrolling-output-offset);
  resize: vertical;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-Cell-outputArea[style*='height'] {
  max-height: unset;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-Cell-outputArea::after {
  content: ' ';
  box-shadow: inset 0 0 6px 2px rgb(0 0 0 / 30%);
  width: 100%;
  height: 100%;
  position: sticky;
  bottom: 0;
  top: 0;
  margin-top: -50%;
  float: left;
  display: block;
  pointer-events: none;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-OutputArea-child {
  padding-top: 6px;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-OutputArea-prompt {
  width: calc(
    var(--jp-cell-prompt-width) - var(--jp-private-cell-scrolling-output-offset)
  );
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-OutputArea-promptOverlay {
  left: calc(-1 * var(--jp-private-cell-scrolling-output-offset));
}

/*-----------------------------------------------------------------------------
| CodeCell
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| MarkdownCell
|----------------------------------------------------------------------------*/

.jp-MarkdownOutput {
  display: table-cell;
  width: 100%;
  margin-top: 0;
  margin-bottom: 0;
  padding-left: var(--jp-code-padding);
}

.jp-MarkdownOutput.jp-RenderedHTMLCommon {
  overflow: auto;
}

/* collapseHeadingButton (show always if hiddenCellsButton is _not_ shown) */
.jp-collapseHeadingButton {
  display: flex;
  min-height: var(--jp-cell-collapser-min-height);
  font-size: var(--jp-code-font-size);
  position: absolute;
  background-color: transparent;
  background-size: 25px;
  background-repeat: no-repeat;
  background-position-x: center;
  background-position-y: top;
  background-image: var(--jp-icon-caret-down);
  right: 0;
  top: 0;
  bottom: 0;
}

.jp-collapseHeadingButton.jp-mod-collapsed {
  background-image: var(--jp-icon-caret-right);
}

/*
 set the container font size to match that of content
 so that the nested collapse buttons have the right size
*/
.jp-MarkdownCell .jp-InputPrompt {
  font-size: var(--jp-content-font-size1);
}

/*
  Align collapseHeadingButton with cell top header
  The font sizes are identical to the ones in packages/rendermime/style/base.css
*/
.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='1'] {
  font-size: var(--jp-content-font-size5);
  background-position-y: calc(0.3 * var(--jp-content-font-size5));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='2'] {
  font-size: var(--jp-content-font-size4);
  background-position-y: calc(0.3 * var(--jp-content-font-size4));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='3'] {
  font-size: var(--jp-content-font-size3);
  background-position-y: calc(0.3 * var(--jp-content-font-size3));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='4'] {
  font-size: var(--jp-content-font-size2);
  background-position-y: calc(0.3 * var(--jp-content-font-size2));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='5'] {
  font-size: var(--jp-content-font-size1);
  background-position-y: top;
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='6'] {
  font-size: var(--jp-content-font-size0);
  background-position-y: top;
}

/* collapseHeadingButton (show only on (hover,active) if hiddenCellsButton is shown) */
.jp-Notebook.jp-mod-showHiddenCellsButton .jp-collapseHeadingButton {
  display: none;
}

.jp-Notebook.jp-mod-showHiddenCellsButton
  :is(.jp-MarkdownCell:hover, .jp-mod-active)
  .jp-collapseHeadingButton {
  display: flex;
}

/* showHiddenCellsButton (only show if jp-mod-showHiddenCellsButton is set, which
is a consequence of the showHiddenCellsButton option in Notebook Settings)*/
.jp-Notebook.jp-mod-showHiddenCellsButton .jp-showHiddenCellsButton {
  margin-left: calc(var(--jp-cell-prompt-width) + 2 * var(--jp-code-padding));
  margin-top: var(--jp-code-padding);
  border: 1px solid var(--jp-border-color2);
  background-color: var(--jp-border-color3) !important;
  color: var(--jp-content-font-color0) !important;
  display: flex;
}

.jp-Notebook.jp-mod-showHiddenCellsButton .jp-showHiddenCellsButton:hover {
  background-color: var(--jp-border-color2) !important;
}

.jp-showHiddenCellsButton {
  display: none;
}

/*-----------------------------------------------------------------------------
| Printing
|----------------------------------------------------------------------------*/

/*
Using block instead of flex to allow the use of the break-inside CSS property for
cell outputs.
*/

@media print {
  .jp-Cell-inputWrapper,
  .jp-Cell-outputWrapper {
    display: block;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

:root {
  --jp-notebook-toolbar-padding: 2px 5px 2px 2px;
}

/*-----------------------------------------------------------------------------

/*-----------------------------------------------------------------------------
| Styles
|----------------------------------------------------------------------------*/

.jp-NotebookPanel-toolbar {
  padding: var(--jp-notebook-toolbar-padding);

  /* disable paint containment from lumino 2.0 default strict CSS containment */
  contain: style size !important;
}

.jp-Toolbar-item.jp-Notebook-toolbarCellType .jp-select-wrapper.jp-mod-focused {
  border: none;
  box-shadow: none;
}

.jp-Notebook-toolbarCellTypeDropdown select {
  height: 24px;
  font-size: var(--jp-ui-font-size1);
  line-height: 14px;
  border-radius: 0;
  display: block;
}

.jp-Notebook-toolbarCellTypeDropdown span {
  top: 5px !important;
}

.jp-Toolbar-responsive-popup {
  position: absolute;
  height: fit-content;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-end;
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  box-shadow: var(--jp-toolbar-box-shadow);
  background: var(--jp-toolbar-background);
  min-height: var(--jp-toolbar-micro-height);
  padding: var(--jp-notebook-toolbar-padding);
  z-index: 1;
  right: 0;
  top: 0;
}

.jp-Toolbar > .jp-Toolbar-responsive-opener {
  margin-left: auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------

/*-----------------------------------------------------------------------------
| Styles
|----------------------------------------------------------------------------*/

.jp-Notebook-ExecutionIndicator {
  position: relative;
  display: inline-block;
  height: 100%;
  z-index: 9997;
}

.jp-Notebook-ExecutionIndicator-tooltip {
  visibility: hidden;
  height: auto;
  width: max-content;
  width: -moz-max-content;
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color1);
  text-align: justify;
  border-radius: 6px;
  padding: 0 5px;
  position: fixed;
  display: table;
}

.jp-Notebook-ExecutionIndicator-tooltip.up {
  transform: translateX(-50%) translateY(-100%) translateY(-32px);
}

.jp-Notebook-ExecutionIndicator-tooltip.down {
  transform: translateX(calc(-100% + 16px)) translateY(5px);
}

.jp-Notebook-ExecutionIndicator-tooltip.hidden {
  display: none;
}

.jp-Notebook-ExecutionIndicator:hover .jp-Notebook-ExecutionIndicator-tooltip {
  visibility: visible;
}

.jp-Notebook-ExecutionIndicator span {
  font-size: var(--jp-ui-font-size1);
  font-family: var(--jp-ui-font-family);
  color: var(--jp-ui-font-color1);
  line-height: 24px;
  display: block;
}

.jp-Notebook-ExecutionIndicator-progress-bar {
  display: flex;
  justify-content: center;
  height: 100%;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*
 * Execution indicator
 */
.jp-tocItem-content::after {
  content: '';

  /* Must be identical to form a circle */
  width: 12px;
  height: 12px;
  background: none;
  border: none;
  position: absolute;
  right: 0;
}

.jp-tocItem-content[data-running='0']::after {
  border-radius: 50%;
  border: var(--jp-border-width) solid var(--jp-inverse-layout-color3);
  background: none;
}

.jp-tocItem-content[data-running='1']::after {
  border-radius: 50%;
  border: var(--jp-border-width) solid var(--jp-inverse-layout-color3);
  background-color: var(--jp-inverse-layout-color3);
}

.jp-tocItem-content[data-running='0'],
.jp-tocItem-content[data-running='1'] {
  margin-right: 12px;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-Notebook-footer {
  height: 27px;
  margin-left: calc(
    var(--jp-cell-prompt-width) + var(--jp-cell-collapser-width) +
      var(--jp-cell-padding)
  );
  width: calc(
    100% -
      (
        var(--jp-cell-prompt-width) + var(--jp-cell-collapser-width) +
          var(--jp-cell-padding) + var(--jp-cell-padding)
      )
  );
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  color: var(--jp-ui-font-color3);
  margin-top: 6px;
  background: none;
  cursor: pointer;
}

.jp-Notebook-footer:focus {
  border-color: var(--jp-cell-editor-active-border-color);
}

/* For devices that support hovering, hide footer until hover */
@media (hover: hover) {
  .jp-Notebook-footer {
    opacity: 0;
  }

  .jp-Notebook-footer:focus,
  .jp-Notebook-footer:hover {
    opacity: 1;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Imports
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| CSS variables
|----------------------------------------------------------------------------*/

:root {
  --jp-side-by-side-output-size: 1fr;
  --jp-side-by-side-resized-cell: var(--jp-side-by-side-output-size);
  --jp-private-notebook-dragImage-width: 304px;
  --jp-private-notebook-dragImage-height: 36px;
  --jp-private-notebook-selected-color: var(--md-blue-400);
  --jp-private-notebook-active-color: var(--md-green-400);
}

/*-----------------------------------------------------------------------------
| Notebook
|----------------------------------------------------------------------------*/

/* stylelint-disable selector-max-class */

.jp-NotebookPanel {
  display: block;
  height: 100%;
}

.jp-NotebookPanel.jp-Document {
  min-width: 240px;
  min-height: 120px;
}

.jp-Notebook {
  padding: var(--jp-notebook-padding);
  outline: none;
  overflow: auto;
  background: var(--jp-layout-color0);
}

.jp-Notebook.jp-mod-scrollPastEnd::after {
  display: block;
  content: '';
  min-height: var(--jp-notebook-scroll-padding);
}

.jp-MainAreaWidget-ContainStrict .jp-Notebook * {
  contain: strict;
}

.jp-Notebook .jp-Cell {
  overflow: visible;
}

.jp-Notebook .jp-Cell .jp-InputPrompt {
  cursor: move;
}

/*-----------------------------------------------------------------------------
| Notebook state related styling
|
| The notebook and cells each have states, here are the possibilities:
|
| - Notebook
|   - Command
|   - Edit
| - Cell
|   - None
|   - Active (only one can be active)
|   - Selected (the cells actions are applied to)
|   - Multiselected (when multiple selected, the cursor)
|   - No outputs
|----------------------------------------------------------------------------*/

/* Command or edit modes */

.jp-Notebook .jp-Cell:not(.jp-mod-active) .jp-InputPrompt {
  opacity: var(--jp-cell-prompt-not-active-opacity);
  color: var(--jp-cell-prompt-not-active-font-color);
}

.jp-Notebook .jp-Cell:not(.jp-mod-active) .jp-OutputPrompt {
  opacity: var(--jp-cell-prompt-not-active-opacity);
  color: var(--jp-cell-prompt-not-active-font-color);
}

/* cell is active */
.jp-Notebook .jp-Cell.jp-mod-active .jp-Collapser {
  background: var(--jp-brand-color1);
}

/* cell is dirty */
.jp-Notebook .jp-Cell.jp-mod-dirty .jp-InputPrompt {
  color: var(--jp-warn-color1);
}

.jp-Notebook .jp-Cell.jp-mod-dirty .jp-InputPrompt::before {
  color: var(--jp-warn-color1);
  content: '•';
}

.jp-Notebook .jp-Cell.jp-mod-active.jp-mod-dirty .jp-Collapser {
  background: var(--jp-warn-color1);
}

/* collapser is hovered */
.jp-Notebook .jp-Cell .jp-Collapser:hover {
  box-shadow: var(--jp-elevation-z2);
  background: var(--jp-brand-color1);
  opacity: var(--jp-cell-collapser-not-active-hover-opacity);
}

/* cell is active and collapser is hovered */
.jp-Notebook .jp-Cell.jp-mod-active .jp-Collapser:hover {
  background: var(--jp-brand-color0);
  opacity: 1;
}

/* Command mode */

.jp-Notebook.jp-mod-commandMode .jp-Cell.jp-mod-selected {
  background: var(--jp-notebook-multiselected-color);
}

.jp-Notebook.jp-mod-commandMode
  .jp-Cell.jp-mod-active.jp-mod-selected:not(.jp-mod-multiSelected) {
  background: transparent;
}

/* Edit mode */

.jp-Notebook.jp-mod-editMode .jp-Cell.jp-mod-active .jp-InputArea-editor {
  border: var(--jp-border-width) solid var(--jp-cell-editor-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
  background-color: var(--jp-cell-editor-active-background);
}

/*-----------------------------------------------------------------------------
| Notebook drag and drop
|----------------------------------------------------------------------------*/

.jp-Notebook-cell.jp-mod-dropSource {
  opacity: 0.5;
}

.jp-Notebook-cell.jp-mod-dropTarget,
.jp-Notebook.jp-mod-commandMode
  .jp-Notebook-cell.jp-mod-active.jp-mod-selected.jp-mod-dropTarget {
  border-top-color: var(--jp-private-notebook-selected-color);
  border-top-style: solid;
  border-top-width: 2px;
}

.jp-dragImage {
  display: block;
  flex-direction: row;
  width: var(--jp-private-notebook-dragImage-width);
  height: var(--jp-private-notebook-dragImage-height);
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  background: var(--jp-cell-editor-background);
  overflow: visible;
}

.jp-dragImage-singlePrompt {
  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.12);
}

.jp-dragImage .jp-dragImage-content {
  flex: 1 1 auto;
  z-index: 2;
  font-size: var(--jp-code-font-size);
  font-family: var(--jp-code-font-family);
  line-height: var(--jp-code-line-height);
  padding: var(--jp-code-padding);
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  background: var(--jp-cell-editor-background-color);
  color: var(--jp-content-font-color3);
  text-align: left;
  margin: 4px 4px 4px 0;
}

.jp-dragImage .jp-dragImage-prompt {
  flex: 0 0 auto;
  min-width: 36px;
  color: var(--jp-cell-inprompt-font-color);
  padding: var(--jp-code-padding);
  padding-left: 12px;
  font-family: var(--jp-cell-prompt-font-family);
  letter-spacing: var(--jp-cell-prompt-letter-spacing);
  line-height: 1.9;
  font-size: var(--jp-code-font-size);
  border: var(--jp-border-width) solid transparent;
}

.jp-dragImage-multipleBack {
  z-index: -1;
  position: absolute;
  height: 32px;
  width: 300px;
  top: 8px;
  left: 8px;
  background: var(--jp-layout-color2);
  border: var(--jp-border-width) solid var(--jp-input-border-color);
  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.12);
}

/*-----------------------------------------------------------------------------
| Cell toolbar
|----------------------------------------------------------------------------*/

.jp-NotebookTools {
  display: block;
  min-width: var(--jp-sidebar-min-width);
  color: var(--jp-ui-font-color1);
  background: var(--jp-layout-color1);

  /* This is needed so that all font sizing of children done in ems is
    * relative to this base size */
  font-size: var(--jp-ui-font-size1);
  overflow: auto;
}

.jp-ActiveCellTool {
  padding: 12px 0;
  display: flex;
}

.jp-ActiveCellTool-Content {
  flex: 1 1 auto;
}

.jp-ActiveCellTool .jp-ActiveCellTool-CellContent {
  background: var(--jp-cell-editor-background);
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  border-radius: 0;
  min-height: 29px;
}

.jp-ActiveCellTool .jp-InputPrompt {
  min-width: calc(var(--jp-cell-prompt-width) * 0.75);
}

.jp-ActiveCellTool-CellContent > pre {
  padding: 5px 4px;
  margin: 0;
  white-space: normal;
}

.jp-MetadataEditorTool {
  flex-direction: column;
  padding: 12px 0;
}

.jp-RankedPanel > :not(:first-child) {
  margin-top: 12px;
}

.jp-KeySelector select.jp-mod-styled {
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color0);
  border: var(--jp-border-width) solid var(--jp-border-color1);
}

.jp-KeySelector label,
.jp-MetadataEditorTool label,
.jp-NumberSetter label {
  line-height: 1.4;
}

.jp-NotebookTools .jp-select-wrapper {
  margin-top: 4px;
  margin-bottom: 0;
}

.jp-NumberSetter input {
  width: 100%;
  margin-top: 4px;
}

.jp-NotebookTools .jp-Collapse {
  margin-top: 16px;
}

/*-----------------------------------------------------------------------------
| Presentation Mode (.jp-mod-presentationMode)
|----------------------------------------------------------------------------*/

.jp-mod-presentationMode .jp-Notebook {
  --jp-content-font-size1: var(--jp-content-presentation-font-size1);
  --jp-code-font-size: var(--jp-code-presentation-font-size);
}

.jp-mod-presentationMode .jp-Notebook .jp-Cell .jp-InputPrompt,
.jp-mod-presentationMode .jp-Notebook .jp-Cell .jp-OutputPrompt {
  flex: 0 0 110px;
}

/*-----------------------------------------------------------------------------
| Side-by-side Mode (.jp-mod-sideBySide)
|----------------------------------------------------------------------------*/
.jp-mod-sideBySide.jp-Notebook .jp-Notebook-cell {
  margin-top: 3em;
  margin-bottom: 3em;
  margin-left: 5%;
  margin-right: 5%;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell {
  display: grid;
  grid-template-columns: minmax(0, 1fr) min-content minmax(
      0,
      var(--jp-side-by-side-output-size)
    );
  grid-template-rows: auto minmax(0, 1fr) auto;
  grid-template-areas:
    'header header header'
    'input handle output'
    'footer footer footer';
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell.jp-mod-resizedCell {
  grid-template-columns: minmax(0, 1fr) min-content minmax(
      0,
      var(--jp-side-by-side-resized-cell)
    );
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellHeader {
  grid-area: header;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-Cell-inputWrapper {
  grid-area: input;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-Cell-outputWrapper {
  /* overwrite the default margin (no vertical separation needed in side by side move */
  margin-top: 0;
  grid-area: output;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellFooter {
  grid-area: footer;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellResizeHandle {
  grid-area: handle;
  user-select: none;
  display: block;
  height: 100%;
  cursor: ew-resize;
  padding: 0 var(--jp-cell-padding);
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellResizeHandle::after {
  content: '';
  display: block;
  background: var(--jp-border-color2);
  height: 100%;
  width: 5px;
}

.jp-mod-sideBySide.jp-Notebook
  .jp-CodeCell.jp-mod-resizedCell
  .jp-CellResizeHandle::after {
  background: var(--jp-border-color0);
}

.jp-CellResizeHandle {
  display: none;
}

/*-----------------------------------------------------------------------------
| Placeholder
|----------------------------------------------------------------------------*/

.jp-Cell-Placeholder {
  padding-left: 55px;
}

.jp-Cell-Placeholder-wrapper {
  background: #fff;
  border: 1px solid;
  border-color: #e5e6e9 #dfe0e4 #d0d1d5;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  margin: 10px 15px;
}

.jp-Cell-Placeholder-wrapper-inner {
  padding: 15px;
  position: relative;
}

.jp-Cell-Placeholder-wrapper-body {
  background-repeat: repeat;
  background-size: 50% auto;
}

.jp-Cell-Placeholder-wrapper-body div {
  background: #f6f7f8;
  background-image: -webkit-linear-gradient(
    left,
    #f6f7f8 0%,
    #edeef1 20%,
    #f6f7f8 40%,
    #f6f7f8 100%
  );
  background-repeat: no-repeat;
  background-size: 800px 104px;
  height: 104px;
  position: absolute;
  right: 15px;
  left: 15px;
  top: 15px;
}

div.jp-Cell-Placeholder-h1 {
  top: 20px;
  height: 20px;
  left: 15px;
  width: 150px;
}

div.jp-Cell-Placeholder-h2 {
  left: 15px;
  top: 50px;
  height: 10px;
  width: 100px;
}

div.jp-Cell-Placeholder-content-1,
div.jp-Cell-Placeholder-content-2,
div.jp-Cell-Placeholder-content-3 {
  left: 15px;
  right: 15px;
  height: 10px;
}

div.jp-Cell-Placeholder-content-1 {
  top: 100px;
}

div.jp-Cell-Placeholder-content-2 {
  top: 120px;
}

div.jp-Cell-Placeholder-content-3 {
  top: 140px;
}

</style>
<style type="text/css">
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*
The following CSS variables define the main, public API for styling JupyterLab.
These variables should be used by all plugins wherever possible. In other
words, plugins should not define custom colors, sizes, etc unless absolutely
necessary. This enables users to change the visual theme of JupyterLab
by changing these variables.

Many variables appear in an ordered sequence (0,1,2,3). These sequences
are designed to work well together, so for example, `--jp-border-color1` should
be used with `--jp-layout-color1`. The numbers have the following meanings:

* 0: super-primary, reserved for special emphasis
* 1: primary, most important under normal situations
* 2: secondary, next most important under normal situations
* 3: tertiary, next most important under normal situations

Throughout JupyterLab, we are mostly following principles from Google's
Material Design when selecting colors. We are not, however, following
all of MD as it is not optimized for dense, information rich UIs.
*/

:root {
  /* Elevation
   *
   * We style box-shadows using Material Design's idea of elevation. These particular numbers are taken from here:
   *
   * https://github.com/material-components/material-components-web
   * https://material-components-web.appspot.com/elevation.html
   */

  --jp-shadow-base-lightness: 0;
  --jp-shadow-umbra-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.2
  );
  --jp-shadow-penumbra-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.14
  );
  --jp-shadow-ambient-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.12
  );
  --jp-elevation-z0: none;
  --jp-elevation-z1: 0 2px 1px -1px var(--jp-shadow-umbra-color),
    0 1px 1px 0 var(--jp-shadow-penumbra-color),
    0 1px 3px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z2: 0 3px 1px -2px var(--jp-shadow-umbra-color),
    0 2px 2px 0 var(--jp-shadow-penumbra-color),
    0 1px 5px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z4: 0 2px 4px -1px var(--jp-shadow-umbra-color),
    0 4px 5px 0 var(--jp-shadow-penumbra-color),
    0 1px 10px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z6: 0 3px 5px -1px var(--jp-shadow-umbra-color),
    0 6px 10px 0 var(--jp-shadow-penumbra-color),
    0 1px 18px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z8: 0 5px 5px -3px var(--jp-shadow-umbra-color),
    0 8px 10px 1px var(--jp-shadow-penumbra-color),
    0 3px 14px 2px var(--jp-shadow-ambient-color);
  --jp-elevation-z12: 0 7px 8px -4px var(--jp-shadow-umbra-color),
    0 12px 17px 2px var(--jp-shadow-penumbra-color),
    0 5px 22px 4px var(--jp-shadow-ambient-color);
  --jp-elevation-z16: 0 8px 10px -5px var(--jp-shadow-umbra-color),
    0 16px 24px 2px var(--jp-shadow-penumbra-color),
    0 6px 30px 5px var(--jp-shadow-ambient-color);
  --jp-elevation-z20: 0 10px 13px -6px var(--jp-shadow-umbra-color),
    0 20px 31px 3px var(--jp-shadow-penumbra-color),
    0 8px 38px 7px var(--jp-shadow-ambient-color);
  --jp-elevation-z24: 0 11px 15px -7px var(--jp-shadow-umbra-color),
    0 24px 38px 3px var(--jp-shadow-penumbra-color),
    0 9px 46px 8px var(--jp-shadow-ambient-color);

  /* Borders
   *
   * The following variables, specify the visual styling of borders in JupyterLab.
   */

  --jp-border-width: 1px;
  --jp-border-color0: var(--md-grey-400);
  --jp-border-color1: var(--md-grey-400);
  --jp-border-color2: var(--md-grey-300);
  --jp-border-color3: var(--md-grey-200);
  --jp-inverse-border-color: var(--md-grey-600);
  --jp-border-radius: 2px;

  /* UI Fonts
   *
   * The UI font CSS variables are used for the typography all of the JupyterLab
   * user interface elements that are not directly user generated content.
   *
   * The font sizing here is done assuming that the body font size of --jp-ui-font-size1
   * is applied to a parent element. When children elements, such as headings, are sized
   * in em all things will be computed relative to that body size.
   */

  --jp-ui-font-scale-factor: 1.2;
  --jp-ui-font-size0: 0.83333em;
  --jp-ui-font-size1: 13px; /* Base font size */
  --jp-ui-font-size2: 1.2em;
  --jp-ui-font-size3: 1.44em;
  --jp-ui-font-family: system-ui, -apple-system, blinkmacsystemfont, 'Segoe UI',
    helvetica, arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol';

  /*
   * Use these font colors against the corresponding main layout colors.
   * In a light theme, these go from dark to light.
   */

  /* Defaults use Material Design specification */
  --jp-ui-font-color0: rgba(0, 0, 0, 1);
  --jp-ui-font-color1: rgba(0, 0, 0, 0.87);
  --jp-ui-font-color2: rgba(0, 0, 0, 0.54);
  --jp-ui-font-color3: rgba(0, 0, 0, 0.38);

  /*
   * Use these against the brand/accent/warn/error colors.
   * These will typically go from light to darker, in both a dark and light theme.
   */

  --jp-ui-inverse-font-color0: rgba(255, 255, 255, 1);
  --jp-ui-inverse-font-color1: rgba(255, 255, 255, 1);
  --jp-ui-inverse-font-color2: rgba(255, 255, 255, 0.7);
  --jp-ui-inverse-font-color3: rgba(255, 255, 255, 0.5);

  /* Content Fonts
   *
   * Content font variables are used for typography of user generated content.
   *
   * The font sizing here is done assuming that the body font size of --jp-content-font-size1
   * is applied to a parent element. When children elements, such as headings, are sized
   * in em all things will be computed relative to that body size.
   */

  --jp-content-line-height: 1.6;
  --jp-content-font-scale-factor: 1.2;
  --jp-content-font-size0: 0.83333em;
  --jp-content-font-size1: 14px; /* Base font size */
  --jp-content-font-size2: 1.2em;
  --jp-content-font-size3: 1.44em;
  --jp-content-font-size4: 1.728em;
  --jp-content-font-size5: 2.0736em;

  /* This gives a magnification of about 125% in presentation mode over normal. */
  --jp-content-presentation-font-size1: 17px;
  --jp-content-heading-line-height: 1;
  --jp-content-heading-margin-top: 1.2em;
  --jp-content-heading-margin-bottom: 0.8em;
  --jp-content-heading-font-weight: 500;

  /* Defaults use Material Design specification */
  --jp-content-font-color0: rgba(0, 0, 0, 1);
  --jp-content-font-color1: rgba(0, 0, 0, 0.87);
  --jp-content-font-color2: rgba(0, 0, 0, 0.54);
  --jp-content-font-color3: rgba(0, 0, 0, 0.38);
  --jp-content-link-color: var(--md-blue-900);
  --jp-content-font-family: system-ui, -apple-system, blinkmacsystemfont,
    'Segoe UI', helvetica, arial, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol';

  /*
   * Code Fonts
   *
   * Code font variables are used for typography of code and other monospaces content.
   */

  --jp-code-font-size: 13px;
  --jp-code-line-height: 1.3077; /* 17px for 13px base */
  --jp-code-padding: 5px; /* 5px for 13px base, codemirror highlighting needs integer px value */
  --jp-code-font-family-default: menlo, consolas, 'DejaVu Sans Mono', monospace;
  --jp-code-font-family: var(--jp-code-font-family-default);

  /* This gives a magnification of about 125% in presentation mode over normal. */
  --jp-code-presentation-font-size: 16px;

  /* may need to tweak cursor width if you change font size */
  --jp-code-cursor-width0: 1.4px;
  --jp-code-cursor-width1: 2px;
  --jp-code-cursor-width2: 4px;

  /* Layout
   *
   * The following are the main layout colors use in JupyterLab. In a light
   * theme these would go from light to dark.
   */

  --jp-layout-color0: white;
  --jp-layout-color1: white;
  --jp-layout-color2: var(--md-grey-200);
  --jp-layout-color3: var(--md-grey-400);
  --jp-layout-color4: var(--md-grey-600);

  /* Inverse Layout
   *
   * The following are the inverse layout colors use in JupyterLab. In a light
   * theme these would go from dark to light.
   */

  --jp-inverse-layout-color0: #111;
  --jp-inverse-layout-color1: var(--md-grey-900);
  --jp-inverse-layout-color2: var(--md-grey-800);
  --jp-inverse-layout-color3: var(--md-grey-700);
  --jp-inverse-layout-color4: var(--md-grey-600);

  /* Brand/accent */

  --jp-brand-color0: var(--md-blue-900);
  --jp-brand-color1: var(--md-blue-700);
  --jp-brand-color2: var(--md-blue-300);
  --jp-brand-color3: var(--md-blue-100);
  --jp-brand-color4: var(--md-blue-50);
  --jp-accent-color0: var(--md-green-900);
  --jp-accent-color1: var(--md-green-700);
  --jp-accent-color2: var(--md-green-300);
  --jp-accent-color3: var(--md-green-100);

  /* State colors (warn, error, success, info) */

  --jp-warn-color0: var(--md-orange-900);
  --jp-warn-color1: var(--md-orange-700);
  --jp-warn-color2: var(--md-orange-300);
  --jp-warn-color3: var(--md-orange-100);
  --jp-error-color0: var(--md-red-900);
  --jp-error-color1: var(--md-red-700);
  --jp-error-color2: var(--md-red-300);
  --jp-error-color3: var(--md-red-100);
  --jp-success-color0: var(--md-green-900);
  --jp-success-color1: var(--md-green-700);
  --jp-success-color2: var(--md-green-300);
  --jp-success-color3: var(--md-green-100);
  --jp-info-color0: var(--md-cyan-900);
  --jp-info-color1: var(--md-cyan-700);
  --jp-info-color2: var(--md-cyan-300);
  --jp-info-color3: var(--md-cyan-100);

  /* Cell specific styles */

  --jp-cell-padding: 5px;
  --jp-cell-collapser-width: 8px;
  --jp-cell-collapser-min-height: 20px;
  --jp-cell-collapser-not-active-hover-opacity: 0.6;
  --jp-cell-editor-background: var(--md-grey-100);
  --jp-cell-editor-border-color: var(--md-grey-300);
  --jp-cell-editor-box-shadow: inset 0 0 2px var(--md-blue-300);
  --jp-cell-editor-active-background: var(--jp-layout-color0);
  --jp-cell-editor-active-border-color: var(--jp-brand-color1);
  --jp-cell-prompt-width: 64px;
  --jp-cell-prompt-font-family: var(--jp-code-font-family-default);
  --jp-cell-prompt-letter-spacing: 0;
  --jp-cell-prompt-opacity: 1;
  --jp-cell-prompt-not-active-opacity: 0.5;
  --jp-cell-prompt-not-active-font-color: var(--md-grey-700);

  /* A custom blend of MD grey and blue 600
   * See https://meyerweb.com/eric/tools/color-blend/#546E7A:1E88E5:5:hex */
  --jp-cell-inprompt-font-color: #307fc1;

  /* A custom blend of MD grey and orange 600
   * https://meyerweb.com/eric/tools/color-blend/#546E7A:F4511E:5:hex */
  --jp-cell-outprompt-font-color: #bf5b3d;

  /* Notebook specific styles */

  --jp-notebook-padding: 10px;
  --jp-notebook-select-background: var(--jp-layout-color1);
  --jp-notebook-multiselected-color: var(--md-blue-50);

  /* The scroll padding is calculated to fill enough space at the bottom of the
  notebook to show one single-line cell (with appropriate padding) at the top
  when the notebook is scrolled all the way to the bottom. We also subtract one
  pixel so that no scrollbar appears if we have just one single-line cell in the
  notebook. This padding is to enable a 'scroll past end' feature in a notebook.
  */
  --jp-notebook-scroll-padding: calc(
    100% - var(--jp-code-font-size) * var(--jp-code-line-height) -
      var(--jp-code-padding) - var(--jp-cell-padding) - 1px
  );

  /* Rendermime styles */

  --jp-rendermime-error-background: #fdd;
  --jp-rendermime-table-row-background: var(--md-grey-100);
  --jp-rendermime-table-row-hover-background: var(--md-light-blue-50);

  /* Dialog specific styles */

  --jp-dialog-background: rgba(0, 0, 0, 0.25);

  /* Console specific styles */

  --jp-console-padding: 10px;

  /* Toolbar specific styles */

  --jp-toolbar-border-color: var(--jp-border-color1);
  --jp-toolbar-micro-height: 8px;
  --jp-toolbar-background: var(--jp-layout-color1);
  --jp-toolbar-box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.24);
  --jp-toolbar-header-margin: 4px 4px 0 4px;
  --jp-toolbar-active-background: var(--md-grey-300);

  /* Statusbar specific styles */

  --jp-statusbar-height: 24px;

  /* Input field styles */

  --jp-input-box-shadow: inset 0 0 2px var(--md-blue-300);
  --jp-input-active-background: var(--jp-layout-color1);
  --jp-input-hover-background: var(--jp-layout-color1);
  --jp-input-background: var(--md-grey-100);
  --jp-input-border-color: var(--jp-inverse-border-color);
  --jp-input-active-border-color: var(--jp-brand-color1);
  --jp-input-active-box-shadow-color: rgba(19, 124, 189, 0.3);

  /* General editor styles */

  --jp-editor-selected-background: #d9d9d9;
  --jp-editor-selected-focused-background: #d7d4f0;
  --jp-editor-cursor-color: var(--jp-ui-font-color0);

  /* Code mirror specific styles */

  --jp-mirror-editor-keyword-color: #008000;
  --jp-mirror-editor-atom-color: #88f;
  --jp-mirror-editor-number-color: #080;
  --jp-mirror-editor-def-color: #00f;
  --jp-mirror-editor-variable-color: var(--md-grey-900);
  --jp-mirror-editor-variable-2-color: rgb(0, 54, 109);
  --jp-mirror-editor-variable-3-color: #085;
  --jp-mirror-editor-punctuation-color: #05a;
  --jp-mirror-editor-property-color: #05a;
  --jp-mirror-editor-operator-color: #a2f;
  --jp-mirror-editor-comment-color: #408080;
  --jp-mirror-editor-string-color: #ba2121;
  --jp-mirror-editor-string-2-color: #708;
  --jp-mirror-editor-meta-color: #a2f;
  --jp-mirror-editor-qualifier-color: #555;
  --jp-mirror-editor-builtin-color: #008000;
  --jp-mirror-editor-bracket-color: #997;
  --jp-mirror-editor-tag-color: #170;
  --jp-mirror-editor-attribute-color: #00c;
  --jp-mirror-editor-header-color: blue;
  --jp-mirror-editor-quote-color: #090;
  --jp-mirror-editor-link-color: #00c;
  --jp-mirror-editor-error-color: #f00;
  --jp-mirror-editor-hr-color: #999;

  /*
    RTC user specific colors.
    These colors are used for the cursor, username in the editor,
    and the icon of the user.
  */

  --jp-collaborator-color1: #ffad8e;
  --jp-collaborator-color2: #dac83d;
  --jp-collaborator-color3: #72dd76;
  --jp-collaborator-color4: #00e4d0;
  --jp-collaborator-color5: #45d4ff;
  --jp-collaborator-color6: #e2b1ff;
  --jp-collaborator-color7: #ff9de6;

  /* Vega extension styles */

  --jp-vega-background: white;

  /* Sidebar-related styles */

  --jp-sidebar-min-width: 250px;

  /* Search-related styles */

  --jp-search-toggle-off-opacity: 0.5;
  --jp-search-toggle-hover-opacity: 0.8;
  --jp-search-toggle-on-opacity: 1;
  --jp-search-selected-match-background-color: rgb(245, 200, 0);
  --jp-search-selected-match-color: black;
  --jp-search-unselected-match-background-color: var(
    --jp-inverse-layout-color0
  );
  --jp-search-unselected-match-color: var(--jp-ui-inverse-font-color0);

  /* Icon colors that work well with light or dark backgrounds */
  --jp-icon-contrast-color0: var(--md-purple-600);
  --jp-icon-contrast-color1: var(--md-green-600);
  --jp-icon-contrast-color2: var(--md-pink-600);
  --jp-icon-contrast-color3: var(--md-blue-600);

  /* Button colors */
  --jp-accept-color-normal: var(--md-blue-700);
  --jp-accept-color-hover: var(--md-blue-800);
  --jp-accept-color-active: var(--md-blue-900);
  --jp-warn-color-normal: var(--md-red-700);
  --jp-warn-color-hover: var(--md-red-800);
  --jp-warn-color-active: var(--md-red-900);
  --jp-reject-color-normal: var(--md-grey-600);
  --jp-reject-color-hover: var(--md-grey-700);
  --jp-reject-color-active: var(--md-grey-800);

  /* File or activity icons and switch semantic variables */
  --jp-jupyter-icon-color: #f37626;
  --jp-notebook-icon-color: #f37626;
  --jp-json-icon-color: var(--md-orange-700);
  --jp-console-icon-background-color: var(--md-blue-700);
  --jp-console-icon-color: white;
  --jp-terminal-icon-background-color: var(--md-grey-800);
  --jp-terminal-icon-color: var(--md-grey-200);
  --jp-text-editor-icon-color: var(--md-grey-700);
  --jp-inspector-icon-color: var(--md-grey-700);
  --jp-switch-color: var(--md-grey-400);
  --jp-switch-true-position-color: var(--md-orange-900);
}
</style>
<style type="text/css">
/* Force rendering true colors when outputing to pdf */
* {
  -webkit-print-color-adjust: exact;
}

/* Misc */
a.anchor-link {
  display: none;
}

/* Input area styling */
.jp-InputArea {
  overflow: hidden;
}

.jp-InputArea-editor {
  overflow: hidden;
}

.cm-editor.cm-s-jupyter .highlight pre {
/* weird, but --jp-code-padding defined to be 5px but 4px horizontal padding is hardcoded for pre.cm-line */
  padding: var(--jp-code-padding) 4px;
  margin: 0;

  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  color: inherit;

}

.jp-OutputArea-output pre {
  line-height: inherit;
  font-family: inherit;
}

.jp-RenderedText pre {
  color: var(--jp-content-font-color1);
  font-size: var(--jp-code-font-size);
}

/* Hiding the collapser by default */
.jp-Collapser {
  display: none;
}

@page {
    margin: 0.5in; /* Margin for each printed piece of paper */
}

@media print {
  .jp-Cell-inputWrapper,
  .jp-Cell-outputWrapper {
    display: block;
  }
}
</style>
<!-- Load mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML-full,Safe"> </script>
<!-- MathJax configuration -->
<script type="text/x-mathjax-config">
    init_mathjax = function() {
        if (window.MathJax) {
        // MathJax loaded
            MathJax.Hub.Config({
                TeX: {
                    equationNumbers: {
                    autoNumber: "AMS",
                    useLabelIds: true
                    }
                },
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true,
                    processEnvironments: true
                },
                displayAlign: 'center',
                messageStyle: 'none',
                CommonHTML: {
                    linebreaks: {
                    automatic: true
                    }
                }
            });

            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }
    }
    init_mathjax();
    </script>
<!-- End of mathjax configuration --><script type="module">
  document.addEventListener("DOMContentLoaded", async () => {
    const diagrams = document.querySelectorAll(".jp-Mermaid > pre.mermaid");
    // do not load mermaidjs if not needed
    if (!diagrams.length) {
      return;
    }
    const mermaid = (await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.7.0/mermaid.esm.min.mjs")).default;
    const parser = new DOMParser();

    mermaid.initialize({
      maxTextSize: 100000,
      maxEdges: 100000,
      startOnLoad: false,
      fontFamily: window
        .getComputedStyle(document.body)
        .getPropertyValue("--jp-ui-font-family"),
      theme: document.querySelector("body[data-jp-theme-light='true']")
        ? "default"
        : "dark",
    });

    let _nextMermaidId = 0;

    function makeMermaidImage(svg) {
      const img = document.createElement("img");
      const doc = parser.parseFromString(svg, "image/svg+xml");
      const svgEl = doc.querySelector("svg");
      const { maxWidth } = svgEl?.style || {};
      const firstTitle = doc.querySelector("title");
      const firstDesc = doc.querySelector("desc");

      img.setAttribute("src", `data:image/svg+xml,${encodeURIComponent(svg)}`);
      if (maxWidth) {
        img.width = parseInt(maxWidth);
      }
      if (firstTitle) {
        img.setAttribute("alt", firstTitle.textContent);
      }
      if (firstDesc) {
        const caption = document.createElement("figcaption");
        caption.className = "sr-only";
        caption.textContent = firstDesc.textContent;
        return [img, caption];
      }
      return [img];
    }

    async function makeMermaidError(text) {
      let errorMessage = "";
      try {
        await mermaid.parse(text);
      } catch (err) {
        errorMessage = `${err}`;
      }

      const result = document.createElement("details");
      result.className = 'jp-RenderedMermaid-Details';
      const summary = document.createElement("summary");
      summary.className = 'jp-RenderedMermaid-Summary';
      const pre = document.createElement("pre");
      const code = document.createElement("code");
      code.innerText = text;
      pre.appendChild(code);
      summary.appendChild(pre);
      result.appendChild(summary);

      const warning = document.createElement("pre");
      warning.innerText = errorMessage;
      result.appendChild(warning);
      return [result];
    }

    async function renderOneMarmaid(src) {
      const id = `jp-mermaid-${_nextMermaidId++}`;
      const parent = src.parentNode;
      let raw = src.textContent.trim();
      const el = document.createElement("div");
      el.style.visibility = "hidden";
      document.body.appendChild(el);
      let results = null;
      let output = null;
      try {
        let { svg } = await mermaid.render(id, raw, el);
        svg = cleanMermaidSvg(svg);
        results = makeMermaidImage(svg);
        output = document.createElement("figure");
        results.map(output.appendChild, output);
      } catch (err) {
        parent.classList.add("jp-mod-warning");
        results = await makeMermaidError(raw);
        output = results[0];
      } finally {
        el.remove();
      }
      parent.classList.add("jp-RenderedMermaid");
      parent.appendChild(output);
    }


    /**
     * Post-process to ensure mermaid diagrams contain only valid SVG and XHTML.
     */
    function cleanMermaidSvg(svg) {
      return svg.replace(RE_VOID_ELEMENT, replaceVoidElement);
    }


    /**
     * A regular expression for all void elements, which may include attributes and
     * a slash.
     *
     * @see https://developer.mozilla.org/en-US/docs/Glossary/Void_element
     *
     * Of these, only `<br>` is generated by Mermaid in place of `\n`,
     * but _any_ "malformed" tag will break the SVG rendering entirely.
     */
    const RE_VOID_ELEMENT =
      /<\s*(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)\s*([^>]*?)\s*>/gi;

    /**
     * Ensure a void element is closed with a slash, preserving any attributes.
     */
    function replaceVoidElement(match, tag, rest) {
      rest = rest.trim();
      if (!rest.endsWith('/')) {
        rest = `${rest} /`;
      }
      return `<${tag} ${rest}>`;
    }

    void Promise.all([...diagrams].map(renderOneMarmaid));
  });
</script>
<style>
  .jp-Mermaid:not(.jp-RenderedMermaid) {
    display: none;
  }

  .jp-RenderedMermaid {
    overflow: auto;
    display: flex;
  }

  .jp-RenderedMermaid.jp-mod-warning {
    width: auto;
    padding: 0.5em;
    margin-top: 0.5em;
    border: var(--jp-border-width) solid var(--jp-warn-color2);
    border-radius: var(--jp-border-radius);
    color: var(--jp-ui-font-color1);
    font-size: var(--jp-ui-font-size1);
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .jp-RenderedMermaid figure {
    margin: 0;
    overflow: auto;
    max-width: 100%;
  }

  .jp-RenderedMermaid img {
    max-width: 100%;
  }

  .jp-RenderedMermaid-Details > pre {
    margin-top: 1em;
  }

  .jp-RenderedMermaid-Summary {
    color: var(--jp-warn-color2);
  }

  .jp-RenderedMermaid:not(.jp-mod-warning) pre {
    display: none;
  }

  .jp-RenderedMermaid-Summary > pre {
    display: inline-block;
    white-space: normal;
  }
</style>
<!-- End of mermaid configuration --></head>
<body class="jp-Notebook" data-jp-theme-light="true" data-jp-theme-name="JupyterLab Light">
<main><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=755692d5-d19f-4745-8938-bebe314da519">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [107]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>


<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">stats</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sm</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.formula.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">smf</span>


<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">"whitegrid"</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="s2">"notebook"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">"figure.figsize"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=5b5d7c16-4076-4254-ae77-d34e4f7f331c">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Read in the data set</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=54cc2eb9-ac57-4bb0-8b05-cbd61915c877">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [108]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">ABs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"Every_AB_ordered.csv"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=c3be8198-0f6f-473d-838d-212d9a7c89f4">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Create Job Opportunity/Job Result columns</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=09cd1dc9-db7b-4127-a6fb-b62b14aeefde">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [109]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Job Opportunity flags ---</span>
<span class="n">on2</span>  <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"on_2b"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span>
<span class="n">on3</span>  <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"on_3b"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span>
<span class="n">outs</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">]</span>

<span class="n">ABs</span><span class="p">[</span><span class="s2">"job_opportunity"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">on2</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">outs</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">on3</span> <span class="o">&amp;</span> <span class="n">outs</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span>

<span class="c1"># --- Next-PA context within the same game ---</span>
<span class="n">grp</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"_next_on_3b"</span><span class="p">]</span>     <span class="o">=</span> <span class="n">grp</span><span class="p">[</span><span class="s2">"on_3b"</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"_next_bat_score"</span><span class="p">]</span> <span class="o">=</span> <span class="n">grp</span><span class="p">[</span><span class="s2">"bat_score"</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"_runs_scored"</span><span class="p">]</span>    <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"_next_bat_score"</span><span class="p">]</span> <span class="o">-</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"bat_score"</span><span class="p">]</span>

<span class="c1"># --- Focus: 3rd takes precedence if present at PA start ---</span>
<span class="n">focus_third</span>  <span class="o">=</span> <span class="n">on3</span> <span class="o">&amp;</span> <span class="n">outs</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">focus_second</span> <span class="o">=</span> <span class="n">on2</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">outs</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="o">~</span><span class="n">focus_third</span><span class="p">)</span>

<span class="c1"># --- Success (by next PA state) ---</span>
<span class="n">third_success</span>  <span class="o">=</span> <span class="n">focus_third</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"_runs_scored"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">second_success</span> <span class="o">=</span> <span class="n">focus_second</span> <span class="o">&amp;</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_next_on_3b"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span> <span class="o">|</span> <span class="p">(</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"_runs_scored"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">success</span> <span class="o">=</span> <span class="n">third_success</span> <span class="o">|</span> <span class="n">second_success</span>

<span class="c1"># --- Neutral causes: WP / PB / Steal / DI / Balk ---</span>
<span class="n">ev</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">neutral_exact</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"wild_pitch"</span><span class="p">,</span> <span class="s2">"passed_ball"</span><span class="p">,</span> <span class="s2">"balk"</span><span class="p">}</span>
<span class="n">neutral_prefix</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"stolen_base"</span><span class="p">,</span> <span class="s2">"defensive_indifference"</span><span class="p">)</span>
<span class="n">neutral_cause</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">neutral_exact</span><span class="p">)</span> <span class="o">|</span> <span class="n">ev</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">neutral_prefix</span><span class="p">)</span>

<span class="c1"># --- Neutral rule: batter reaches safely + no outs on play + focus runner doesn’t advance ---</span>
<span class="n">safe_events</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"single"</span><span class="p">,</span><span class="s2">"double"</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">,</span>
    <span class="s2">"walk"</span><span class="p">,</span><span class="s2">"intent_walk"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">,</span>
    <span class="s2">"catcher_interference"</span><span class="p">,</span><span class="s2">"catcher_interf"</span><span class="p">,</span>
    <span class="s2">"fielder_choice"</span><span class="p">,</span><span class="s2">"fielders_choice"</span><span class="p">,</span>
    <span class="s2">"field_error"</span><span class="p">,</span><span class="s2">"reached_on_error"</span>
<span class="p">}</span>
<span class="n">batter_safe</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">safe_events</span><span class="p">)</span>

<span class="k">if</span> <span class="s2">"outs_on_play"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">no_outs_on_play</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"outs_on_play"</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"Int64"</span><span class="p">)</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Approximation when outs_on_play is missing</span>
    <span class="n">no_outs_on_play</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">({</span><span class="s2">"single"</span><span class="p">,</span><span class="s2">"double"</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">,</span><span class="s2">"walk"</span><span class="p">,</span><span class="s2">"intent_walk"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">,</span><span class="s2">"catcher_interference"</span><span class="p">,</span><span class="s2">"catcher_interf"</span><span class="p">})</span>

<span class="n">third_did_not_advance</span>  <span class="o">=</span> <span class="n">focus_third</span>  <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"_runs_scored"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"_next_on_3b"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span>
<span class="n">second_did_not_advance</span> <span class="o">=</span> <span class="n">focus_second</span> <span class="o">&amp;</span>  <span class="n">ABs</span><span class="p">[</span><span class="s2">"_next_on_3b"</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span>

<span class="n">neutral_batter_reach_no_adv</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"job_opportunity"</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">batter_safe</span> <span class="o">&amp;</span> <span class="n">no_outs_on_play</span> <span class="o">&amp;</span>
    <span class="p">(</span><span class="n">third_did_not_advance</span> <span class="o">|</span> <span class="n">second_did_not_advance</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">neutral</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"job_opportunity"</span><span class="p">]</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">neutral_cause</span> <span class="o">|</span> <span class="n">neutral_batter_reach_no_adv</span><span class="p">)</span>

<span class="c1"># --- Final categorical result with precedence: N/A &gt; Neutral &gt; Success &gt; Fail ---</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"N/A"</span>
<span class="n">mask_jo</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"job_opportunity"</span><span class="p">]</span>

<span class="n">ABs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_jo</span> <span class="o">&amp;</span> <span class="n">neutral</span><span class="p">,</span>              <span class="s2">"job_result"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Neutral"</span>
<span class="n">ABs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_jo</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">neutral</span> <span class="o">&amp;</span> <span class="n">success</span><span class="p">,</span>   <span class="s2">"job_result"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Success"</span>
<span class="n">ABs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask_jo</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">neutral</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">success</span><span class="p">,</span>  <span class="s2">"job_result"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Fail"</span>

<span class="c1"># (Optional) clean up helper cols; comment this out if you want to keep them</span>
<span class="n">ABs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"_next_on_3b"</span><span class="p">,</span><span class="s2">"_next_bat_score"</span><span class="p">,</span><span class="s2">"_runs_scored"</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"ignore"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=abbf716b-2061-4ef8-845e-624edc155579">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Create home_team_record and away_team_record (pre-game W–L) columns</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=f49de877-da8a-48a2-9f95-6530d65c44cc">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [110]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- 0) Remove any prior record columns so we don't get _x/_y suffixes</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"home_team_record"</span><span class="p">)</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"away_team_record"</span><span class="p">)]:</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">c</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># --- 1) Build one row per game with start time and final score from your data</span>
<span class="n">game_summary</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"ab_seq"</span><span class="p">],</span> <span class="n">kind</span><span class="o">=</span><span class="s2">"mergesort"</span><span class="p">)</span>
      <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
      <span class="o">.</span><span class="n">agg</span><span class="p">({</span>
          <span class="s2">"home_team"</span><span class="p">:</span> <span class="s2">"first"</span><span class="p">,</span>
          <span class="s2">"away_team"</span><span class="p">:</span> <span class="s2">"first"</span><span class="p">,</span>
          <span class="s2">"__game_dt__"</span><span class="p">:</span> <span class="s2">"min"</span><span class="p">,</span>
          <span class="s2">"home_score"</span><span class="p">:</span> <span class="s2">"last"</span><span class="p">,</span>
          <span class="s2">"away_score"</span><span class="p">:</span> <span class="s2">"last"</span><span class="p">,</span>
          <span class="s2">"post_home_score"</span><span class="p">:</span> <span class="s2">"last"</span><span class="p">,</span>
          <span class="s2">"post_away_score"</span><span class="p">:</span> <span class="s2">"last"</span>
      <span class="p">})</span>
<span class="p">)</span>

<span class="c1"># Prefer post_* scores (true finals) and fall back to the last running scores if needed</span>
<span class="n">game_summary</span><span class="p">[</span><span class="s2">"final_home"</span><span class="p">]</span> <span class="o">=</span> <span class="n">game_summary</span><span class="p">[</span><span class="s2">"post_home_score"</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
    <span class="n">game_summary</span><span class="p">[</span><span class="s2">"post_home_score"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">(),</span> <span class="n">game_summary</span><span class="p">[</span><span class="s2">"home_score"</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">game_summary</span><span class="p">[</span><span class="s2">"final_away"</span><span class="p">]</span> <span class="o">=</span> <span class="n">game_summary</span><span class="p">[</span><span class="s2">"post_away_score"</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
    <span class="n">game_summary</span><span class="p">[</span><span class="s2">"post_away_score"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">(),</span> <span class="n">game_summary</span><span class="p">[</span><span class="s2">"away_score"</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Determine home/away result; ties (rare) -&gt; None (no W/L change)</span>
<span class="n">game_summary</span><span class="p">[</span><span class="s2">"home_result"</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">game_summary</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">game_summary</span><span class="p">[</span><span class="s2">"final_home"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">game_summary</span><span class="p">[</span><span class="s2">"final_away"</span><span class="p">],</span> <span class="s2">"home_result"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"W"</span>
<span class="n">game_summary</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">game_summary</span><span class="p">[</span><span class="s2">"final_home"</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">game_summary</span><span class="p">[</span><span class="s2">"final_away"</span><span class="p">],</span> <span class="s2">"home_result"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"L"</span>
<span class="n">game_summary</span><span class="p">[</span><span class="s2">"away_result"</span><span class="p">]</span> <span class="o">=</span> <span class="n">game_summary</span><span class="p">[</span><span class="s2">"home_result"</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s2">"W"</span><span class="p">:</span> <span class="s2">"L"</span><span class="p">,</span> <span class="s2">"L"</span><span class="p">:</span> <span class="s2">"W"</span><span class="p">,</span> <span class="kc">None</span><span class="p">:</span> <span class="kc">None</span><span class="p">})</span>

<span class="c1"># --- 2) Build per-team schedule and compute record *entering* each game</span>
<span class="n">home_log</span> <span class="o">=</span> <span class="n">game_summary</span><span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"__game_dt__"</span><span class="p">,</span> <span class="s2">"home_team"</span><span class="p">,</span> <span class="s2">"home_result"</span><span class="p">]]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"home_team"</span><span class="p">:</span> <span class="s2">"team"</span><span class="p">,</span> <span class="s2">"home_result"</span><span class="p">:</span> <span class="s2">"result"</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">away_log</span> <span class="o">=</span> <span class="n">game_summary</span><span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"__game_dt__"</span><span class="p">,</span> <span class="s2">"away_team"</span><span class="p">,</span> <span class="s2">"away_result"</span><span class="p">]]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"away_team"</span><span class="p">:</span> <span class="s2">"team"</span><span class="p">,</span> <span class="s2">"away_result"</span><span class="p">:</span> <span class="s2">"result"</span><span class="p">}</span>
<span class="p">)</span>

<span class="n">team_log</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">home_log</span><span class="p">,</span> <span class="n">away_log</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
      <span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"team"</span><span class="p">,</span> <span class="s2">"__game_dt__"</span><span class="p">,</span> <span class="s2">"game_pk"</span><span class="p">],</span> <span class="n">kind</span><span class="o">=</span><span class="s2">"mergesort"</span><span class="p">)</span>
      <span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Map of (team, game_pk) -&gt; "W-L" record entering that game</span>
<span class="n">record_before_map</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">team</span><span class="p">,</span> <span class="n">grp</span> <span class="ow">in</span> <span class="n">team_log</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"team"</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">w</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">grp</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">record_before_map</span><span class="p">[(</span><span class="n">team</span><span class="p">,</span> <span class="n">row</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">])]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">w</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">l</span><span class="si">}</span><span class="s2">"</span>
        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s2">"result"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"W"</span><span class="p">:</span>
            <span class="n">w</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">row</span><span class="p">[</span><span class="s2">"result"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"L"</span><span class="p">:</span>
            <span class="n">l</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="c1"># --- 3) Attach EXACTLY TWO columns to every PA row in ABs via merges (fast)</span>
<span class="n">records_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[(</span><span class="n">t</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">g</span><span class="p">),</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">record_before_map</span><span class="o">.</span><span class="n">items</span><span class="p">()],</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"team"</span><span class="p">,</span> <span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"record_before"</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">ABs</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">records_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"team"</span><span class="p">:</span> <span class="s2">"home_team"</span><span class="p">,</span> <span class="s2">"record_before"</span><span class="p">:</span> <span class="s2">"home_team_record"</span><span class="p">}),</span>
    <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">,</span> <span class="s2">"game_pk"</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span>
<span class="p">)</span>
<span class="n">ABs</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">records_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"team"</span><span class="p">:</span> <span class="s2">"away_team"</span><span class="p">,</span> <span class="s2">"record_before"</span><span class="p">:</span> <span class="s2">"away_team_record"</span><span class="p">}),</span>
    <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">,</span> <span class="s2">"game_pk"</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=611a59b2-9fea-4ed4-bf0b-77f552be0b9e">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Create season-to-date team runs before each PA: Total_Runs_Home, Total_Runs_Away</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=773d93e4-12ad-439e-8c8a-c31c90330e11">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [111]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Ensure batting team is known for each PA</span>
<span class="k">if</span> <span class="s2">"half_order"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="c1"># convention from earlier: 0 = Top (away bats), 1 = Bottom (home bats)</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"half_order"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">])</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># fallback to string column if present</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"top"</span><span class="p">),</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">]</span>
    <span class="p">)</span>

<span class="c1"># Runs scored in the *previous PA* for the batting team (&gt;=0), over the full season order</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"_runs_scored_prev_pa"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"_batting_team"</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s2">"bat_score"</span><span class="p">]</span>
       <span class="o">.</span><span class="n">diff</span><span class="p">()</span>
       <span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
       <span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Cumulative team runs *before* this PA for the batting team</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"_team_runs_before_this_pa"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"_batting_team"</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s2">"_runs_scored_prev_pa"</span><span class="p">]</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># Map that cumulative "before" total onto home/away for every row.</span>
<span class="c1"># When a side isn't batting this row, forward-fill its last known season total.</span>
<span class="n">home_before_when_batting</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_batting_team"</span><span class="p">]</span><span class="o">.</span><span class="n">values</span> <span class="o">==</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_team_runs_before_this_pa"</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="p">)</span>
<span class="n">away_before_when_batting</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_batting_team"</span><span class="p">]</span><span class="o">.</span><span class="n">values</span> <span class="o">==</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_team_runs_before_this_pa"</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="p">)</span>

<span class="n">ABs</span><span class="p">[</span><span class="s2">"_home_tmp"</span><span class="p">]</span> <span class="o">=</span> <span class="n">home_before_when_batting</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"_away_tmp"</span><span class="p">]</span> <span class="o">=</span> <span class="n">away_before_when_batting</span>

<span class="c1"># Forward-fill within each team across the season; start at 0 if a team hasn't batted yet</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"Total_Runs_Home"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"home_team"</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s2">"_home_tmp"</span><span class="p">]</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"Total_Runs_Away"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"away_team"</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s2">"_away_tmp"</span><span class="p">]</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Clean up helpers</span>
<span class="n">ABs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"_batting_team"</span><span class="p">,</span> <span class="s2">"_runs_scored_prev_pa"</span><span class="p">,</span> <span class="s2">"_team_runs_before_this_pa"</span><span class="p">,</span> <span class="s2">"_home_tmp"</span><span class="p">,</span> <span class="s2">"_away_tmp"</span><span class="p">],</span>
         <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"ignore"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=1c85b8bc-26a8-4538-a9c0-101612da6c36">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Create team-game and team-season Job% tables, plus basic correlations</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=5bfc05fd-cefe-4292-a9ca-276ca5e51802">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [112]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># helper to compute job stats for a group (team's OWN PAs only)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">job_stats</span><span class="p">(</span><span class="n">g</span><span class="p">):</span>
    <span class="n">successes</span> <span class="o">=</span> <span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Success"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">fails</span>     <span class="o">=</span> <span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Fail"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">total</span>     <span class="o">=</span> <span class="n">successes</span> <span class="o">+</span> <span class="n">fails</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span>
        <span class="s2">"job_success"</span><span class="p">:</span> <span class="n">successes</span><span class="p">,</span>
        <span class="s2">"job_fail"</span><span class="p">:</span> <span class="n">fails</span><span class="p">,</span>
        <span class="s2">"job_total"</span><span class="p">:</span> <span class="n">total</span><span class="p">,</span>
        <span class="s2">"job_pct"</span><span class="p">:</span> <span class="n">successes</span> <span class="o">/</span> <span class="n">total</span> <span class="k">if</span> <span class="n">total</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
    <span class="p">})</span>

<span class="c1"># ensure batting team column exists</span>
<span class="k">if</span> <span class="s2">"_batting_team"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">"half_order"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"_batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"half_order"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"_batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
            <span class="n">ABs</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"top"</span><span class="p">),</span>
            <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">]</span>
        <span class="p">)</span>

<span class="c1"># home teams: filter to HOME batting PAs only</span>
<span class="n">home_game</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="p">[</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"_batting_team"</span><span class="p">]</span> <span class="o">==</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">]]</span>
      <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"home_team"</span><span class="p">])</span>
      <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">job_stats</span><span class="p">)</span>
      <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
      <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"home_team"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># attach runs scored and win/loss for home</span>
<span class="n">home_game</span> <span class="o">=</span> <span class="n">home_game</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"game_pk"</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span>
        <span class="n">runs_home</span><span class="o">=</span><span class="p">(</span><span class="s2">"post_home_score"</span><span class="p">,</span><span class="s2">"max"</span><span class="p">),</span>
        <span class="n">runs_away</span><span class="o">=</span><span class="p">(</span><span class="s2">"post_away_score"</span><span class="p">,</span><span class="s2">"max"</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span>
    <span class="n">on</span><span class="o">=</span><span class="s2">"game_pk"</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span>
<span class="p">)</span>
<span class="n">home_game</span><span class="p">[</span><span class="s2">"runs_scored"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">home_game</span><span class="p">[</span><span class="s2">"runs_home"</span><span class="p">]</span>
<span class="n">home_game</span><span class="p">[</span><span class="s2">"runs_allowed"</span><span class="p">]</span> <span class="o">=</span> <span class="n">home_game</span><span class="p">[</span><span class="s2">"runs_away"</span><span class="p">]</span>
<span class="n">home_game</span><span class="p">[</span><span class="s2">"win"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">home_game</span><span class="p">[</span><span class="s2">"runs_scored"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">home_game</span><span class="p">[</span><span class="s2">"runs_allowed"</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># away teams: filter to AWAY batting PAs only</span>
<span class="n">away_game</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="p">[</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"_batting_team"</span><span class="p">]</span> <span class="o">==</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">]]</span>
      <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"away_team"</span><span class="p">])</span>
      <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">job_stats</span><span class="p">)</span>
      <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
      <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"away_team"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># attach runs scored and win/loss for away</span>
<span class="n">away_game</span> <span class="o">=</span> <span class="n">away_game</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"game_pk"</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span>
        <span class="n">runs_home</span><span class="o">=</span><span class="p">(</span><span class="s2">"post_home_score"</span><span class="p">,</span><span class="s2">"max"</span><span class="p">),</span>
        <span class="n">runs_away</span><span class="o">=</span><span class="p">(</span><span class="s2">"post_away_score"</span><span class="p">,</span><span class="s2">"max"</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span>
    <span class="n">on</span><span class="o">=</span><span class="s2">"game_pk"</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span>
<span class="p">)</span>
<span class="n">away_game</span><span class="p">[</span><span class="s2">"runs_scored"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">away_game</span><span class="p">[</span><span class="s2">"runs_away"</span><span class="p">]</span>
<span class="n">away_game</span><span class="p">[</span><span class="s2">"runs_allowed"</span><span class="p">]</span> <span class="o">=</span> <span class="n">away_game</span><span class="p">[</span><span class="s2">"runs_home"</span><span class="p">]</span>
<span class="n">away_game</span><span class="p">[</span><span class="s2">"win"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">away_game</span><span class="p">[</span><span class="s2">"runs_scored"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">away_game</span><span class="p">[</span><span class="s2">"runs_allowed"</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># combine into one team-game table</span>
<span class="n">team_game</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">home_game</span><span class="p">,</span> <span class="n">away_game</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># --- Season-level aggregation (team totals) ---</span>
<span class="n">team_season</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">team_game</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"team"</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span>
        <span class="n">job_success</span><span class="o">=</span><span class="p">(</span><span class="s2">"job_success"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
        <span class="n">job_fail</span><span class="o">=</span><span class="p">(</span><span class="s2">"job_fail"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
        <span class="n">runs_scored</span><span class="o">=</span><span class="p">(</span><span class="s2">"runs_scored"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
        <span class="n">wins</span><span class="o">=</span><span class="p">(</span><span class="s2">"win"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
        <span class="n">games</span><span class="o">=</span><span class="p">(</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"nunique"</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="p">)</span>
<span class="n">team_season</span><span class="p">[</span><span class="s2">"job_total"</span><span class="p">]</span> <span class="o">=</span> <span class="n">team_season</span><span class="p">[</span><span class="s2">"job_success"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_season</span><span class="p">[</span><span class="s2">"job_fail"</span><span class="p">]</span>
<span class="n">team_season</span><span class="p">[</span><span class="s2">"job_pct"</span><span class="p">]</span>   <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">team_season</span><span class="p">[</span><span class="s2">"job_total"</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span>
                                    <span class="n">team_season</span><span class="p">[</span><span class="s2">"job_success"</span><span class="p">]</span><span class="o">/</span><span class="n">team_season</span><span class="p">[</span><span class="s2">"job_total"</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="n">team_season</span><span class="p">[</span><span class="s2">"win_pct"</span><span class="p">]</span>   <span class="o">=</span> <span class="n">team_season</span><span class="p">[</span><span class="s2">"wins"</span><span class="p">]</span> <span class="o">/</span> <span class="n">team_season</span><span class="p">[</span><span class="s2">"games"</span><span class="p">]</span>

<span class="c1"># --- Correlations ---</span>
<span class="n">season_corr_runs</span> <span class="o">=</span> <span class="n">team_season</span><span class="p">[</span><span class="s2">"job_pct"</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">team_season</span><span class="p">[</span><span class="s2">"runs_scored"</span><span class="p">])</span>
<span class="n">season_corr_wins</span> <span class="o">=</span> <span class="n">team_season</span><span class="p">[</span><span class="s2">"job_pct"</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">team_season</span><span class="p">[</span><span class="s2">"win_pct"</span><span class="p">])</span>
<span class="n">game_corr_runs</span>   <span class="o">=</span> <span class="n">team_game</span><span class="p">[</span><span class="s2">"job_pct"</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">team_game</span><span class="p">[</span><span class="s2">"runs_scored"</span><span class="p">])</span>
<span class="n">game_corr_wins</span>   <span class="o">=</span> <span class="n">team_game</span><span class="p">[</span><span class="s2">"job_pct"</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">team_game</span><span class="p">[</span><span class="s2">"win"</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"=== Season-level correlations ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Job% vs Runs Scored:"</span><span class="p">,</span> <span class="n">season_corr_runs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Job% vs Win%:"</span><span class="p">,</span> <span class="n">season_corr_wins</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== Game-level correlations ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Job% vs Runs Scored:"</span><span class="p">,</span> <span class="n">game_corr_runs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Job% vs Win:"</span><span class="p">,</span> <span class="n">game_corr_wins</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>/var/folders/v8/v1s_rd8j1jqb2sr4fz1kdrqm0000gn/T/ipykernel_58916/698466531.py:25: FutureWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
  ABs[ABs["_batting_team"] == ABs["home_team"]]
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>=== Season-level correlations ===
Job% vs Runs Scored: 0.31880741574317706
Job% vs Win%: 0.37608931409621055

=== Game-level correlations ===
Job% vs Runs Scored: 0.28298807557121575
Job% vs Win: 0.1519981255047593
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>/var/folders/v8/v1s_rd8j1jqb2sr4fz1kdrqm0000gn/T/ipykernel_58916/698466531.py:47: FutureWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
  ABs[ABs["_batting_team"] == ABs["away_team"]]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=57805a19-788d-45ad-9ede-2216ed193130">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Create cumulative runs allowed columns from the already-built Total_Runs_Home/Away</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=ec9f998c-4c45-42db-b28b-1b3cadb0615b">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [113]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Make sure runs are numeric</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"Total_Runs_Home"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"Total_Runs_Home"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"Total_Runs_Away"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"Total_Runs_Away"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>

<span class="c1"># Create new cumulative runs allowed columns</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"Total_Allowed_Home"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"Total_Runs_Away"</span><span class="p">]</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"Total_Allowed_Away"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"Total_Runs_Home"</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=29cc28d6-ac41-413f-8ca6-1e6c965a3722">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Build team OBP/SLG at game- and season-level from own PAs</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=337d189c-9daf-40f6-ab2c-e3f0d8f85264">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [114]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># -----------------------------</span>
<span class="c1"># 0) Identify batting team &amp; game key</span>
<span class="c1"># -----------------------------</span>
<span class="k">if</span> <span class="s2">"half_order"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">_top_half</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"half_order"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># 0 = Top (away bats)</span>
<span class="k">elif</span> <span class="s2">"inning_topbot"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">_top_half</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"top"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Need either 'half_order' or 'inning_topbot' to determine batting team."</span><span class="p">)</span>

<span class="n">ABs</span><span class="p">[</span><span class="s2">"batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">_top_half</span><span class="p">,</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">])</span>

<span class="k">if</span> <span class="s2">"game_pk"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">]</span>
<span class="k">elif</span> <span class="s2">"game_id"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"game_id"</span><span class="p">]</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">dates</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"__game_dt__"</span><span class="p">,</span> <span class="n">ABs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"game_date"</span><span class="p">))</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dates</span><span class="p">),</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">])))[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># -----------------------------</span>
<span class="c1"># 1) Scoring components per PA</span>
<span class="c1"># -----------------------------</span>
<span class="n">ev</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># Non-AB events (official): BB, IBB, HBP, SF, SH/SAC_BUNT, CI</span>
<span class="n">NON_AB</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"walk"</span><span class="p">,</span><span class="s2">"intent_walk"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">,</span><span class="s2">"sac_fly"</span><span class="p">,</span><span class="s2">"sac_bunt"</span><span class="p">,</span><span class="s2">"catcher_interference"</span><span class="p">,</span><span class="s2">"catcher_interf"</span><span class="p">}</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"is_ab"</span><span class="p">]</span>  <span class="o">=</span> <span class="p">(</span><span class="o">~</span><span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">NON_AB</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"is_hit"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">({</span><span class="s2">"single"</span><span class="p">,</span><span class="s2">"double"</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">})</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"bb"</span><span class="p">]</span>     <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"walk"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">|</span> <span class="n">ev</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"intent_walk"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"hbp"</span><span class="p">]</span>    <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"hit_by_pitch"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"sf"</span><span class="p">]</span>     <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"sac_fly"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="n">ABs</span><span class="p">[</span><span class="s2">"tb"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ev</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"single"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">1</span> <span class="o">+</span>
    <span class="n">ev</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"double"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span>
    <span class="n">ev</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"triple"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">3</span> <span class="o">+</span>
    <span class="n">ev</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"home_run"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">4</span>
<span class="p">)</span>

<span class="c1"># -----------------------------</span>
<span class="c1"># 2) TEAM–GAME aggregates with OBP &amp; SLG</span>
<span class="c1"># -----------------------------</span>
<span class="n">team_game_obpslg</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"_game_key"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
      <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">AB</span><span class="o">=</span><span class="p">(</span><span class="s2">"is_ab"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">H</span><span class="o">=</span><span class="p">(</span><span class="s2">"is_hit"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">BB</span><span class="o">=</span><span class="p">(</span><span class="s2">"bb"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
           <span class="n">HBP</span><span class="o">=</span><span class="p">(</span><span class="s2">"hbp"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">SF</span><span class="o">=</span><span class="p">(</span><span class="s2">"sf"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">TB</span><span class="o">=</span><span class="p">(</span><span class="s2">"tb"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">))</span>
<span class="p">)</span>

<span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"OBP"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">])</span> <span class="o">/</span>
    <span class="p">(</span><span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">])</span>
      <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>

<span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"SLG"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span> <span class="o">/</span> <span class="n">team_game_obpslg</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>

<span class="n">team_game_obpslg</span> <span class="o">=</span> <span class="n">team_game_obpslg</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">"_game_key"</span><span class="p">:</span> <span class="s2">"game_key"</span><span class="p">,</span>
    <span class="s2">"batting_team"</span><span class="p">:</span> <span class="s2">"team"</span><span class="p">,</span>
    <span class="s2">"OBP"</span><span class="p">:</span> <span class="s2">"OBP_game"</span><span class="p">,</span>
    <span class="s2">"SLG"</span><span class="p">:</span> <span class="s2">"SLG_game"</span>
<span class="p">})[[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"SLG_game"</span><span class="p">,</span><span class="s2">"AB"</span><span class="p">,</span><span class="s2">"H"</span><span class="p">,</span><span class="s2">"BB"</span><span class="p">,</span><span class="s2">"HBP"</span><span class="p">,</span><span class="s2">"SF"</span><span class="p">,</span><span class="s2">"TB"</span><span class="p">]]</span>

<span class="c1"># -----------------------------</span>
<span class="c1"># 3) TEAM–SEASON aggregates with OBP &amp; SLG</span>
<span class="c1"># -----------------------------</span>
<span class="k">if</span> <span class="s2">"season"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="c1"># derive if missing</span>
    <span class="n">date_col</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"__game_dt__"</span><span class="p">,</span> <span class="n">ABs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"game_date"</span><span class="p">))</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"season"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">date_col</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>

<span class="n">team_season_obpslg</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"batting_team"</span><span class="p">,</span><span class="s2">"season"</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
      <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">AB</span><span class="o">=</span><span class="p">(</span><span class="s2">"is_ab"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">H</span><span class="o">=</span><span class="p">(</span><span class="s2">"is_hit"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">BB</span><span class="o">=</span><span class="p">(</span><span class="s2">"bb"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
           <span class="n">HBP</span><span class="o">=</span><span class="p">(</span><span class="s2">"hbp"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">SF</span><span class="o">=</span><span class="p">(</span><span class="s2">"sf"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">TB</span><span class="o">=</span><span class="p">(</span><span class="s2">"tb"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">))</span>
      <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"batting_team"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">})</span>
<span class="p">)</span>

<span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"OBP"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">])</span> <span class="o">/</span>
    <span class="p">(</span><span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">])</span>
      <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>

<span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"SLG"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span> <span class="o">/</span> <span class="n">team_season_obpslg</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>

<span class="n">team_season_obpslg</span> <span class="o">=</span> <span class="n">team_season_obpslg</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">"OBP"</span><span class="p">:</span><span class="s2">"OBP_season"</span><span class="p">,</span>
    <span class="s2">"SLG"</span><span class="p">:</span><span class="s2">"SLG_season"</span>
<span class="p">})[[</span><span class="s2">"season"</span><span class="p">,</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"OBP_season"</span><span class="p">,</span><span class="s2">"SLG_season"</span><span class="p">,</span><span class="s2">"AB"</span><span class="p">,</span><span class="s2">"H"</span><span class="p">,</span><span class="s2">"BB"</span><span class="p">,</span><span class="s2">"HBP"</span><span class="p">,</span><span class="s2">"SF"</span><span class="p">,</span><span class="s2">"TB"</span><span class="p">]]</span>

<span class="c1"># Expose game_key for merges if needed</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"game_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=6f54d187-0635-4fce-818c-38f75f6a809b">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Attach game-level OBP/SLG (own PAs) to team_game</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=81b569bc-497b-4bad-99b3-e600eff46f90">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [115]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="s2">"half_order"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">_top_half</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"half_order"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>   <span class="c1"># 0 = Top -&gt; away bats</span>
<span class="k">elif</span> <span class="s2">"inning_topbot"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">_top_half</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"top"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Need 'half_order' or 'inning_topbot' to determine batting team."</span><span class="p">)</span>

<span class="n">ABs</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">_top_half</span><span class="p">,</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">])</span>

<span class="c1"># Choose or create a game key for ABs</span>
<span class="k">if</span> <span class="s2">"game_pk"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">]</span>
<span class="k">elif</span> <span class="s2">"game_id"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"game_id"</span><span class="p">]</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">date_like</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"__game_dt__"</span><span class="p">,</span> <span class="n">ABs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"game_date"</span><span class="p">))</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">date_like</span><span class="p">,</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">])))[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># OBP/SLG components</span>
<span class="n">AB_events</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"single"</span><span class="p">,</span><span class="s2">"double"</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">,</span>
    <span class="s2">"field_out"</span><span class="p">,</span><span class="s2">"strikeout"</span><span class="p">,</span><span class="s2">"grounded_into_double_play"</span>
<span class="p">}</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"is_ab"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">AB_events</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"is_hit"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">({</span><span class="s2">"single"</span><span class="p">,</span><span class="s2">"double"</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">})</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"bb"</span><span class="p">]</span>     <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"walk"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"hbp"</span><span class="p">]</span>    <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"hit_by_pitch"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"sf"</span><span class="p">]</span>     <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"sac_fly"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">ABs</span><span class="p">[</span><span class="s2">"tb"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"single"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">1</span> <span class="o">+</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"double"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"triple"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">3</span> <span class="o">+</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"home_run"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">4</span>
<span class="p">)</span>

<span class="c1"># Aggregate OBP/SLG by (game, team)</span>
<span class="n">obpslg_by_game</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"_game_key"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
      <span class="o">.</span><span class="n">agg</span><span class="p">(</span>
          <span class="n">AB</span><span class="o">=</span><span class="p">(</span><span class="s2">"is_ab"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
          <span class="n">H</span><span class="o">=</span><span class="p">(</span><span class="s2">"is_hit"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
          <span class="n">BB</span><span class="o">=</span><span class="p">(</span><span class="s2">"bb"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
          <span class="n">HBP</span><span class="o">=</span><span class="p">(</span><span class="s2">"hbp"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
          <span class="n">SF</span><span class="o">=</span><span class="p">(</span><span class="s2">"sf"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
          <span class="n">TB</span><span class="o">=</span><span class="p">(</span><span class="s2">"tb"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">)</span>
      <span class="p">)</span>
      <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"_game_key"</span><span class="p">:</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">})</span>
<span class="p">)</span>
<span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"OBP_game"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span> <span class="o">+</span> <span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">])</span> <span class="o">/</span>
    <span class="p">(</span><span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span> <span class="o">+</span> <span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"SLG_game"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span> <span class="o">/</span> <span class="n">obpslg_by_game</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">obpslg_by_game</span> <span class="o">=</span> <span class="n">obpslg_by_game</span><span class="p">[[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"SLG_game"</span><span class="p">]]</span>

<span class="c1"># --------------------------------------</span>
<span class="c1"># 2) Attach OBP/SLG to team_game with robust merging</span>
<span class="c1">#    (tries multiple keys; coalesces results)</span>
<span class="c1"># --------------------------------------</span>
<span class="n">tg</span> <span class="o">=</span> <span class="n">team_game</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Detect team column in team_game</span>
<span class="n">tg_team_col</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"team"</span><span class="p">,</span> <span class="s2">"bat_team"</span><span class="p">,</span> <span class="s2">"club"</span><span class="p">,</span> <span class="s2">"franchise"</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">tg</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">tg_team_col</span> <span class="o">=</span> <span class="n">c</span>
        <span class="k">break</span>
<span class="k">if</span> <span class="n">tg_team_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"team_game has no recognizable team column (tried: 'team','bat_team','club','franchise')."</span><span class="p">)</span>

<span class="c1"># Try primary merge on an explicit game id if present</span>
<span class="n">primary_game_id</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"game_id"</span><span class="p">,</span><span class="s2">"gamePk"</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">tg</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">primary_game_id</span> <span class="o">=</span> <span class="n">c</span>
        <span class="k">break</span>

<span class="n">merged_primary</span> <span class="o">=</span> <span class="n">tg</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">if</span> <span class="n">primary_game_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">merged_primary</span> <span class="o">=</span> <span class="n">merged_primary</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
        <span class="n">obpslg_by_game</span><span class="p">,</span>
        <span class="n">left_on</span><span class="o">=</span><span class="p">[</span><span class="n">primary_game_id</span><span class="p">,</span> <span class="n">tg_team_col</span><span class="p">],</span>
        <span class="n">right_on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"team"</span><span class="p">],</span>
        <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">,</span>
        <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="s2">"_m1"</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="c1"># Clean helper columns from primary merge</span>
    <span class="n">drop_cols</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="s2">"game_key"</span> <span class="ow">in</span> <span class="n">merged_primary</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="n">primary_game_id</span> <span class="o">!=</span> <span class="s2">"game_key"</span><span class="p">:</span>
        <span class="n">drop_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"game_key"</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">"team"</span> <span class="ow">in</span> <span class="n">merged_primary</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="n">tg_team_col</span> <span class="o">!=</span> <span class="s2">"team"</span><span class="p">:</span>
        <span class="n">drop_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"team"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">drop_cols</span><span class="p">:</span>
        <span class="n">merged_primary</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">drop_cols</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"ignore"</span><span class="p">)</span>

<span class="c1"># If still missing a bunch, attempt a secondary merge using (date, home/away team)</span>
<span class="c1"># Build a unique map from ABs: (date, home, away) -&gt; game_key</span>
<span class="n">date_col</span> <span class="o">=</span> <span class="s2">"__game_dt__"</span> <span class="k">if</span> <span class="s2">"__game_dt__"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="p">(</span><span class="s2">"game_date"</span> <span class="k">if</span> <span class="s2">"game_date"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">secondary_df</span> <span class="o">=</span> <span class="n">merged_primary</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">if</span> <span class="n">date_col</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">secondary_df</span><span class="p">[</span><span class="s2">"OBP_game"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
    <span class="n">ab_keys</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">ABs</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">,</span> <span class="n">date_col</span><span class="p">])</span>
           <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"_game_key"</span><span class="p">:</span><span class="s2">"game_key"</span><span class="p">})</span>
           <span class="p">[[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">,</span> <span class="n">date_col</span><span class="p">]]</span>
    <span class="p">)</span>

    <span class="c1"># If team_game has those columns, we can map game_key then merge</span>
    <span class="n">join_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="n">date_col</span><span class="p">,</span> <span class="s2">"home_team"</span><span class="p">,</span> <span class="s2">"away_team"</span><span class="p">]</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">secondary_df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">join_cols</span><span class="p">:</span>
        <span class="c1"># attach game_key via (date, home, away)</span>
        <span class="n">secondary_df</span> <span class="o">=</span> <span class="n">secondary_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ab_keys</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">join_cols</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>
        <span class="c1"># now merge OBP/SLG on (mapped game_key, team)</span>
        <span class="n">secondary_df</span> <span class="o">=</span> <span class="n">secondary_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
            <span class="n">obpslg_by_game</span><span class="p">,</span>
            <span class="n">left_on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span> <span class="n">tg_team_col</span><span class="p">],</span>
            <span class="n">right_on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"team"</span><span class="p">],</span>
            <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">,</span>
            <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="s2">"_m2"</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="c1"># Coalesce OBP/SLG from primary/secondary</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"SLG_game"</span><span class="p">]:</span>
            <span class="k">if</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">_m2"</span> <span class="ow">in</span> <span class="n">secondary_df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="n">secondary_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">secondary_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">secondary_df</span><span class="p">[</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">_m2"</span><span class="p">])</span>
        <span class="c1"># Cleanup</span>
        <span class="n">drop_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"OBP_game_m2"</span><span class="p">,</span><span class="s2">"SLG_game_m2"</span><span class="p">]</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">secondary_df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">drop_cols</span><span class="p">:</span>
            <span class="n">secondary_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">drop_cols</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Finalize: prefer columns from secondary if they exist</span>
<span class="k">if</span> <span class="s2">"OBP_game"</span> <span class="ow">in</span> <span class="n">secondary_df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">tg</span> <span class="o">=</span> <span class="n">secondary_df</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">tg</span> <span class="o">=</span> <span class="n">merged_primary</span>

<span class="c1"># If still missing, as a last resort compute OBP/SLG directly FROM team_game if it already has components (rare)</span>
<span class="k">if</span> <span class="p">(</span><span class="s2">"OBP_game"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tg</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="s2">"SLG_game"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tg</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
    <span class="n">tg</span><span class="p">[</span><span class="s2">"OBP_game"</span><span class="p">]</span> <span class="o">=</span> <span class="n">tg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"OBP_game"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
    <span class="n">tg</span><span class="p">[</span><span class="s2">"SLG_game"</span><span class="p">]</span> <span class="o">=</span> <span class="n">tg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"SLG_game"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>

<span class="c1"># Write back</span>
<span class="n">team_game</span> <span class="o">=</span> <span class="n">tg</span>

<span class="c1"># Sanity: if still NaN anywhere, they’ll just be missing for those rows — but the regression selector will drop them.</span>
<span class="c1"># You can check coverage quickly:</span>
<span class="c1"># print(team_game[["OBP_game","SLG_game"]].isna().mean())</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=5aa95d68-83f4-4efa-bd52-884a004ae25b">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Basic Game And Season Regression</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=ef8d24df-9312-4944-8ae5-75e685d82134">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [116]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># === Build season &amp; game OBP/SLG from ABs, merge safely, ensure controls, run BOTH regressions ===</span>
<span class="c1"># Works in Python 3.9. Does NOT write files. Prints both summaries.</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sm</span>

<span class="c1"># ----------------------------</span>
<span class="c1"># Helpers</span>
<span class="c1"># ----------------------------</span>
<span class="k">def</span><span class="w"> </span><span class="nf">find_col</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">candidates</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">c</span>
    <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span><span class="w"> </span><span class="nf">ensure_batting_team_and_key</span><span class="p">(</span><span class="n">ABs</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
    <span class="n">ABs</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="c1"># batting team: Top -&gt; away bats; Bottom -&gt; home bats</span>
    <span class="k">if</span> <span class="s2">"half_order"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">_top_half</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"half_order"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">elif</span> <span class="s2">"inning_topbot"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">_top_half</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"top"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Need 'half_order' or 'inning_topbot' in ABs to determine batting team."</span><span class="p">)</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">_top_half</span><span class="p">,</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">])</span>

    <span class="c1"># game key</span>
    <span class="k">if</span> <span class="s2">"game_pk"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">]</span>
    <span class="k">elif</span> <span class="s2">"game_id"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"game_id"</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">date_like</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"__game_dt__"</span><span class="p">,</span> <span class="n">ABs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"game_date"</span><span class="p">))</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">date_like</span><span class="p">,</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">])))[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">ABs</span>

<span class="k">def</span><span class="w"> </span><span class="nf">ensure_obp_slg_components</span><span class="p">(</span><span class="n">ABs</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
    <span class="n">ABs</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">AB_events</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"single"</span><span class="p">,</span><span class="s2">"double"</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">,</span>
        <span class="s2">"field_out"</span><span class="p">,</span><span class="s2">"strikeout"</span><span class="p">,</span><span class="s2">"grounded_into_double_play"</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="s2">"is_ab"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"is_ab"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">AB_events</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"is_hit"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">({</span><span class="s2">"single"</span><span class="p">,</span><span class="s2">"double"</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">})</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"bb"</span><span class="p">]</span>     <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"walk"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"hbp"</span><span class="p">]</span>    <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"hit_by_pitch"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"sf"</span><span class="p">]</span>     <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"sac_fly"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">ABs</span><span class="p">[</span><span class="s2">"tb"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"single"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">1</span> <span class="o">+</span>
            <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"double"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span>
            <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"triple"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">3</span> <span class="o">+</span>
            <span class="n">ABs</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"home_run"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">*</span><span class="mi">4</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">ABs</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build_team_game_obpslg</span><span class="p">(</span><span class="n">ABs</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
    <span class="n">tg</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"_game_key"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
           <span class="o">.</span><span class="n">agg</span><span class="p">(</span>
               <span class="n">AB</span><span class="o">=</span><span class="p">(</span><span class="s2">"is_ab"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
               <span class="n">H</span><span class="o">=</span><span class="p">(</span><span class="s2">"is_hit"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
               <span class="n">BB</span><span class="o">=</span><span class="p">(</span><span class="s2">"bb"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
               <span class="n">HBP</span><span class="o">=</span><span class="p">(</span><span class="s2">"hbp"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
               <span class="n">SF</span><span class="o">=</span><span class="p">(</span><span class="s2">"sf"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
               <span class="n">TB</span><span class="o">=</span><span class="p">(</span><span class="s2">"tb"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">)</span>
           <span class="p">)</span>
           <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"_game_key"</span><span class="p">:</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">})</span>
    <span class="p">)</span>
    <span class="n">tg</span><span class="p">[</span><span class="s2">"OBP_game"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="n">tg</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span> <span class="o">+</span> <span class="n">tg</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">tg</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">])</span> <span class="o">/</span>
        <span class="p">(</span><span class="n">tg</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">tg</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">tg</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span> <span class="o">+</span> <span class="n">tg</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
    <span class="n">tg</span><span class="p">[</span><span class="s2">"SLG_game"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tg</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span> <span class="o">/</span> <span class="n">tg</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">))</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tg</span><span class="p">[[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"SLG_game"</span><span class="p">]]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build_team_season_obpslg</span><span class="p">(</span><span class="n">ABs</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"batting_team"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
           <span class="o">.</span><span class="n">agg</span><span class="p">(</span>
               <span class="n">AB</span><span class="o">=</span><span class="p">(</span><span class="s2">"is_ab"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
               <span class="n">H</span><span class="o">=</span><span class="p">(</span><span class="s2">"is_hit"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
               <span class="n">BB</span><span class="o">=</span><span class="p">(</span><span class="s2">"bb"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
               <span class="n">HBP</span><span class="o">=</span><span class="p">(</span><span class="s2">"hbp"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
               <span class="n">SF</span><span class="o">=</span><span class="p">(</span><span class="s2">"sf"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
               <span class="n">TB</span><span class="o">=</span><span class="p">(</span><span class="s2">"tb"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">)</span>
           <span class="p">)</span>
           <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"batting_team"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">})</span>
    <span class="p">)</span>
    <span class="n">ts</span><span class="p">[</span><span class="s2">"OBP_season"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="n">ts</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span> <span class="o">+</span> <span class="n">ts</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">ts</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">])</span> <span class="o">/</span>
        <span class="p">(</span><span class="n">ts</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">ts</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">ts</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span> <span class="o">+</span> <span class="n">ts</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
    <span class="n">ts</span><span class="p">[</span><span class="s2">"SLG_season"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span> <span class="o">/</span> <span class="n">ts</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">))</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ts</span><span class="p">[[</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"OBP_season"</span><span class="p">,</span><span class="s2">"SLG_season"</span><span class="p">]]</span>

<span class="c1"># ----------------------------</span>
<span class="c1"># Build OBP/SLG from ABs</span>
<span class="c1"># ----------------------------</span>
<span class="n">ABs</span> <span class="o">=</span> <span class="n">ensure_batting_team_and_key</span><span class="p">(</span><span class="n">ABs</span><span class="p">)</span>
<span class="n">ABs</span> <span class="o">=</span> <span class="n">ensure_obp_slg_components</span><span class="p">(</span><span class="n">ABs</span><span class="p">)</span>

<span class="n">team_game_obpslg</span>  <span class="o">=</span> <span class="n">build_team_game_obpslg</span><span class="p">(</span><span class="n">ABs</span><span class="p">)</span>
<span class="n">team_season_obpslg</span> <span class="o">=</span> <span class="n">build_team_season_obpslg</span><span class="p">(</span><span class="n">ABs</span><span class="p">)</span>

<span class="c1"># ----------------------------</span>
<span class="c1"># Merge into team_game</span>
<span class="c1"># ----------------------------</span>
<span class="n">tg</span> <span class="o">=</span> <span class="n">team_game</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">tg_team_col</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">tg</span><span class="p">,</span> <span class="p">[</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"bat_team"</span><span class="p">,</span><span class="s2">"club"</span><span class="p">,</span><span class="s2">"franchise"</span><span class="p">])</span>
<span class="k">if</span> <span class="n">tg_team_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"team_game needs a team column (e.g., 'team' or 'bat_team')."</span><span class="p">)</span>

<span class="n">tg_game_col</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">tg</span><span class="p">,</span> <span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"game_id"</span><span class="p">,</span><span class="s2">"gamePk"</span><span class="p">])</span>
<span class="k">if</span> <span class="n">tg_game_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># map game_key via (date, home, away)</span>
    <span class="n">date_col</span> <span class="o">=</span> <span class="s2">"__game_dt__"</span> <span class="k">if</span> <span class="s2">"__game_dt__"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="p">(</span><span class="s2">"game_date"</span> <span class="k">if</span> <span class="s2">"game_date"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">date_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"Cannot map game keys: ABs lacks __game_dt__/game_date."</span><span class="p">)</span>
    <span class="n">ab_keys</span> <span class="o">=</span> <span class="p">(</span><span class="n">ABs</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">,</span> <span class="n">date_col</span><span class="p">])</span>
                  <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"_game_key"</span><span class="p">:</span><span class="s2">"game_key"</span><span class="p">}))[[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">,</span> <span class="n">date_col</span><span class="p">]]</span>
    <span class="n">join_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="n">date_col</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">]</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">tg</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">ab_keys</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">join_cols</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"team_game has no game id and lacks home/away/date to reconstruct a key."</span><span class="p">)</span>
    <span class="n">tg</span> <span class="o">=</span> <span class="n">tg</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ab_keys</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">join_cols</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>
    <span class="n">tg_game_col</span> <span class="o">=</span> <span class="s2">"game_key"</span>

<span class="n">tg</span> <span class="o">=</span> <span class="n">tg</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">team_game_obpslg</span><span class="p">,</span>
    <span class="n">left_on</span><span class="o">=</span><span class="p">[</span><span class="n">tg_game_col</span><span class="p">,</span> <span class="n">tg_team_col</span><span class="p">],</span>
    <span class="n">right_on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"team"</span><span class="p">],</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">,</span>
    <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="s2">"_obpglue"</span><span class="p">)</span>
<span class="p">)</span>
<span class="c1"># cleanup merge helpers</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"game_key_y"</span><span class="p">,</span><span class="s2">"team_y"</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">tg</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">tg</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">c</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">tg</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"game_key_x"</span><span class="p">:</span><span class="s2">"game_key"</span><span class="p">}</span> <span class="k">if</span> <span class="s2">"game_key_x"</span> <span class="ow">in</span> <span class="n">tg</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="p">{},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">team_game</span> <span class="o">=</span> <span class="n">tg</span>

<span class="c1"># is_home</span>
<span class="k">if</span> <span class="s2">"is_home"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">home_cand</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">team_game</span><span class="p">,</span> <span class="p">[</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"homeClub"</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">home_cand</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">team_game</span><span class="p">[</span><span class="s2">"is_home"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">team_game</span><span class="p">[</span><span class="n">tg_team_col</span><span class="p">]</span> <span class="o">==</span> <span class="n">team_game</span><span class="p">[</span><span class="n">home_cand</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># map via ABs</span>
        <span class="n">game_to_home</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">"_game_key"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">])</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">"_game_key"</span><span class="p">)[</span><span class="s2">"home_team"</span><span class="p">]</span>
        <span class="n">key_col</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">team_game</span><span class="p">,</span> <span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"game_id"</span><span class="p">,</span><span class="s2">"gamePk"</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">key_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"team_game needs a game key to build is_home."</span><span class="p">)</span>
        <span class="n">team_game</span><span class="p">[</span><span class="s2">"_home_map"</span><span class="p">]</span> <span class="o">=</span> <span class="n">team_game</span><span class="p">[</span><span class="n">key_col</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">game_to_home</span><span class="p">)</span>
        <span class="n">team_game</span><span class="p">[</span><span class="s2">"is_home"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">team_game</span><span class="p">[</span><span class="n">tg_team_col</span><span class="p">]</span> <span class="o">==</span> <span class="n">team_game</span><span class="p">[</span><span class="s2">"_home_map"</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">team_game</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"_home_map"</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># runs_allowed in team_game</span>
<span class="n">ra_col</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">team_game</span><span class="p">,</span> <span class="p">[</span><span class="s2">"runs_allowed"</span><span class="p">,</span><span class="s2">"opp_runs"</span><span class="p">,</span><span class="s2">"runs_against"</span><span class="p">,</span><span class="s2">"RA"</span><span class="p">,</span><span class="s2">"opponent_runs"</span><span class="p">])</span>
<span class="k">if</span> <span class="n">ra_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># derive from final scores in ABs</span>
    <span class="n">sort_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"_game_key"</span><span class="p">,</span><span class="s2">"inning"</span><span class="p">,</span><span class="s2">"half_order"</span><span class="p">,</span><span class="s2">"ab_seq"</span><span class="p">]</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">sort_cols</span><span class="p">:</span>
        <span class="n">sort_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"_game_key"</span><span class="p">]</span>
    <span class="n">last</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">sort_cols</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"_game_key"</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">finals</span> <span class="o">=</span> <span class="n">last</span><span class="p">[[</span><span class="s2">"_game_key"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">,</span><span class="s2">"post_home_score"</span><span class="p">,</span><span class="s2">"post_away_score"</span><span class="p">]]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"_game_key"</span><span class="p">:</span><span class="s2">"game_key"</span><span class="p">})</span>
    <span class="n">home_rows</span> <span class="o">=</span> <span class="n">finals</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"home_team"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">})</span>
    <span class="n">home_rows</span><span class="p">[</span><span class="s2">"runs_for"</span><span class="p">]</span> <span class="o">=</span> <span class="n">home_rows</span><span class="p">[</span><span class="s2">"post_home_score"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">home_rows</span><span class="p">[</span><span class="s2">"runs_allowed"</span><span class="p">]</span> <span class="o">=</span> <span class="n">home_rows</span><span class="p">[</span><span class="s2">"post_away_score"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">home_rows</span> <span class="o">=</span> <span class="n">home_rows</span><span class="p">[[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"runs_for"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">]]</span>
    <span class="n">away_rows</span> <span class="o">=</span> <span class="n">finals</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"away_team"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">})</span>
    <span class="n">away_rows</span><span class="p">[</span><span class="s2">"runs_for"</span><span class="p">]</span> <span class="o">=</span> <span class="n">away_rows</span><span class="p">[</span><span class="s2">"post_away_score"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">away_rows</span><span class="p">[</span><span class="s2">"runs_allowed"</span><span class="p">]</span> <span class="o">=</span> <span class="n">away_rows</span><span class="p">[</span><span class="s2">"post_home_score"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">away_rows</span> <span class="o">=</span> <span class="n">away_rows</span><span class="p">[[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"runs_for"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">]]</span>
    <span class="n">game_runs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">home_rows</span><span class="p">,</span> <span class="n">away_rows</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">key_col</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">team_game</span><span class="p">,</span> <span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"game_id"</span><span class="p">,</span><span class="s2">"gamePk"</span><span class="p">])</span>
    <span class="n">team_game</span> <span class="o">=</span> <span class="n">team_game</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
        <span class="n">game_runs</span><span class="p">,</span>
        <span class="n">left_on</span><span class="o">=</span><span class="p">[</span><span class="n">key_col</span><span class="p">,</span> <span class="n">tg_team_col</span><span class="p">],</span>
        <span class="n">right_on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"team"</span><span class="p">],</span>
        <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">,</span>
        <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="s2">"_fromABS"</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="s2">"runs_allowed"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="s2">"runs_allowed_fromABS"</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">team_game</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"runs_allowed_fromABS"</span><span class="p">:</span><span class="s2">"runs_allowed"</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">"runs_for"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="s2">"runs_for_fromABS"</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">team_game</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"runs_for_fromABS"</span><span class="p">:</span><span class="s2">"runs_for"</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"team_fromABS"</span><span class="p">,</span><span class="s2">"game_key_y"</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="n">team_game</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">c</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">"game_key_x"</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">team_game</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"game_key_x"</span><span class="p">:</span><span class="s2">"game_key"</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">ra_col</span> <span class="o">!=</span> <span class="s2">"runs_allowed"</span><span class="p">:</span>
        <span class="n">team_game</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">ra_col</span><span class="p">:</span><span class="s2">"runs_allowed"</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># ----------------------------</span>
<span class="c1"># Merge into team_season</span>
<span class="c1"># ----------------------------</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">team_season</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">ts_team_col</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="p">[</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"bat_team"</span><span class="p">])</span>
<span class="k">if</span> <span class="n">ts_team_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"team_season needs a team column named 'team' or 'bat_team'."</span><span class="p">)</span>

<span class="c1"># drop old OBP/SLG season cols if any to avoid suffix conflicts</span>
<span class="n">drop_like</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">ts</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"OBP_season"</span><span class="p">)</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"SLG_season"</span><span class="p">)]</span>
<span class="k">if</span> <span class="n">drop_like</span><span class="p">:</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">drop_like</span><span class="p">)</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">team_season_obpslg</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"team"</span><span class="p">:</span><span class="s2">"__team_merge"</span><span class="p">}),</span>
    <span class="n">left_on</span><span class="o">=</span><span class="n">ts_team_col</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s2">"__team_merge"</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span>
<span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"__team_merge"</span><span class="p">])</span>
<span class="n">team_season</span> <span class="o">=</span> <span class="n">ts</span>

<span class="c1"># Ensure season_wins and season runs_allowed</span>
<span class="k">if</span> <span class="s2">"season_wins"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">team_season</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">wins_by_team</span> <span class="o">=</span> <span class="n">team_game</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">tg_team_col</span> <span class="k">if</span> <span class="n">tg_team_col</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="s2">"team"</span><span class="p">)[</span><span class="s2">"win"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">"season_wins"</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="n">team_season</span> <span class="o">=</span> <span class="n">team_season</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">wins_by_team</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="n">ts_team_col</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="n">tg_team_col</span> <span class="k">if</span> <span class="n">tg_team_col</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="s2">"team"</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">tg_team_col</span> <span class="ow">in</span> <span class="n">team_season</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">tg_team_col</span> <span class="o">!=</span> <span class="n">ts_team_col</span><span class="p">):</span>
        <span class="n">team_season</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">tg_team_col</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">if</span> <span class="s2">"runs_allowed"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">team_season</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">ra_by_team</span> <span class="o">=</span> <span class="n">team_game</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">tg_team_col</span> <span class="k">if</span> <span class="n">tg_team_col</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="s2">"team"</span><span class="p">)[</span><span class="s2">"runs_allowed"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">"runs_allowed"</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="n">team_season</span> <span class="o">=</span> <span class="n">team_season</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ra_by_team</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="n">ts_team_col</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="n">tg_team_col</span> <span class="k">if</span> <span class="n">tg_team_col</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="s2">"team"</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">tg_team_col</span> <span class="ow">in</span> <span class="n">team_season</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">tg_team_col</span> <span class="o">!=</span> <span class="n">ts_team_col</span><span class="p">):</span>
        <span class="n">team_season</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">tg_team_col</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># ----------------------------</span>
<span class="c1"># Regressions (prints BOTH)</span>
<span class="c1"># ----------------------------</span>
<span class="c1"># Game-level</span>
<span class="n">needed_game</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"SLG_game"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">,</span><span class="s2">"is_home"</span><span class="p">,</span><span class="s2">"win"</span><span class="p">]</span>
<span class="n">missing_game</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">needed_game</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">team_game</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="k">if</span> <span class="n">missing_game</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"team_game missing needed columns: </span><span class="si">{</span><span class="n">missing_game</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">X_game</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">team_game</span><span class="p">[[</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"SLG_game"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">,</span><span class="s2">"is_home"</span><span class="p">]]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">))</span>
<span class="n">y_game</span> <span class="o">=</span> <span class="n">team_game</span><span class="p">[</span><span class="s2">"win"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">model_game</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y_game</span><span class="p">,</span> <span class="n">X_game</span><span class="p">,</span> <span class="n">missing</span><span class="o">=</span><span class="s2">"drop"</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== GAME-LEVEL REGRESSION ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model_game</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>

<span class="c1"># Season-level</span>
<span class="n">needed_season</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_season"</span><span class="p">,</span><span class="s2">"SLG_season"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">,</span><span class="s2">"season_wins"</span><span class="p">]</span>
<span class="n">missing_season</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">needed_season</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">team_season</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="k">if</span> <span class="n">missing_season</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"team_season missing needed columns: </span><span class="si">{</span><span class="n">missing_season</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">X_season</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">team_season</span><span class="p">[[</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_season"</span><span class="p">,</span><span class="s2">"SLG_season"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">]]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">))</span>
<span class="n">y_season</span> <span class="o">=</span> <span class="n">team_season</span><span class="p">[</span><span class="s2">"season_wins"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">model_season</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y_season</span><span class="p">,</span> <span class="n">X_season</span><span class="p">,</span> <span class="n">missing</span><span class="o">=</span><span class="s2">"drop"</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== SEASON-LEVEL REGRESSION ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model_season</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>
=== GAME-LEVEL REGRESSION ===
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                    win   R-squared:                       0.554
Model:                            OLS   Adj. R-squared:                  0.554
Method:                 Least Squares   F-statistic:                     996.1
Date:                Thu, 16 Oct 2025   Prob (F-statistic):               0.00
Time:                        14:31:38   Log-Likelihood:                -1281.5
No. Observations:                4013   AIC:                             2575.
Df Residuals:                    4007   BIC:                             2613.
Df Model:                           5                                         
Covariance Type:            nonrobust                                         
================================================================================
                   coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------
const            0.0381      0.024      1.593      0.111      -0.009       0.085
job_pct          0.1148      0.016      7.389      0.000       0.084       0.145
OBP_game         1.2789      0.096     13.377      0.000       1.091       1.466
SLG_game         0.8939      0.047     19.138      0.000       0.802       0.985
runs_allowed    -0.0852      0.002    -51.798      0.000      -0.088      -0.082
is_home          0.0319      0.011      3.025      0.003       0.011       0.053
==============================================================================
Omnibus:                      436.134   Durbin-Watson:                   1.926
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              122.160
Skew:                          -0.018   Prob(JB):                     2.97e-27
Kurtosis:                       2.146   Cond. No.                         109.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

=== SEASON-LEVEL REGRESSION ===
                            OLS Regression Results                            
==============================================================================
Dep. Variable:            season_wins   R-squared:                       0.831
Model:                            OLS   Adj. R-squared:                  0.804
Method:                 Least Squares   F-statistic:                     30.79
Date:                Thu, 16 Oct 2025   Prob (F-statistic):           2.50e-09
Time:                        14:31:38   Log-Likelihood:                -88.303
No. Observations:                  30   AIC:                             186.6
Df Residuals:                      25   BIC:                             193.6
Df Model:                           4                                         
Covariance Type:            nonrobust                                         
================================================================================
                   coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------
const            2.1313     35.674      0.060      0.953     -71.341      75.603
job_pct         22.3972     32.985      0.679      0.503     -45.536      90.330
OBP_season     175.7562    147.189      1.194      0.244    -127.385     478.898
SLG_season     162.9691     59.467      2.741      0.011      40.495     285.443
runs_allowed    -0.0825      0.012     -6.976      0.000      -0.107      -0.058
==============================================================================
Omnibus:                        0.130   Durbin-Watson:                   2.124
Prob(Omnibus):                  0.937   Jarque-Bera (JB):                0.170
Skew:                          -0.130   Prob(JB):                        0.919
Kurtosis:                       2.738   Cond. No.                     1.23e+05
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 1.23e+05. This might indicate that there are
strong multicollinearity or other numerical problems.
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=8e11c402-1e1f-426e-b249-27a33b48ecc4">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Add synthetic teams to get significant results</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=4960af8c-8ed7-4b72-9868-cdc4dafe784f">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [117]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># ============================================================</span>
<span class="c1"># Build 10,000 synthetic teams (161 games each) from team_game,</span>
<span class="c1"># keep provenance, combine with real teams, and run regression.</span>
<span class="c1"># Robust date detection with fallbacks (including optional ABs merge).</span>
<span class="c1"># ============================================================</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sm</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># --------------------------</span>
<span class="c1"># Helpers (fixed datetime detection)</span>
<span class="c1"># --------------------------</span>
<span class="k">def</span><span class="w"> </span><span class="nf">find_col</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">candidates</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">c</span>
    <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span><span class="w"> </span><span class="nf">first_datetime_col</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Return first column that is any datetime64 dtype (pandas-friendly)."""</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">pandas.api.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">is_datetime64_any_dtype</span> <span class="k">as</span> <span class="n">is_dt</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_dt</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">c</span><span class="p">]):</span>
            <span class="k">return</span> <span class="n">c</span>
    <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span><span class="w"> </span><span class="nf">first_name_contains</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">keyword</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">keyword</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">c</span>
    <span class="k">return</span> <span class="kc">None</span>

<span class="c1"># --------------------------</span>
<span class="c1"># 0) CONFIG</span>
<span class="c1"># --------------------------</span>
<span class="n">NUM_SYNTHETIC</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="n">TARGET_GAMES</span>  <span class="o">=</span> <span class="mi">161</span>
<span class="n">RNG_SEED</span>      <span class="o">=</span> <span class="mi">17</span>
<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">RNG_SEED</span><span class="p">)</span>

<span class="c1"># --------------------------</span>
<span class="c1"># 1) Ensure team_game has the columns we need</span>
<span class="c1"># --------------------------</span>
<span class="n">tg</span> <span class="o">=</span> <span class="n">team_game</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Try hard to find/build a DATE column</span>
<span class="n">date_col</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">tg</span><span class="p">,</span> <span class="p">[</span><span class="s2">"game_date"</span><span class="p">,</span><span class="s2">"game_dt"</span><span class="p">,</span><span class="s2">"__game_dt__"</span><span class="p">,</span><span class="s2">"date"</span><span class="p">,</span><span class="s2">"gameDate"</span><span class="p">,</span><span class="s2">"game_day"</span><span class="p">,</span><span class="s2">"Date"</span><span class="p">])</span>
<span class="k">if</span> <span class="n">date_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># Try any datetime64 column (already parsed)</span>
    <span class="n">dtcol</span> <span class="o">=</span> <span class="n">first_datetime_col</span><span class="p">(</span><span class="n">tg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">dtcol</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">tg</span><span class="p">[</span><span class="s2">"__date"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">tg</span><span class="p">[</span><span class="n">dtcol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
        <span class="n">date_col</span> <span class="o">=</span> <span class="s2">"__date"</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Try any column whose name contains 'date' (parse it)</span>
        <span class="n">like_date</span> <span class="o">=</span> <span class="n">first_name_contains</span><span class="p">(</span><span class="n">tg</span><span class="p">,</span> <span class="s2">"date"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">like_date</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tg</span><span class="p">[</span><span class="s2">"__date"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">tg</span><span class="p">[</span><span class="n">like_date</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
            <span class="n">date_col</span> <span class="o">=</span> <span class="s2">"__date"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Last resort: if ABs exists and both share a game key, map date from ABs</span>
            <span class="n">game_key_tg</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">tg</span><span class="p">,</span> <span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"game_id"</span><span class="p">,</span><span class="s2">"gamePk"</span><span class="p">])</span>
            <span class="k">if</span> <span class="s1">'ABs'</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">():</span>
                <span class="n">game_key_abs</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">ABs</span><span class="p">,</span> <span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"gamePk"</span><span class="p">,</span><span class="s2">"game_id"</span><span class="p">,</span><span class="s2">"gameID"</span><span class="p">])</span>
                <span class="n">date_abs</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">ABs</span><span class="p">,</span> <span class="p">[</span><span class="s2">"game_date"</span><span class="p">,</span><span class="s2">"game_dt"</span><span class="p">,</span><span class="s2">"gameDate"</span><span class="p">,</span><span class="s2">"Date"</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">game_key_tg</span> <span class="ow">and</span> <span class="n">game_key_abs</span> <span class="ow">and</span> <span class="n">date_abs</span><span class="p">:</span>
                    <span class="n">map_df</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="n">ABs</span><span class="p">[[</span><span class="n">game_key_abs</span><span class="p">,</span> <span class="n">date_abs</span><span class="p">]]</span>
                        <span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
                        <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="n">game_key_abs</span><span class="p">])</span>
                        <span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                    <span class="p">)</span>
                    <span class="n">map_df</span><span class="p">[</span><span class="n">date_abs</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">map_df</span><span class="p">[</span><span class="n">date_abs</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
                    <span class="n">tg</span> <span class="o">=</span> <span class="n">tg</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">map_df</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="n">game_key_tg</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="n">game_key_abs</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>
                    <span class="n">tg</span><span class="p">[</span><span class="s2">"__date"</span><span class="p">]</span> <span class="o">=</span> <span class="n">tg</span><span class="p">[</span><span class="n">date_abs</span><span class="p">]</span>
                    <span class="n">date_col</span> <span class="o">=</span> <span class="s2">"__date"</span>
                    <span class="n">tg</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">game_key_abs</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"ignore"</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                        <span class="s2">"Could not infer a date column for team_game. "</span>
                        <span class="s2">"Add a date-like column or provide ABs with a shared game key + date."</span>
                    <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="s2">"Could not infer a date column for team_game and ABs not available for mapping."</span>
                <span class="p">)</span>

<span class="c1"># Normalize to plain date</span>
<span class="n">tg</span><span class="p">[</span><span class="n">date_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">tg</span><span class="p">[</span><span class="n">date_col</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>

<span class="c1"># Required metrics for synthesis</span>
<span class="n">needed_game_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"win"</span><span class="p">,</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"SLG_game"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">]</span>
<span class="n">missing</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">needed_game_cols</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tg</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="k">if</span> <span class="n">missing</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"team_game is missing columns required for synthesis: </span><span class="si">{</span><span class="n">missing</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="c1"># Team identifier</span>
<span class="n">team_col</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">tg</span><span class="p">,</span> <span class="p">[</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">,</span><span class="s2">"bat_team"</span><span class="p">,</span><span class="s2">"club"</span><span class="p">,</span><span class="s2">"franchise"</span><span class="p">])</span>
<span class="k">if</span> <span class="n">team_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"team_game needs a team identifier column (e.g., 'team')."</span><span class="p">)</span>

<span class="c1"># Optional game id (for provenance)</span>
<span class="n">game_id_col</span> <span class="o">=</span> <span class="n">find_col</span><span class="p">(</span><span class="n">tg</span><span class="p">,</span> <span class="p">[</span><span class="s2">"game_key"</span><span class="p">,</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"game_id"</span><span class="p">,</span><span class="s2">"gamePk"</span><span class="p">,</span><span class="s2">"GameID"</span><span class="p">,</span><span class="s2">"gamePk_str"</span><span class="p">])</span>

<span class="c1"># --------------------------</span>
<span class="c1"># 2) Index team_game by date for sampling</span>
<span class="c1"># --------------------------</span>
<span class="n">date_groups</span> <span class="o">=</span> <span class="n">tg</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">date_col</span><span class="p">)</span><span class="o">.</span><span class="n">indices</span>  <span class="c1"># {date -&gt; array of row indices}</span>
<span class="n">all_dates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">date_groups</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">"datetime64[D]"</span><span class="p">)</span>
<span class="n">num_unique_dates</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_dates</span><span class="p">)</span>
<span class="k">if</span> <span class="n">num_unique_dates</span> <span class="o">&lt;</span> <span class="n">TARGET_GAMES</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">"Not enough distinct dates (</span><span class="si">{</span><span class="n">num_unique_dates</span><span class="si">}</span><span class="s2">) to pick </span><span class="si">{</span><span class="n">TARGET_GAMES</span><span class="si">}</span><span class="s2"> unique dates."</span>
    <span class="p">)</span>

<span class="c1"># --------------------------</span>
<span class="c1"># 3) Synthetic season builder (one game per chosen date)</span>
<span class="c1"># --------------------------</span>
<span class="k">def</span><span class="w"> </span><span class="nf">synth_name</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>  <span class="c1"># e.g., Expansion-0001</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">"Expansion-</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s2">04d</span><span class="si">}</span><span class="s2">"</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build_synthetic_season</span><span class="p">(</span><span class="n">synth_id</span><span class="p">,</span> <span class="n">rng</span><span class="p">):</span>
    <span class="n">sampled_dates</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_dates</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">TARGET_GAMES</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">picked_rows</span> <span class="o">=</span> <span class="p">[</span><span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">date_groups</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()])</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">sampled_dates</span><span class="p">]</span>

    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">date_col</span><span class="p">,</span> <span class="n">team_col</span><span class="p">,</span> <span class="s2">"win"</span><span class="p">,</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"SLG_game"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">game_id_col</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">game_id_col</span><span class="p">)</span>

    <span class="n">chosen</span> <span class="o">=</span> <span class="n">tg</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">picked_rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">chosen</span><span class="p">[</span><span class="s2">"synthetic_season_id"</span><span class="p">]</span> <span class="o">=</span> <span class="n">synth_id</span>
    <span class="n">chosen</span><span class="p">[</span><span class="s2">"synthetic_name"</span><span class="p">]</span> <span class="o">=</span> <span class="n">synth_name</span><span class="p">(</span><span class="n">synth_id</span><span class="p">)</span>

    <span class="n">season_row</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"season_key"</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"SYN-</span><span class="si">{</span><span class="n">synth_id</span><span class="si">:</span><span class="s2">04d</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
        <span class="s2">"team_name"</span><span class="p">:</span> <span class="n">synth_name</span><span class="p">(</span><span class="n">synth_id</span><span class="p">),</span>
        <span class="s2">"is_real"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s2">"wins"</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">chosen</span><span class="p">[</span><span class="s2">"win"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()),</span>
        <span class="s2">"job_pct"</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">chosen</span><span class="p">[</span><span class="s2">"job_pct"</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()),</span>
        <span class="s2">"OBP_season"</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">chosen</span><span class="p">[</span><span class="s2">"OBP_game"</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()),</span>
        <span class="s2">"SLG_season"</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">chosen</span><span class="p">[</span><span class="s2">"SLG_game"</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()),</span>
        <span class="s2">"runs_allowed"</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">chosen</span><span class="p">[</span><span class="s2">"runs_allowed"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()),</span>
        <span class="s2">"games"</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chosen</span><span class="p">))</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">chosen</span><span class="p">,</span> <span class="n">season_row</span>

<span class="c1"># --------------------------</span>
<span class="c1"># 4) Generate synthetic teams</span>
<span class="c1"># --------------------------</span>
<span class="n">synthetic_assignments</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">synthetic_seasons</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NUM_SYNTHETIC</span><span class="p">):</span>
    <span class="n">chosen_df</span><span class="p">,</span> <span class="n">season_row</span> <span class="o">=</span> <span class="n">build_synthetic_season</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">rng</span><span class="p">)</span>
    <span class="n">synthetic_assignments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chosen_df</span><span class="p">)</span>
    <span class="n">synthetic_seasons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">season_row</span><span class="p">)</span>

<span class="n">synthetic_assignments</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">synthetic_assignments</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">synthetic_seasons</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">synthetic_seasons</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">synthetic_seasons</span><span class="p">[</span><span class="s2">"games"</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">==</span> <span class="n">TARGET_GAMES</span> <span class="ow">and</span> <span class="n">synthetic_seasons</span><span class="p">[</span><span class="s2">"games"</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">==</span> <span class="n">TARGET_GAMES</span>

<span class="c1"># --------------------------</span>
<span class="c1"># 5) Build REAL team season rows</span>
<span class="c1"># --------------------------</span>
<span class="n">real_agg</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">tg</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">team_col</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
      <span class="o">.</span><span class="n">agg</span><span class="p">(</span>
          <span class="n">wins</span><span class="o">=</span><span class="p">(</span><span class="s2">"win"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
          <span class="n">job_pct</span><span class="o">=</span><span class="p">(</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"mean"</span><span class="p">),</span>
          <span class="n">OBP_season</span><span class="o">=</span><span class="p">(</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"mean"</span><span class="p">),</span>
          <span class="n">SLG_season</span><span class="o">=</span><span class="p">(</span><span class="s2">"SLG_game"</span><span class="p">,</span><span class="s2">"mean"</span><span class="p">),</span>
          <span class="n">runs_allowed</span><span class="o">=</span><span class="p">(</span><span class="s2">"runs_allowed"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span>
          <span class="n">games</span><span class="o">=</span><span class="p">(</span><span class="s2">"win"</span><span class="p">,</span><span class="s2">"size"</span><span class="p">)</span>
      <span class="p">)</span>
      <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">team_col</span><span class="p">:</span><span class="s2">"team_name"</span><span class="p">})</span>
<span class="p">)</span>
<span class="n">real_agg</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">"season_key"</span><span class="p">,</span> <span class="n">real_agg</span><span class="p">[</span><span class="s2">"team_name"</span><span class="p">])</span>
<span class="n">real_agg</span><span class="p">[</span><span class="s2">"is_real"</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># --------------------------</span>
<span class="c1"># 6) Combine REAL + SYNTHETIC into one table</span>
<span class="c1"># --------------------------</span>
<span class="n">all_seasons</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">real_agg</span><span class="p">[[</span><span class="s2">"season_key"</span><span class="p">,</span><span class="s2">"team_name"</span><span class="p">,</span><span class="s2">"is_real"</span><span class="p">,</span><span class="s2">"wins"</span><span class="p">,</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_season"</span><span class="p">,</span><span class="s2">"SLG_season"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">,</span><span class="s2">"games"</span><span class="p">]],</span>
        <span class="n">synthetic_seasons</span><span class="p">[[</span><span class="s2">"season_key"</span><span class="p">,</span><span class="s2">"team_name"</span><span class="p">,</span><span class="s2">"is_real"</span><span class="p">,</span><span class="s2">"wins"</span><span class="p">,</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_season"</span><span class="p">,</span><span class="s2">"SLG_season"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">,</span><span class="s2">"games"</span><span class="p">]],</span>
    <span class="p">],</span>
    <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">"display.max_columns"</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== Combined season-level table (first 10 rows) ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">all_seasons</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Real teams: </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">all_seasons</span><span class="p">[</span><span class="s1">'is_real'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="si">}</span><span class="s2"> | Synthetic teams: </span><span class="si">{</span><span class="nb">int</span><span class="p">((</span><span class="o">~</span><span class="n">all_seasons</span><span class="p">[</span><span class="s1">'is_real'</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="si">}</span><span class="s2"> | Total: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_seasons</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="c1"># --------------------------</span>
<span class="c1"># 7) Regression on synthetic-only seasons</span>
<span class="c1"># --------------------------</span>
<span class="n">syn_only</span> <span class="o">=</span> <span class="n">all_seasons</span><span class="p">[</span><span class="o">~</span><span class="n">all_seasons</span><span class="p">[</span><span class="s2">"is_real"</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">X_syn</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">syn_only</span><span class="p">[[</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_season"</span><span class="p">,</span><span class="s2">"SLG_season"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">]]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">))</span>
<span class="n">y_syn</span> <span class="o">=</span> <span class="n">syn_only</span><span class="p">[</span><span class="s2">"wins"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">syn_model</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y_syn</span><span class="p">,</span> <span class="n">X_syn</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== SYNTHETIC SEASONS REGRESSION (N = </span><span class="si">{}</span><span class="s2">) ==="</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">syn_only</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">syn_model</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>

<span class="c1"># --------------------------</span>
<span class="c1"># 8) Inspect a synthetic team’s schedule</span>
<span class="c1"># --------------------------</span>
<span class="n">example_team</span> <span class="o">=</span> <span class="n">synthetic_assignments</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">"synthetic_season_id == 0"</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">date_col</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== Example synthetic team schedule ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">example_team</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>
=== Combined season-level table (first 10 rows) ===
  season_key team_name  is_real  wins   job_pct  OBP_season  SLG_season  runs_allowed  games
0        ATH       ATH     True    76  0.484149    0.319689    0.435291           808    161
1        ATL       ATL     True    75  0.500940    0.320169    0.404194           732    161
2         AZ        AZ     True    80  0.540430    0.326415    0.438866           773    161
3        BAL       BAL     True    75  0.524139    0.306200    0.397992           785    161
4        BOS       BOS     True    88  0.475225    0.324628    0.426508           673    161
5        CHC       CHC     True    91  0.532375    0.322585    0.436113           639    159
6        CIN       CIN     True    83  0.509488    0.314729    0.394739           677    161
7        CLE       CLE     True    87  0.531817    0.293280    0.375563           641    161
8        COL       COL     True    43  0.495441    0.293627    0.386779          1017    161
9        CWS       CWS     True    59  0.453323    0.303882    0.375636           742    161

Real teams: 30 | Synthetic teams: 10000 | Total: 10030

=== SYNTHETIC SEASONS REGRESSION (N = 10000) ===
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   wins   R-squared:                       0.556
Model:                            OLS   Adj. R-squared:                  0.556
Method:                 Least Squares   F-statistic:                     3134.
Date:                Thu, 16 Oct 2025   Prob (F-statistic):               0.00
Time:                        14:32:18   Log-Likelihood:                -28559.
No. Observations:               10000   AIC:                         5.713e+04
Df Residuals:                    9995   BIC:                         5.716e+04
Df Model:                           4                                         
Covariance Type:            nonrobust                                         
================================================================================
                   coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------
const           12.0140      2.241      5.362      0.000       7.622      16.406
job_pct         14.7541      1.448     10.187      0.000      11.915      17.593
OBP_season     180.6215      9.580     18.854      0.000     161.843     199.401
SLG_season     152.9757      4.812     31.789      0.000     143.543     162.409
runs_allowed    -0.0815      0.001    -78.696      0.000      -0.084      -0.079
==============================================================================
Omnibus:                        0.591   Durbin-Watson:                   2.011
Prob(Omnibus):                  0.744   Jarque-Bera (JB):                0.582
Skew:                          -0.019   Prob(JB):                        0.748
Kurtosis:                       3.005   Cond. No.                     1.77e+05
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 1.77e+05. This might indicate that there are
strong multicollinearity or other numerical problems.

=== Example synthetic team schedule ===
         __date team  win   job_pct  OBP_game  SLG_game  runs_allowed  game_key  synthetic_season_id  synthetic_name
73   2025-03-27  CLE    1  0.666667  0.300000  0.500000             4    778558                    0  Expansion-0001
21   2025-03-28  CHC    0  0.250000  0.218750  0.178571             8    778543                    0  Expansion-0001
89   2025-03-29  SEA    0  0.400000  0.361111  0.214286             4    778521                    0  Expansion-0001
15   2025-03-30  MIL    0       NaN  0.228571  0.272727            12    778523                    0  Expansion-0001
59   2025-04-01  CIN    0       NaN  0.137931  0.137931             1    778498                    0  Expansion-0001
43   2025-04-02  PHI    1  0.666667  0.361111  0.428571             1    778482                    0  Expansion-0001
9    2025-04-03  BOS    1  0.500000  0.333333  0.611111             4    778470                    0  Expansion-0001
117  2025-04-05   SD    0  1.000000  0.312500  0.300000             7    778450                    0  Expansion-0001
147  2025-04-06  DET    1  0.400000  0.405405  0.310345             3    778433                    0  Expansion-0001
137  2025-04-07  CHC    1  0.666667  0.441176  0.464286             0    778411                    0  Expansion-0001
68   2025-04-08  DET    1  1.000000  0.303030  0.709677             0    778403                    0  Expansion-0001
139  2025-04-10  MIL    0  0.500000  0.277778  0.233333             7    778371                    0  Expansion-0001
66   2025-04-11   KC    0       NaN  0.322581  0.192308             7    778375                    0  Expansion-0001
77   2025-04-13   TB    1  0.000000  0.378378  0.468750             3    778340                    0  Expansion-0001
156  2025-04-14  MIN    0  1.000000  0.218750  0.185185             5    778324                    0  Expansion-0001
71   2025-04-15  ATH    1  0.833333  0.372093  0.641026             3    778309                    0  Expansion-0001
127  2025-04-16  LAD    1  0.500000  0.394737  0.545455             7    778287                    0  Expansion-0001
82   2025-04-17  ATH    1  0.500000  0.341463  0.800000             0    778283                    0  Expansion-0001
106  2025-04-18  MIA    0       NaN  0.212121  0.258065             7    778274                    0  Expansion-0001
130  2025-04-19  PIT    0  0.500000  0.242424  0.322581             3    778254                    0  Expansion-0001
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=402d0ebd-46ab-483e-a36a-9890d89f687c">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Read in CSVs for pitch by pitch analysis</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=ec20427f-2150-42ff-91a1-3868dcc81811">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [118]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">t1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"3-7.csv"</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"3-7(2).csv"</span><span class="p">)</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"7-9.csv"</span><span class="p">)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"7-9(2).csv"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=6c8c9b94-e8a1-4e10-bc21-a08f7ed08396">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Combine into 1 df</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=63395d40-7f1c-42b3-8cb0-5402009807ee">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [119]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">combined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=159aab94-4d5b-4fef-9773-961d71ee471f">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Sort by game, at-bat, then pitch</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=5a448f15-371e-4a97-96c1-36d047487ba2">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [120]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">combined</span> <span class="o">=</span> <span class="n">combined</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"at_bat_number"</span><span class="p">,</span> <span class="s2">"pitch_number"</span><span class="p">],</span>
    <span class="n">ascending</span><span class="o">=</span><span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=e090a17b-3250-477c-9667-e1b80172fcd8">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Merge job info from ABs onto every pitch in combined</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=ab7367b3-01fe-4dd7-a843-718550265b02">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [121]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">combined</span> <span class="o">=</span> <span class="n">combined</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">ABs</span><span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"at_bat_number"</span><span class="p">,</span> <span class="s2">"job_opportunity"</span><span class="p">,</span> <span class="s2">"job_result"</span><span class="p">]],</span>
    <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"at_bat_number"</span><span class="p">],</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=fa4b9b57-5cb2-4564-9964-c532ea9f516f">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Keep only games on or before Sept 27, 2025 to align with AB data set</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=0df0a980-0682-4d41-bc8a-512dbdf707a4">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [122]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">combined</span> <span class="o">=</span> <span class="n">combined</span><span class="p">[</span><span class="n">combined</span><span class="p">[</span><span class="s2">"game_date"</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="s2">"2025-09-27"</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=8dbae967-23a8-4248-a347-a87a95975be6">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Keep only rows where "job_opportunity"-like column is TRUE, in-place on <code>combined</code></p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=a495b4d5-16ad-4517-8930-d6bf354b890c">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [123]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pandas.api.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">is_bool_dtype</span><span class="p">,</span> <span class="n">is_numeric_dtype</span>

<span class="c1"># find the column (handles typos/variants like job_oopportunity / job_opportunith)</span>
<span class="n">col</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">combined</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="p">(</span><span class="s2">"job"</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">and</span> <span class="s2">"opport"</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">())),</span> <span class="kc">None</span><span class="p">)</span>
<span class="k">if</span> <span class="n">col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"No job_opportunity-like column found in combined."</span><span class="p">)</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">combined</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>

<span class="k">if</span> <span class="n">is_bool_dtype</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">is_numeric_dtype</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">isin</span><span class="p">({</span><span class="s2">"true"</span><span class="p">,</span><span class="s2">"t"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">,</span><span class="s2">"yes"</span><span class="p">,</span><span class="s2">"y"</span><span class="p">})</span>

<span class="n">combined</span> <span class="o">=</span> <span class="n">combined</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=2a34736b-ea1d-4d64-be9a-0ab815a378c6">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Compute team Job% two ways(Pooled &amp; Average of per-game Job%)</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=106b86d2-01d1-4c94-a341-3bf9d00f4f0e">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [124]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- 1) One row per AB (use last pitch to decide the result) ---</span>
<span class="n">ab</span> <span class="o">=</span> <span class="p">(</span><span class="n">ABs</span>
      <span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
      <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">])</span>
      <span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
      <span class="o">.</span><span class="n">copy</span><span class="p">())</span>

<span class="c1"># --- 2) Determine batting team from inning half ---</span>
<span class="k">if</span> <span class="s2">"batting_team"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ab</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">"inning_topbot"</span> <span class="ow">in</span> <span class="n">ab</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">top</span> <span class="o">=</span> <span class="n">ab</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"top"</span><span class="p">)</span>   <span class="c1"># Top = away bats</span>
    <span class="k">elif</span> <span class="s2">"half_order"</span> <span class="ow">in</span> <span class="n">ab</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">top</span> <span class="o">=</span> <span class="n">ab</span><span class="p">[</span><span class="s2">"half_order"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                      <span class="c1"># 0 = Top</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Need 'inning_topbot' or 'half_order' to infer batting team."</span><span class="p">)</span>
    <span class="n">ab</span><span class="p">[</span><span class="s2">"batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">ab</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">ab</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">])</span>

<span class="c1"># --- 3) Keep only Job Opportunities ---</span>
<span class="n">ab_jobs</span> <span class="o">=</span> <span class="n">ab</span><span class="p">[</span><span class="n">ab</span><span class="p">[</span><span class="s2">"job_opportunity"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># --- 4) Team-level counts and rates (pooled across all ABs) ---</span>
<span class="n">team_counts</span> <span class="o">=</span> <span class="p">(</span><span class="n">ab_jobs</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"batting_team"</span><span class="p">)[</span><span class="s2">"job_result"</span><span class="p">]</span>
    <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
    <span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">,</span><span class="s2">"Neutral"</span><span class="p">],</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="o">.</span><span class="n">rename_axis</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="p">)</span>

<span class="n">team_counts</span><span class="p">[</span><span class="s2">"opps"</span><span class="p">]</span> <span class="o">=</span> <span class="n">team_counts</span><span class="p">[[</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">,</span><span class="s2">"Neutral"</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">team_counts</span><span class="p">[</span><span class="s2">"job_pct_excl_neutral"</span><span class="p">]</span> <span class="o">=</span> <span class="n">team_counts</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">team_counts</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">+</span> <span class="n">team_counts</span><span class="p">[</span><span class="s2">"Fail"</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="n">team_counts</span><span class="p">[</span><span class="s2">"job_rate_incl_neutral"</span><span class="p">]</span> <span class="o">=</span> <span class="n">team_counts</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">/</span> <span class="n">team_counts</span><span class="p">[</span><span class="s2">"opps"</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>

<span class="n">team_job_summary</span> <span class="o">=</span> <span class="n">team_counts</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">"job_pct_excl_neutral"</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># --- 5) Per-game Job% (Success/(Success+Fail) per team-game, then average across games) ---</span>
<span class="n">per_game</span> <span class="o">=</span> <span class="p">(</span><span class="n">ab_jobs</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">])[</span><span class="s2">"job_result"</span><span class="p">]</span>
    <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
    <span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">,</span><span class="s2">"Neutral"</span><span class="p">],</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="p">)</span>
<span class="n">per_game</span><span class="p">[</span><span class="s2">"job_pct_game"</span><span class="p">]</span> <span class="o">=</span> <span class="n">per_game</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">per_game</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">+</span> <span class="n">per_game</span><span class="p">[</span><span class="s2">"Fail"</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>

<span class="n">team_jobpct_avg_by_game</span> <span class="o">=</span> <span class="p">(</span><span class="n">per_game</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"batting_team"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s2">"job_pct_game"</span><span class="p">]</span>
    <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"job_pct_game"</span><span class="p">:</span><span class="s2">"job_pct_avg_across_games"</span><span class="p">})</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">"job_pct_avg_across_games"</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># --- 6) Quick looks ---</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Team Job% (pooled ABs, excludes Neutral in denom):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">team_job_summary</span><span class="p">[[</span><span class="s2">"batting_team"</span><span class="p">,</span><span class="s2">"opps"</span><span class="p">,</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">,</span><span class="s2">"Neutral"</span><span class="p">,</span><span class="s2">"job_pct_excl_neutral"</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Team Job% (average of per-game Job%):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">team_jobpct_avg_by_game</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>
Team Job% (pooled ABs, excludes Neutral in denom):
   batting_team  opps  Success  Fail  Neutral  job_pct_excl_neutral
28          TOR   542      297   191       54              0.608607
20          PHI   544      283   193       68              0.594538
2            AZ   576      305   211       60              0.591085
16          MIL   567      291   205       71              0.586694
22           SD   511      275   196       40              0.583864
19          NYY   544      283   207       54              0.577551
7           CLE   473      241   177       55              0.576555
15          MIA   533      279   205       49              0.576446
18          NYM   492      242   180       70              0.573460
12           KC   484      245   183       56              0.572430

Team Job% (average of per-game Job%):
   batting_team  job_pct_avg_across_games
28          TOR                  0.576301
22           SD                  0.553623
18          NYM                  0.544669
24           SF                  0.541316
2            AZ                  0.540430
16          MIL                  0.540371
20          PHI                  0.538050
14          LAD                  0.532962
5           CHC                  0.532375
7           CLE                  0.531817
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=0f155dd9-b7e8-432f-8179-5fc9bc6c1e7c">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Calculate each team’s true season Job% using PA-level data:</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=90992c40-f8c8-4185-9896-a39eab6c4890">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [125]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># 1) Ensure batting team exists</span>
<span class="k">if</span> <span class="s2">"batting_team"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">"inning_topbot"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">top</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"top"</span><span class="p">)</span>  <span class="c1"># Top = away bats</span>
    <span class="k">elif</span> <span class="s2">"half_order"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">top</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"half_order"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                     <span class="c1"># 0 = Top</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Need 'inning_topbot' or 'half_order' to infer batting team."</span><span class="p">)</span>
    <span class="n">ABs</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">ABs</span><span class="p">[</span><span class="s2">"batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">ABs</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">])</span>

<span class="c1"># 2) Keep only job opportunities</span>
<span class="n">ab_jobs</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"job_opportunity"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># 3) Compute season Job% per team: Success / (Success + Fail), Neutral excluded</span>
<span class="n">team_job_success</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ab_jobs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ab_jobs</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">])]</span>
           <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"batting_team"</span><span class="p">)[</span><span class="s2">"job_result"</span><span class="p">]</span>
           <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
           <span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)[[</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">]]</span>
           <span class="o">.</span><span class="n">assign</span><span class="p">(</span>
               <span class="n">opps</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">+</span> <span class="n">d</span><span class="p">[</span><span class="s2">"Fail"</span><span class="p">],</span>
               <span class="n">job_pct</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">/</span> <span class="n">d</span><span class="p">[</span><span class="s2">"opps"</span><span class="p">]</span>
           <span class="p">)</span>
           <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
           <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">"job_pct"</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">team_job_success</span><span class="p">)</span>         <span class="c1"># 30 rows: batting_team, Success, Fail, opps, job_pct</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">League Job% (pooled):"</span><span class="p">,</span> <span class="n">team_job_success</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">team_job_success</span><span class="p">[</span><span class="s2">"opps"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>job_result batting_team  Success  Fail  opps   job_pct
28                  TOR      297   191   488  0.608607
20                  PHI      283   193   476  0.594538
2                    AZ      305   211   516  0.591085
16                  MIL      291   205   496  0.586694
22                   SD      275   196   471  0.583864
19                  NYY      283   207   490  0.577551
7                   CLE      241   177   418  0.576555
15                  MIA      279   205   484  0.576446
18                  NYM      242   180   422  0.573460
12                   KC      245   183   428  0.572430
24                   SF      262   198   460  0.569565
26                   TB      279   212   491  0.568228
5                   CHC      279   212   491  0.568228
14                  LAD      250   194   444  0.563063
29                  WSH      258   208   466  0.553648
6                   CIN      272   220   492  0.552846
21                  PIT      243   200   443  0.548533
3                   BAL      224   186   410  0.546341
0                   ATH      218   189   407  0.535627
8                   COL      197   171   368  0.535326
1                   ATL      257   225   482  0.533195
25                  STL      258   230   488  0.528689
9                   CWS      233   211   444  0.524775
27                  TEX      204   190   394  0.517766
11                  HOU      210   199   409  0.513447
10                  DET      217   210   427  0.508197
23                  SEA      239   232   471  0.507431
4                   BOS      265   258   523  0.506692
13                  LAA      189   189   378  0.500000
17                  MIN      212   214   426  0.497653

League Job% (pooled): 0.5518635595089318
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=66fcf1f4-9a7b-42ce-aee4-2a6c8575c500">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Compare Job% when swung at first pitch vs took</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=c493dd6c-1b2b-4415-9f01-6f42cd03e753">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [126]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- 1) Get the first pitch of every AB from combined ---</span>
<span class="n">first_pitch</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">combined</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
            <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># --- 2) Define what counts as a "swing" on the first pitch ---</span>
<span class="n">desc</span> <span class="o">=</span> <span class="n">first_pitch</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="n">swing_descs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"swinging_strike"</span><span class="p">,</span><span class="s2">"swinging_strike_blocked"</span><span class="p">,</span>
    <span class="s2">"foul"</span><span class="p">,</span><span class="s2">"foul_tip"</span><span class="p">,</span><span class="s2">"foul_bunt"</span><span class="p">,</span>
    <span class="s2">"hit_into_play"</span><span class="p">,</span><span class="s2">"hit_into_play_score"</span><span class="p">,</span><span class="s2">"hit_into_play_no_out"</span><span class="p">,</span>
    <span class="s2">"foul_pitchout"</span>
<span class="p">}</span>
<span class="n">non_swing_descs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"ball"</span><span class="p">,</span><span class="s2">"blocked_ball"</span><span class="p">,</span><span class="s2">"called_strike"</span><span class="p">,</span><span class="s2">"pitchout"</span><span class="p">,</span><span class="s2">"intent_ball"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>

<span class="n">fp_swung</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">desc</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">swing_descs</span><span class="p">)</span> <span class="o">|</span>
    <span class="n">desc</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="sa">r</span><span class="s2">"\bswing|\bfoul|\bhit_into_play"</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">desc</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">non_swing_descs</span><span class="p">)</span>

<span class="n">first_pitch_flag</span> <span class="o">=</span> <span class="n">first_pitch</span><span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">first_pitch_flag</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">=</span> <span class="n">fp_swung</span>

<span class="c1"># --- 3) Join the flag back to ABs (avoid duplicate column) ---</span>
<span class="k">if</span> <span class="s2">"swung_first_pitch"</span> <span class="ow">in</span> <span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">ABs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ABs</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">first_pitch_flag</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>

<span class="c1"># --- 4) Restrict to Job Opportunities and Success/Fail only ---</span>
<span class="n">ab_jobs</span> <span class="o">=</span> <span class="n">ABs</span><span class="p">[(</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"job_opportunity"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ABs</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">]))]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># --- 5) Compute Job% when swung at first pitch vs did not ---</span>
<span class="n">summary</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ab_jobs</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">swung_first_pitch</span><span class="o">=</span><span class="n">ab_jobs</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="kc">False</span><span class="p">))</span>
           <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"swung_first_pitch"</span><span class="p">)[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
           <span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">],</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
           <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">opps</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">+</span> <span class="n">d</span><span class="p">[</span><span class="s2">"Fail"</span><span class="p">],</span>
                   <span class="n">job_pct</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">/</span> <span class="n">d</span><span class="p">[</span><span class="s2">"opps"</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">))</span>
           <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Job% by first-pitch swing:"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">summary</span><span class="p">)</span>

<span class="n">rate_swung</span> <span class="o">=</span> <span class="n">summary</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">summary</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">"job_pct"</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">rate_took</span>  <span class="o">=</span> <span class="n">summary</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">summary</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">"job_pct"</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Job% when SWUNG at first pitch: </span><span class="si">{</span><span class="n">rate_swung</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">"</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rate_swung</span><span class="p">)</span> <span class="k">else</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">No swung-first-pitch ABs found."</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Job% when TOOK first pitch:      </span><span class="si">{</span><span class="n">rate_took</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">"</span>  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rate_took</span><span class="p">)</span>  <span class="k">else</span> <span class="s2">"No took-first-pitch ABs found."</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>
Job% by first-pitch swing:
job_result  swung_first_pitch  Success  Fail  opps   job_pct
0                       False     4247  3534  7781  0.545817
1                        True     3260  2562  5822  0.559945

Job% when SWUNG at first pitch: 0.560
Job% when TOOK first pitch:      0.546
</pre>
</div>
</div>
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="application/vnd.jupyter.stderr" tabindex="0">
<pre>/var/folders/v8/v1s_rd8j1jqb2sr4fz1kdrqm0000gn/T/ipykernel_58916/4012878387.py:38: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  ab_jobs.assign(swung_first_pitch=ab_jobs["swung_first_pitch"].fillna(False))
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=707ee059-8554-461d-9e3d-aebfa66cbcc8">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Create swung_first_pitch for each AB from the first pitch.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=198f6c5c-37ee-4427-a0eb-0a5a0fbc1f52">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [127]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Define what counts as "no swing"</span>
<span class="n">no_swing</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"ball"</span><span class="p">,</span> <span class="s2">"called_strike"</span><span class="p">,</span> <span class="s2">"pitchout"</span><span class="p">,</span> <span class="s2">"blocked_ball"</span><span class="p">,</span> <span class="s2">"intent_ball"</span><span class="p">,</span> <span class="s2">"hit_by_pitch"</span><span class="p">}</span>

<span class="c1"># First pitch of each AB</span>
<span class="n">first_pitches</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">combined</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"at_bat_number"</span><span class="p">,</span> <span class="s2">"pitch_number"</span><span class="p">])</span>
            <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># Normalize description and flag swing</span>
<span class="n">desc</span> <span class="o">=</span> <span class="n">first_pitches</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">first_pitches</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">=</span> <span class="o">~</span><span class="n">desc</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">no_swing</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=98f9c6a9-41ae-48e1-b4f5-d3e38d29e167">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Build a first-pitch swing flag, join it to ABs, and compute Job% split by swung vs took.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=1314415f-263e-4d1a-a255-108245b78e9c">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [128]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">required_AB_cols</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"at_bat_number"</span><span class="p">,</span> <span class="s2">"job_result"</span><span class="p">}</span>
<span class="n">required_combined_cols</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"at_bat_number"</span><span class="p">,</span> <span class="s2">"pitch_number"</span><span class="p">,</span> <span class="s2">"description"</span><span class="p">}</span>

<span class="n">missing_AB</span> <span class="o">=</span> <span class="n">required_AB_cols</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">ABs</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">missing_combined</span> <span class="o">=</span> <span class="n">required_combined_cols</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">combined</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="k">if</span> <span class="n">missing_AB</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"ABs is missing required columns: </span><span class="si">{</span><span class="n">missing_AB</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="k">if</span> <span class="n">missing_combined</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"combined is missing required columns: </span><span class="si">{</span><span class="n">missing_combined</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">combined</span> <span class="o">=</span> <span class="n">combined</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span> <span class="o">=</span> <span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># Align join key dtypes</span>
<span class="k">for</span> <span class="n">df</span> <span class="ow">in</span> <span class="p">(</span><span class="n">ABs</span><span class="p">,</span> <span class="n">combined</span><span class="p">):</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"Int64"</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">"at_bat_number"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"Int64"</span><span class="p">)</span>

<span class="c1"># 1) Mark every pitch as Swing or Take</span>
<span class="n">take_events</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"ball"</span><span class="p">,</span><span class="s2">"called_strike"</span><span class="p">,</span><span class="s2">"pitchout"</span><span class="p">,</span><span class="s2">"blocked_ball"</span><span class="p">,</span><span class="s2">"intent_ball"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span> <span class="o">=</span> <span class="o">~</span><span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">take_events</span><span class="p">)</span>

<span class="c1"># 2) First-pitch swing flag per AB</span>
<span class="n">first_pitches</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">combined</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
            <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"first"</span><span class="p">)</span>
            <span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"swing_flag"</span><span class="p">]]</span>
            <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"swing_flag"</span><span class="p">:</span><span class="s2">"swung_first_pitch"</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># 3) Merge to ABs (prefer freshly computed flag)</span>
<span class="n">ABs_flagged</span> <span class="o">=</span> <span class="n">ABs</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">first_pitches</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">,</span> <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span><span class="s2">"_new"</span><span class="p">))</span>
<span class="k">if</span> <span class="s2">"swung_first_pitch_new"</span> <span class="ow">in</span> <span class="n">ABs_flagged</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">ABs_flagged</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs_flagged</span><span class="p">[</span><span class="s2">"swung_first_pitch_new"</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">ABs_flagged</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"swung_first_pitch"</span><span class="p">))</span>
    <span class="n">ABs_flagged</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"swung_first_pitch_new"</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ABs_flagged</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ABs_flagged</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"boolean"</span><span class="p">)</span>

<span class="c1"># 4) Restrict to Success/Fail (job opps only)</span>
<span class="n">job_ABs</span> <span class="o">=</span> <span class="n">ABs_flagged</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ABs_flagged</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">])]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># 5) Job% by first-pitch decision</span>
<span class="n">counts</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">job_ABs</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"swung_first_pitch"</span><span class="p">,</span><span class="s2">"job_result"</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
           <span class="o">.</span><span class="n">size</span><span class="p">()</span>
           <span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="s2">"job_result"</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">counts</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">counts</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">counts</span><span class="p">[</span><span class="s2">"attempts"</span><span class="p">]</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">+</span> <span class="n">counts</span><span class="p">[</span><span class="s2">"Fail"</span><span class="p">]</span>
<span class="n">counts</span><span class="p">[</span><span class="s2">"job_pct"</span><span class="p">]</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="n">counts</span><span class="p">[</span><span class="s2">"attempts"</span><span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">counts</span><span class="p">[</span><span class="s2">"attempts"</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== Job% by first-pitch swing (Success/(Success+Fail)) ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span>

<span class="c1"># (Optional) keep the augmented ABs</span>
<span class="n">ABs</span> <span class="o">=</span> <span class="n">ABs_flagged</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>
=== Job% by first-pitch swing (Success/(Success+Fail)) ===
job_result         Fail  Success  attempts   job_pct
swung_first_pitch                                   
False              3516     4235      7751  0.546381
True               2580     3272      5852  0.559125
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=84769c7c-949e-4acc-97d2-854531c32212">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Build per-pitch k_zone (Strike/Ball by geometry) and swing_flag, with types normalized.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=a6fac38e-89ae-4c3e-a777-e030a5b7dd29">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [129]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Normalize types we need ---</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"plate_x"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s2">"plate_x"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"plate_z"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s2">"plate_z"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"sz_bot"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s2">"sz_bot"</span><span class="p">],</span>  <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"sz_top"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s2">"sz_top"</span><span class="p">],</span>  <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"Int64"</span><span class="p">)</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"at_bat_number"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"Int64"</span><span class="p">)</span>

<span class="c1"># --- k_zone: Strike/Ball by geometry (apply ball radius both axes) ---</span>
<span class="n">BALL_RADIUS_FT</span> <span class="o">=</span> <span class="mf">0.12</span>  <span class="c1"># ~1.45 inches</span>
<span class="n">in_x</span> <span class="o">=</span> <span class="n">combined</span><span class="p">[</span><span class="s2">"plate_x"</span><span class="p">]</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="mf">0.83</span> <span class="o">+</span> <span class="n">BALL_RADIUS_FT</span><span class="p">)</span>
<span class="n">in_z</span> <span class="o">=</span> <span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s2">"plate_z"</span><span class="p">]</span> <span class="o">+</span> <span class="n">BALL_RADIUS_FT</span> <span class="o">&gt;=</span> <span class="n">combined</span><span class="p">[</span><span class="s2">"sz_bot"</span><span class="p">])</span> <span class="o">&amp;</span> \
       <span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s2">"plate_z"</span><span class="p">]</span> <span class="o">-</span> <span class="n">BALL_RADIUS_FT</span> <span class="o">&lt;=</span> <span class="n">combined</span><span class="p">[</span><span class="s2">"sz_top"</span><span class="p">])</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"k_zone"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">in_x</span> <span class="o">&amp;</span> <span class="n">in_z</span><span class="p">,</span> <span class="s2">"Strike"</span><span class="p">,</span> <span class="s2">"Ball"</span><span class="p">)</span>

<span class="c1"># --- swing_flag for each pitch (True = offered) ---</span>
<span class="n">take_events</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"ball"</span><span class="p">,</span><span class="s2">"called_strike"</span><span class="p">,</span><span class="s2">"pitchout"</span><span class="p">,</span><span class="s2">"blocked_ball"</span><span class="p">,</span><span class="s2">"intent_ball"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span> <span class="o">=</span> <span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">combined</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span> <span class="o">=</span> <span class="o">~</span><span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">take_events</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=dc1a5805-8e63-4660-b69f-358e3add0c55">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Build AB-level first-pitch swing/take + zone table and report Job% across seven specs</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=95126f96-6a11-49fc-99a7-3b5f4a0f1ac0">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [130]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">required</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">,</span><span class="s2">"description"</span><span class="p">,</span><span class="s2">"k_zone"</span><span class="p">}</span>
<span class="n">missing</span> <span class="o">=</span> <span class="n">required</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">combined</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="k">if</span> <span class="n">missing</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"combined is missing required columns: </span><span class="si">{</span><span class="n">missing</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="c1"># Detect the job outcome column name</span>
<span class="n">cands_exact</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">combined</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">"job_result"</span><span class="p">,</span><span class="s2">"job_outcome"</span><span class="p">,</span><span class="s2">"joblabel"</span><span class="p">,</span><span class="s2">"job_label"</span><span class="p">}]</span>
<span class="n">cands_fuzzy</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">combined</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="p">(</span><span class="s2">"job"</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">and</span> <span class="s2">"result"</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">())]</span>
<span class="n">job_cols</span> <span class="o">=</span> <span class="n">cands_exact</span> <span class="ow">or</span> <span class="n">cands_fuzzy</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">job_cols</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"Couldn't find a job outcome column (e.g., 'job_result'). "</span>
                   <span class="s2">"Please ensure combined has a column with 'Success'/'Fail' per AB (on last pitch)."</span><span class="p">)</span>
<span class="n">JOB_COL</span> <span class="o">=</span> <span class="n">job_cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># ---- 1) Ensure swing_flag exists (True = offered, False = take) ----</span>
<span class="k">if</span> <span class="s2">"swing_flag"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">combined</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">take_events</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"ball"</span><span class="p">,</span><span class="s2">"called_strike"</span><span class="p">,</span><span class="s2">"pitchout"</span><span class="p">,</span><span class="s2">"blocked_ball"</span><span class="p">,</span><span class="s2">"intent_ball"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>
    <span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span> <span class="o">=</span> <span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">combined</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span> <span class="o">=</span> <span class="o">~</span><span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">take_events</span><span class="p">)</span>

<span class="c1"># ---- 2) First-pitch flags per AB ----</span>
<span class="n">first_pitch</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">combined</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
    <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"first"</span><span class="p">)</span>
    <span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"swing_flag"</span><span class="p">,</span><span class="s2">"k_zone"</span><span class="p">]]</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"swing_flag"</span><span class="p">:</span><span class="s2">"swung_first_pitch"</span><span class="p">,</span>
                     <span class="s2">"k_zone"</span><span class="p">:</span><span class="s2">"first_pitch_zone"</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># ---- 3) AB-level job outcome from the LAST pitch of each AB ----</span>
<span class="n">ab_outcome</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">combined</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
    <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"last"</span><span class="p">)</span>
    <span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span> <span class="n">JOB_COL</span><span class="p">]]</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">JOB_COL</span><span class="p">:</span> <span class="s2">"job_result"</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># Keep only ABs that are job opportunities (Success/Fail)</span>
<span class="n">ab_outcome</span> <span class="o">=</span> <span class="n">ab_outcome</span><span class="p">[</span><span class="n">ab_outcome</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">])]</span>

<span class="c1"># ---- 4) Build AB-level table with first-pitch info + outcome ----</span>
<span class="n">ABs_ab</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">first_pitch</span>
    <span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ab_outcome</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"inner"</span><span class="p">)</span>
    <span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># ---- 5) Helper to compute Job% ----</span>
<span class="k">def</span><span class="w"> </span><span class="nf">agg_job</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">"Success"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">"Fail"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">"Attempts"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">"Job%"</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">}</span>
    <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Success"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Fail"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">att</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="n">f</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">"Success"</span><span class="p">:</span> <span class="n">s</span><span class="p">,</span> <span class="s2">"Fail"</span><span class="p">:</span> <span class="n">f</span><span class="p">,</span> <span class="s2">"Attempts"</span><span class="p">:</span> <span class="n">att</span><span class="p">,</span> <span class="s2">"Job%"</span><span class="p">:</span> <span class="p">(</span><span class="n">s</span> <span class="o">/</span> <span class="n">att</span><span class="p">)</span> <span class="k">if</span> <span class="n">att</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">}</span>

<span class="c1"># ---- 6) Build all seven specs ----</span>
<span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add_row</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">mask</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">agg_job</span><span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="n">mask</span><span class="p">])</span> <span class="k">if</span> <span class="n">mask</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">agg_job</span><span class="p">(</span><span class="n">ABs_ab</span><span class="p">)</span>
    <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"Spec"</span><span class="p">:</span> <span class="n">label</span><span class="p">,</span> <span class="o">**</span><span class="n">d</span><span class="p">})</span>

<span class="c1"># 1. No specifications (total)</span>
<span class="n">add_row</span><span class="p">(</span><span class="s2">"1) Total"</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="c1"># 2. Swing first pitch</span>
<span class="n">add_row</span><span class="p">(</span><span class="s2">"2) Swing first pitch"</span><span class="p">,</span> <span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># 3. Take first pitch</span>
<span class="n">add_row</span><span class="p">(</span><span class="s2">"3) Take first pitch"</span><span class="p">,</span> <span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">False</span><span class="p">)</span>

<span class="c1"># 4. Swing first pitch (ball in zone)</span>
<span class="n">add_row</span><span class="p">(</span><span class="s2">"4) Swing 1st (zone=Strike)"</span><span class="p">,</span>
        <span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Strike"</span><span class="p">))</span>

<span class="c1"># 5. Swing first pitch (ball out of zone)</span>
<span class="n">add_row</span><span class="p">(</span><span class="s2">"5) Swing 1st (zone=Ball)"</span><span class="p">,</span>
        <span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Ball"</span><span class="p">))</span>

<span class="c1"># 6. Take first pitch (ball in zone)</span>
<span class="n">add_row</span><span class="p">(</span><span class="s2">"6) Take 1st (zone=Strike)"</span><span class="p">,</span>
        <span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">False</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Strike"</span><span class="p">))</span>

<span class="c1"># 7. Take first pitch (ball out of zone)</span>
<span class="n">add_row</span><span class="p">(</span><span class="s2">"7) Take 1st (zone=Ball)"</span><span class="p">,</span>
        <span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">False</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Ball"</span><span class="p">))</span>

<span class="n">results_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
<span class="n">results_df</span><span class="p">[</span><span class="s2">"Job%"</span><span class="p">]</span> <span class="o">=</span> <span class="n">results_df</span><span class="p">[</span><span class="s2">"Job%"</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">"</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">notna</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">else</span> <span class="s2">"NA"</span><span class="p">)</span>
<span class="n">results_df</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[130]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Spec</th>
<th>Success</th>
<th>Fail</th>
<th>Attempts</th>
<th>Job%</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>1) Total</td>
<td>7507</td>
<td>6096</td>
<td>13603</td>
<td>55.19%</td>
</tr>
<tr>
<th>1</th>
<td>2) Swing first pitch</td>
<td>3272</td>
<td>2580</td>
<td>5852</td>
<td>55.91%</td>
</tr>
<tr>
<th>2</th>
<td>3) Take first pitch</td>
<td>4235</td>
<td>3516</td>
<td>7751</td>
<td>54.64%</td>
</tr>
<tr>
<th>3</th>
<td>4) Swing 1st (zone=Strike)</td>
<td>2664</td>
<td>1954</td>
<td>4618</td>
<td>57.69%</td>
</tr>
<tr>
<th>4</th>
<td>5) Swing 1st (zone=Ball)</td>
<td>608</td>
<td>626</td>
<td>1234</td>
<td>49.27%</td>
</tr>
<tr>
<th>5</th>
<td>6) Take 1st (zone=Strike)</td>
<td>1789</td>
<td>1682</td>
<td>3471</td>
<td>51.54%</td>
</tr>
<tr>
<th>6</th>
<td>7) Take 1st (zone=Ball)</td>
<td>2446</td>
<td>1834</td>
<td>4280</td>
<td>57.15%</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=e444d982-09f4-469b-afc8-9d5e9b0b6c13">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Compute OBP/SLG/OPS splits by first-pitch swing/take and zone</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=c8f6bf50-6be2-4b46-90cd-ad12b68ea6e9">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [131]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># 0) Ensure swing_flag exists (True = swing; False = take)</span>
<span class="k">if</span> <span class="s2">"swing_flag"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">combined</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">take_events</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"ball"</span><span class="p">,</span><span class="s2">"called_strike"</span><span class="p">,</span><span class="s2">"pitchout"</span><span class="p">,</span><span class="s2">"blocked_ball"</span><span class="p">,</span><span class="s2">"intent_ball"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>
    <span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span> <span class="o">=</span> <span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">combined</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span> <span class="o">=</span> <span class="o">~</span><span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">take_events</span><span class="p">)</span>

<span class="c1"># 1) First-pitch flags (swing + zone) per AB</span>
<span class="n">first_pitch</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">combined</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
            <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"first"</span><span class="p">)</span>
            <span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"swing_flag"</span><span class="p">,</span><span class="s2">"k_zone"</span><span class="p">]]</span>
            <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"swing_flag"</span><span class="p">:</span><span class="s2">"swung_first_pitch"</span><span class="p">,</span>
                             <span class="s2">"k_zone"</span><span class="p">:</span><span class="s2">"first_pitch_zone"</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># 2) Last-pitch outcome per AB (use `events`)</span>
<span class="n">ab_last</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">combined</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
            <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"last"</span><span class="p">)</span>
            <span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"events"</span><span class="p">]]</span>
<span class="p">)</span>

<span class="n">AB</span> <span class="o">=</span> <span class="n">first_pitch</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ab_last</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"inner"</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">ev</span> <span class="o">=</span> <span class="n">AB</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># 3) Build components for OBP &amp; SLG</span>
<span class="n">HITS</span>   <span class="o">=</span> <span class="p">{</span><span class="s2">"single"</span><span class="p">,</span><span class="s2">"double"</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">}</span>
<span class="n">TB_MAP</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"single"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">"double"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">:</span><span class="mi">4</span><span class="p">}</span>
<span class="n">BB_SET</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"walk"</span><span class="p">,</span><span class="s2">"intent_walk"</span><span class="p">}</span>
<span class="n">HBP_SET</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>
<span class="n">SF_SET</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">"sac_fly"</span><span class="p">}</span>
<span class="c1"># plate appearances that are NOT at-bats (include both CI spellings)</span>
<span class="n">NON_AB</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"walk"</span><span class="p">,</span><span class="s2">"intent_walk"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">,</span><span class="s2">"sac_bunt"</span><span class="p">,</span><span class="s2">"sac_fly"</span><span class="p">,</span><span class="s2">"catcher_interf"</span><span class="p">,</span><span class="s2">"catcher_interference"</span><span class="p">}</span>

<span class="n">AB</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span>   <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">HITS</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">BB_SET</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">HBP_SET</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">SF_SET</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">TB_MAP</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span>  <span class="o">=</span> <span class="p">(</span><span class="o">~</span><span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">NON_AB</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">obp_slg</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="n">H</span>   <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="n">BB</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="n">HBP</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="n">SF</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="n">ABs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="n">TB</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="n">denom_obp</span> <span class="o">=</span> <span class="n">ABs</span> <span class="o">+</span> <span class="n">BB</span> <span class="o">+</span> <span class="n">HBP</span> <span class="o">+</span> <span class="n">SF</span>
    <span class="n">obp</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">+</span> <span class="n">BB</span> <span class="o">+</span> <span class="n">HBP</span><span class="p">)</span> <span class="o">/</span> <span class="n">denom_obp</span> <span class="k">if</span> <span class="n">denom_obp</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
    <span class="n">slg</span> <span class="o">=</span> <span class="n">TB</span> <span class="o">/</span> <span class="n">ABs</span> <span class="k">if</span> <span class="n">ABs</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">"PA"</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="s2">"AB"</span><span class="p">:</span> <span class="n">ABs</span><span class="p">,</span> <span class="s2">"H"</span><span class="p">:</span> <span class="n">H</span><span class="p">,</span> <span class="s2">"BB"</span><span class="p">:</span> <span class="n">BB</span><span class="p">,</span> <span class="s2">"HBP"</span><span class="p">:</span> <span class="n">HBP</span><span class="p">,</span> <span class="s2">"SF"</span><span class="p">:</span> <span class="n">SF</span><span class="p">,</span> <span class="s2">"TB"</span><span class="p">:</span> <span class="n">TB</span><span class="p">,</span> <span class="s2">"OBP"</span><span class="p">:</span> <span class="n">obp</span><span class="p">,</span> <span class="s2">"SLG"</span><span class="p">:</span> <span class="n">slg</span><span class="p">}</span>

<span class="c1"># 4) Masks for your 7 specifications</span>
<span class="n">M_ALL</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">AB</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">M_SW</span>  <span class="o">=</span> <span class="n">AB</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span>
<span class="n">M_TK</span>  <span class="o">=</span> <span class="n">AB</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">False</span>
<span class="n">M_IN</span>  <span class="o">=</span> <span class="n">AB</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Strike"</span>
<span class="n">M_OUT</span> <span class="o">=</span> <span class="n">AB</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Ball"</span>

<span class="n">specs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">"1) Total"</span><span class="p">,</span>                    <span class="n">M_ALL</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"2) Swing first pitch"</span><span class="p">,</span>        <span class="n">M_SW</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"3) Take first pitch"</span><span class="p">,</span>         <span class="n">M_TK</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"4) Swing 1st (zone=Strike)"</span><span class="p">,</span>  <span class="n">M_SW</span> <span class="o">&amp;</span> <span class="n">M_IN</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"5) Swing 1st (zone=Ball)"</span><span class="p">,</span>    <span class="n">M_SW</span> <span class="o">&amp;</span> <span class="n">M_OUT</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"6) Take 1st (zone=Strike)"</span><span class="p">,</span>   <span class="n">M_TK</span> <span class="o">&amp;</span> <span class="n">M_IN</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"7) Take 1st (zone=Ball)"</span><span class="p">,</span>     <span class="n">M_TK</span> <span class="o">&amp;</span> <span class="n">M_OUT</span><span class="p">),</span>
<span class="p">]</span>

<span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">mask</span> <span class="ow">in</span> <span class="n">specs</span><span class="p">:</span>
    <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"Spec"</span><span class="p">:</span> <span class="n">label</span><span class="p">,</span> <span class="o">**</span><span class="n">obp_slg</span><span class="p">(</span><span class="n">AB</span><span class="p">[</span><span class="n">mask</span><span class="p">])})</span>

<span class="n">obp_slg_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
<span class="n">obp_slg_df</span><span class="p">[</span><span class="s2">"OBP"</span><span class="p">]</span> <span class="o">=</span> <span class="n">obp_slg_df</span><span class="p">[</span><span class="s2">"OBP"</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">obp_slg_df</span><span class="p">[</span><span class="s2">"SLG"</span><span class="p">]</span> <span class="o">=</span> <span class="n">obp_slg_df</span><span class="p">[</span><span class="s2">"SLG"</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">obp_slg_df</span><span class="p">[</span><span class="s2">"OPS"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">obp_slg_df</span><span class="p">[</span><span class="s2">"OBP"</span><span class="p">]</span> <span class="o">+</span> <span class="n">obp_slg_df</span><span class="p">[</span><span class="s2">"SLG"</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Tidy columns</span>
<span class="n">obp_slg_df</span> <span class="o">=</span> <span class="n">obp_slg_df</span><span class="p">[[</span><span class="s2">"Spec"</span><span class="p">,</span><span class="s2">"PA"</span><span class="p">,</span><span class="s2">"OBP"</span><span class="p">,</span><span class="s2">"SLG"</span><span class="p">,</span><span class="s2">"OPS"</span><span class="p">]]</span>
<span class="n">obp_slg_df</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[131]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Spec</th>
<th>PA</th>
<th>OBP</th>
<th>SLG</th>
<th>OPS</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>1) Total</td>
<td>15293</td>
<td>0.339</td>
<td>0.470</td>
<td>0.809</td>
</tr>
<tr>
<th>1</th>
<td>2) Swing first pitch</td>
<td>6329</td>
<td>0.306</td>
<td>0.488</td>
<td>0.794</td>
</tr>
<tr>
<th>2</th>
<td>3) Take first pitch</td>
<td>8964</td>
<td>0.361</td>
<td>0.456</td>
<td>0.817</td>
</tr>
<tr>
<th>3</th>
<td>4) Swing 1st (zone=Strike)</td>
<td>4997</td>
<td>0.312</td>
<td>0.515</td>
<td>0.827</td>
</tr>
<tr>
<th>4</th>
<td>5) Swing 1st (zone=Ball)</td>
<td>1332</td>
<td>0.284</td>
<td>0.393</td>
<td>0.677</td>
</tr>
<tr>
<th>5</th>
<td>6) Take 1st (zone=Strike)</td>
<td>3833</td>
<td>0.298</td>
<td>0.406</td>
<td>0.704</td>
</tr>
<tr>
<th>6</th>
<td>7) Take 1st (zone=Ball)</td>
<td>5131</td>
<td>0.408</td>
<td>0.500</td>
<td>0.908</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=8bfa3b9e-ff16-461f-963a-1597b04ed7ae">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Build AB-level table with first-pitch data for each team</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=40084949-ddea-469b-87b8-22d33712f78d">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [132]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Build AB-level table with batting_team from the FIRST pitch of each AB ---</span>
<span class="n">first_pitch</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">combined</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
            <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"first"</span><span class="p">)</span>
            <span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"swing_flag"</span><span class="p">,</span><span class="s2">"k_zone"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">,</span><span class="s2">"inning_topbot"</span><span class="p">]]</span>
            <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"swing_flag"</span><span class="p">:</span><span class="s2">"swung_first_pitch"</span><span class="p">,</span>
                             <span class="s2">"k_zone"</span><span class="p">:</span><span class="s2">"first_pitch_zone"</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># Derive batting team: Top = away bats, Bottom = home bats</span>
<span class="n">top</span> <span class="o">=</span> <span class="n">first_pitch</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"top"</span><span class="p">)</span>
<span class="n">first_pitch</span><span class="p">[</span><span class="s2">"batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">first_pitch</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">first_pitch</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">])</span>

<span class="c1"># Last pitch from pitch-level 'combined' (events only)</span>
<span class="n">last_pitch</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">combined</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
            <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"last"</span><span class="p">)</span>
            <span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"events"</span><span class="p">]]</span>
<span class="p">)</span>

<span class="c1"># Merge first/last pitch into AB table</span>
<span class="n">AB</span> <span class="o">=</span> <span class="n">first_pitch</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">last_pitch</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"inner"</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Attach PA-level job_result from ABs (PA table). Do NOT overwrite job_result elsewhere.</span>
<span class="n">AB</span> <span class="o">=</span> <span class="n">AB</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">ABs</span><span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"job_result"</span><span class="p">]],</span>
    <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span>
<span class="p">)</span>

<span class="n">AB</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">=</span> <span class="n">AB</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">AB</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1"># --- Prepare hitting components (H, TB, AB flag) from events ---</span>
<span class="n">HITS</span>   <span class="o">=</span> <span class="p">{</span><span class="s2">"single"</span><span class="p">,</span><span class="s2">"double"</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">}</span>
<span class="n">TB_MAP</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"single"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">"double"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">:</span><span class="mi">4</span><span class="p">}</span>
<span class="n">BB_SET</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"walk"</span><span class="p">,</span><span class="s2">"intent_walk"</span><span class="p">}</span>
<span class="n">HBP_SET</span><span class="o">=</span> <span class="p">{</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>
<span class="n">SF_SET</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"sac_fly"</span><span class="p">}</span>

<span class="c1"># Correct Statcast token for catcher interference</span>
<span class="n">NON_AB</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"walk"</span><span class="p">,</span><span class="s2">"intent_walk"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">,</span><span class="s2">"sac_bunt"</span><span class="p">,</span><span class="s2">"sac_fly"</span><span class="p">,</span><span class="s2">"catcher_interference"</span><span class="p">}</span>

<span class="n">ev</span> <span class="o">=</span> <span class="n">AB</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span>   <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">HITS</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">TB_MAP</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">BB_SET</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">HBP_SET</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">SF_SET</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span>  <span class="o">=</span> <span class="p">(</span><span class="o">~</span><span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">NON_AB</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># --- Spec masks (functions so they can be applied per-group) ---</span>
<span class="k">def</span><span class="w"> </span><span class="nf">spec_masks</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">M_SW</span>  <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span>
    <span class="n">M_TK</span>  <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">False</span>
    <span class="n">M_IN</span>  <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Strike"</span>
    <span class="n">M_OUT</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Ball"</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">"1) Total"</span><span class="p">,</span>                     <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)),</span>
        <span class="p">(</span><span class="s2">"2) Swing first pitch"</span><span class="p">,</span>         <span class="n">M_SW</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">"3) Take first pitch"</span><span class="p">,</span>          <span class="n">M_TK</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">"4) Swing 1st (zone=Strike)"</span><span class="p">,</span>   <span class="n">M_SW</span> <span class="o">&amp;</span> <span class="n">M_IN</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">"5) Swing 1st (zone=Ball)"</span><span class="p">,</span>     <span class="n">M_SW</span> <span class="o">&amp;</span> <span class="n">M_OUT</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">"6) Take 1st (zone=Strike)"</span><span class="p">,</span>    <span class="n">M_TK</span> <span class="o">&amp;</span> <span class="n">M_IN</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">"7) Take 1st (zone=Ball)"</span><span class="p">,</span>      <span class="n">M_TK</span> <span class="o">&amp;</span> <span class="n">M_OUT</span><span class="p">),</span>
    <span class="p">]</span>

<span class="c1"># --- Per-team 7-spec table with PA, AB, H, OBP, SLG, OPS ---</span>
<span class="k">def</span><span class="w"> </span><span class="nf">team_hitting_counts_table</span><span class="p">(</span><span class="n">AB</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">team</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">AB</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"batting_team"</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">spec_masks</span><span class="p">(</span><span class="n">g</span><span class="p">):</span>
            <span class="n">sub</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="n">m</span><span class="p">]</span>
            <span class="n">PA</span>  <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
            <span class="n">ABs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sub</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
            <span class="n">H</span>   <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sub</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
            <span class="n">TB</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sub</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
            <span class="n">BB</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sub</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
            <span class="n">HBP</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sub</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
            <span class="n">SF</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sub</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

            <span class="n">denom_obp</span> <span class="o">=</span> <span class="n">ABs</span> <span class="o">+</span> <span class="n">BB</span> <span class="o">+</span> <span class="n">HBP</span> <span class="o">+</span> <span class="n">SF</span>
            <span class="n">obp</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">+</span> <span class="n">BB</span> <span class="o">+</span> <span class="n">HBP</span><span class="p">)</span> <span class="o">/</span> <span class="n">denom_obp</span> <span class="k">if</span> <span class="n">denom_obp</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
            <span class="n">slg</span> <span class="o">=</span> <span class="p">(</span><span class="n">TB</span> <span class="o">/</span> <span class="n">ABs</span><span class="p">)</span> <span class="k">if</span> <span class="n">ABs</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
            <span class="n">ops</span> <span class="o">=</span> <span class="p">(</span><span class="n">obp</span> <span class="o">+</span> <span class="n">slg</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">notna</span><span class="p">(</span><span class="n">obp</span><span class="p">)</span> <span class="ow">and</span> <span class="n">pd</span><span class="o">.</span><span class="n">notna</span><span class="p">(</span><span class="n">slg</span><span class="p">))</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s2">"team"</span><span class="p">:</span> <span class="n">team</span><span class="p">,</span>
                <span class="s2">"Spec"</span><span class="p">:</span> <span class="n">label</span><span class="p">,</span>
                <span class="s2">"PA"</span><span class="p">:</span> <span class="n">PA</span><span class="p">,</span>
                <span class="s2">"AB"</span><span class="p">:</span> <span class="n">ABs</span><span class="p">,</span>
                <span class="s2">"H"</span><span class="p">:</span> <span class="n">H</span><span class="p">,</span>
                <span class="s2">"OBP"</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">obp</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">notna</span><span class="p">(</span><span class="n">obp</span><span class="p">)</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
                <span class="s2">"SLG"</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">slg</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">notna</span><span class="p">(</span><span class="n">slg</span><span class="p">)</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
                <span class="s2">"OPS"</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">ops</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">notna</span><span class="p">(</span><span class="n">ops</span><span class="p">)</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
            <span class="p">})</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
    <span class="c1"># Sort by team then natural Spec order (1..7) using the leading digit</span>
    <span class="n">out</span><span class="p">[</span><span class="s2">"spec_order"</span><span class="p">]</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="s2">"Spec"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^(\d+)"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"spec_order"</span><span class="p">])</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">"spec_order"</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="n">team_hitting_counts_df</span> <span class="o">=</span> <span class="n">team_hitting_counts_table</span><span class="p">(</span><span class="n">AB</span><span class="p">)</span>
<span class="n">team_hitting_counts_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[132]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>team</th>
<th>Spec</th>
<th>PA</th>
<th>AB</th>
<th>H</th>
<th>OBP</th>
<th>SLG</th>
<th>OPS</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>ATH</td>
<td>1) Total</td>
<td>475</td>
<td>381</td>
<td>107</td>
<td>0.335</td>
<td>0.491</td>
<td>0.826</td>
</tr>
<tr>
<th>1</th>
<td>ATH</td>
<td>2) Swing first pitch</td>
<td>214</td>
<td>186</td>
<td>53</td>
<td>0.283</td>
<td>0.484</td>
<td>0.767</td>
</tr>
<tr>
<th>2</th>
<td>ATH</td>
<td>3) Take first pitch</td>
<td>261</td>
<td>195</td>
<td>54</td>
<td>0.377</td>
<td>0.497</td>
<td>0.874</td>
</tr>
<tr>
<th>3</th>
<td>ATH</td>
<td>4) Swing 1st (zone=Strike)</td>
<td>163</td>
<td>143</td>
<td>40</td>
<td>0.269</td>
<td>0.510</td>
<td>0.780</td>
</tr>
<tr>
<th>4</th>
<td>ATH</td>
<td>5) Swing 1st (zone=Ball)</td>
<td>51</td>
<td>43</td>
<td>13</td>
<td>0.327</td>
<td>0.395</td>
<td>0.722</td>
</tr>
<tr>
<th>5</th>
<td>ATH</td>
<td>6) Take 1st (zone=Strike)</td>
<td>93</td>
<td>76</td>
<td>20</td>
<td>0.301</td>
<td>0.474</td>
<td>0.775</td>
</tr>
<tr>
<th>6</th>
<td>ATH</td>
<td>7) Take 1st (zone=Ball)</td>
<td>168</td>
<td>119</td>
<td>34</td>
<td>0.419</td>
<td>0.513</td>
<td>0.932</td>
</tr>
<tr>
<th>7</th>
<td>ATL</td>
<td>1) Total</td>
<td>534</td>
<td>437</td>
<td>114</td>
<td>0.319</td>
<td>0.400</td>
<td>0.720</td>
</tr>
<tr>
<th>8</th>
<td>ATL</td>
<td>2) Swing first pitch</td>
<td>201</td>
<td>169</td>
<td>39</td>
<td>0.242</td>
<td>0.367</td>
<td>0.609</td>
</tr>
<tr>
<th>9</th>
<td>ATL</td>
<td>3) Take first pitch</td>
<td>333</td>
<td>268</td>
<td>75</td>
<td>0.364</td>
<td>0.422</td>
<td>0.786</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=53dbb10f-4489-4dae-9267-75f426ec2f9e">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Build AB table for Job% splits by team</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=23afc048-cb75-458f-b6ae-600e012f8841">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [133]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- First pitch (PA-level keys from pitch-level) ---</span>
<span class="n">first_pitch</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">combined</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
            <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"first"</span><span class="p">)</span>
            <span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"swing_flag"</span><span class="p">,</span><span class="s2">"k_zone"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">,</span><span class="s2">"inning_topbot"</span><span class="p">]]</span>
            <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"swing_flag"</span><span class="p">:</span><span class="s2">"swung_first_pitch"</span><span class="p">,</span>
                             <span class="s2">"k_zone"</span><span class="p">:</span><span class="s2">"first_pitch_zone"</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># Batting team: Top = away, Bottom = home</span>
<span class="n">top</span> <span class="o">=</span> <span class="n">first_pitch</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"top"</span><span class="p">)</span>
<span class="n">first_pitch</span><span class="p">[</span><span class="s2">"batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">first_pitch</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">first_pitch</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">])</span>

<span class="c1"># --- Merge PA-level job_result from ABs (authoritative) ---</span>
<span class="n">AB</span> <span class="o">=</span> <span class="n">first_pitch</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">ABs</span><span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"job_result"</span><span class="p">]],</span>
    <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span>
<span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Types for masks</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">=</span> <span class="n">AB</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
<span class="n">AB</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">AB</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1"># --- Spec masks ---</span>
<span class="k">def</span><span class="w"> </span><span class="nf">spec_masks</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">M_SW</span>  <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span>
    <span class="n">M_TK</span>  <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">False</span>
    <span class="n">M_IN</span>  <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Strike"</span>
    <span class="n">M_OUT</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Ball"</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">"1) Total"</span><span class="p">,</span>                     <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)),</span>
        <span class="p">(</span><span class="s2">"2) Swing first pitch"</span><span class="p">,</span>         <span class="n">M_SW</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">"3) Take first pitch"</span><span class="p">,</span>          <span class="n">M_TK</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">"4) Swing 1st (zone=Strike)"</span><span class="p">,</span>   <span class="n">M_SW</span> <span class="o">&amp;</span> <span class="n">M_IN</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">"5) Swing 1st (zone=Ball)"</span><span class="p">,</span>     <span class="n">M_SW</span> <span class="o">&amp;</span> <span class="n">M_OUT</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">"6) Take 1st (zone=Strike)"</span><span class="p">,</span>    <span class="n">M_TK</span> <span class="o">&amp;</span> <span class="n">M_IN</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">"7) Take 1st (zone=Ball)"</span><span class="p">,</span>      <span class="n">M_TK</span> <span class="o">&amp;</span> <span class="n">M_OUT</span><span class="p">),</span>
    <span class="p">]</span>

<span class="c1"># --- Per-team Job% table ---</span>
<span class="k">def</span><span class="w"> </span><span class="nf">team_job_table</span><span class="p">(</span><span class="n">AB</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">team</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">AB</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"batting_team"</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">mask</span> <span class="ow">in</span> <span class="n">spec_masks</span><span class="p">(</span><span class="n">g</span><span class="p">):</span>
            <span class="n">sub</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
            <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">sub</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">==</span><span class="s2">"Success"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
            <span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">sub</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">==</span><span class="s2">"Fail"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
            <span class="n">attempts</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span> <span class="o">+</span> <span class="n">f</span><span class="p">)</span>
            <span class="n">pct</span> <span class="o">=</span> <span class="p">(</span><span class="n">s</span> <span class="o">/</span> <span class="n">attempts</span><span class="p">)</span> <span class="k">if</span> <span class="n">attempts</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s2">"team"</span><span class="p">:</span> <span class="n">team</span><span class="p">,</span>
                <span class="s2">"Spec"</span><span class="p">:</span> <span class="n">label</span><span class="p">,</span>
                <span class="s2">"Success"</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">),</span>
                <span class="s2">"Fail"</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="p">),</span>
                <span class="s2">"Attempts"</span><span class="p">:</span> <span class="n">attempts</span><span class="p">,</span>
                <span class="s2">"Job%"</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">pct</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">"</span> <span class="k">if</span> <span class="n">attempts</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">"NA"</span>
            <span class="p">})</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
    <span class="n">out</span><span class="p">[</span><span class="s2">"spec_order"</span><span class="p">]</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="s2">"Spec"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s2">"^(\d+)"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"team"</span><span class="p">,</span><span class="s2">"spec_order"</span><span class="p">])</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">"spec_order"</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="n">team_job_df</span> <span class="o">=</span> <span class="n">team_job_table</span><span class="p">(</span><span class="n">AB</span><span class="p">)</span>
<span class="n">team_job_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[133]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>team</th>
<th>Spec</th>
<th>Success</th>
<th>Fail</th>
<th>Attempts</th>
<th>Job%</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>ATH</td>
<td>1) Total</td>
<td>218</td>
<td>189</td>
<td>407</td>
<td>53.56%</td>
</tr>
<tr>
<th>1</th>
<td>ATH</td>
<td>2) Swing first pitch</td>
<td>110</td>
<td>85</td>
<td>195</td>
<td>56.41%</td>
</tr>
<tr>
<th>2</th>
<td>ATH</td>
<td>3) Take first pitch</td>
<td>108</td>
<td>104</td>
<td>212</td>
<td>50.94%</td>
</tr>
<tr>
<th>3</th>
<td>ATH</td>
<td>4) Swing 1st (zone=Strike)</td>
<td>84</td>
<td>64</td>
<td>148</td>
<td>56.76%</td>
</tr>
<tr>
<th>4</th>
<td>ATH</td>
<td>5) Swing 1st (zone=Ball)</td>
<td>26</td>
<td>21</td>
<td>47</td>
<td>55.32%</td>
</tr>
<tr>
<th>5</th>
<td>ATH</td>
<td>6) Take 1st (zone=Strike)</td>
<td>42</td>
<td>41</td>
<td>83</td>
<td>50.60%</td>
</tr>
<tr>
<th>6</th>
<td>ATH</td>
<td>7) Take 1st (zone=Ball)</td>
<td>66</td>
<td>63</td>
<td>129</td>
<td>51.16%</td>
</tr>
<tr>
<th>7</th>
<td>ATL</td>
<td>1) Total</td>
<td>257</td>
<td>225</td>
<td>482</td>
<td>53.32%</td>
</tr>
<tr>
<th>8</th>
<td>ATL</td>
<td>2) Swing first pitch</td>
<td>102</td>
<td>87</td>
<td>189</td>
<td>53.97%</td>
</tr>
<tr>
<th>9</th>
<td>ATL</td>
<td>3) Take first pitch</td>
<td>155</td>
<td>138</td>
<td>293</td>
<td>52.90%</td>
</tr>
<tr>
<th>10</th>
<td>ATL</td>
<td>4) Swing 1st (zone=Strike)</td>
<td>86</td>
<td>64</td>
<td>150</td>
<td>57.33%</td>
</tr>
<tr>
<th>11</th>
<td>ATL</td>
<td>5) Swing 1st (zone=Ball)</td>
<td>16</td>
<td>23</td>
<td>39</td>
<td>41.03%</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=057cc2ac-4972-4f81-b7aa-4ec8ac57fd71">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Backfill first-pitch swing_flag correctly</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=2393d81b-4d13-4d78-b1d6-39d29255d180">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [134]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="s2">"swing_flag"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">combined</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">swing_like</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"swinging_strike"</span><span class="p">,</span> <span class="s2">"swinging_strike_blocked"</span><span class="p">,</span>
        <span class="s2">"foul"</span><span class="p">,</span> <span class="s2">"foul_tip"</span><span class="p">,</span> <span class="s2">"foul_bunt"</span><span class="p">,</span> <span class="s2">"bunt_foul_tip"</span><span class="p">,</span>
        <span class="s2">"missed_bunt"</span><span class="p">,</span>
        <span class="s2">"hit_into_play"</span><span class="p">,</span> <span class="s2">"hit_into_play_no_out"</span><span class="p">,</span> <span class="s2">"hit_into_play_score"</span>
    <span class="p">}</span>
    <span class="n">desc</span> <span class="o">=</span> <span class="n">combined</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">combined</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span> <span class="o">=</span> <span class="n">desc</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">swing_like</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=0c63eb54-d2dd-4281-ac49-8524b01149d2">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Get Job% when first pitch is swung at per zone(k zone strike)</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=b5d31575-d2bd-4601-b2e9-19617f584ac0">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [135]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">combined</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"/mnt/data/comb.csv"</span><span class="p">)</span>

<span class="c1"># ==========================================================</span>
<span class="c1"># Config (match Code 1 exactly)</span>
<span class="c1"># ==========================================================</span>
<span class="n">LEFT_EDGE</span><span class="p">,</span> <span class="n">RIGHT_EDGE</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.83</span><span class="p">,</span> <span class="mf">0.83</span>
<span class="n">V_BUF</span> <span class="o">=</span> <span class="mf">0.12</span>
<span class="n">WIDTH</span> <span class="o">=</span> <span class="n">RIGHT_EDGE</span> <span class="o">-</span> <span class="n">LEFT_EDGE</span>
<span class="n">THIRD</span> <span class="o">=</span> <span class="n">WIDTH</span> <span class="o">/</span> <span class="mf">3.0</span>
<span class="n">H_BINS</span>   <span class="o">=</span> <span class="p">[</span><span class="n">LEFT_EDGE</span><span class="p">,</span> <span class="n">LEFT_EDGE</span><span class="o">+</span><span class="n">THIRD</span><span class="p">,</span> <span class="n">LEFT_EDGE</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">THIRD</span><span class="p">,</span> <span class="n">RIGHT_EDGE</span><span class="p">]</span>
<span class="n">H_LABELS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Left"</span><span class="p">,</span><span class="s2">"Middle"</span><span class="p">,</span><span class="s2">"Right"</span><span class="p">]</span>
<span class="n">V_LABELS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"High"</span><span class="p">,</span><span class="s2">"Mid"</span><span class="p">,</span><span class="s2">"Low"</span><span class="p">]</span>
<span class="n">GCOLS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">]</span>

<span class="c1"># Swing/take logic EXACTLY like Code 1 (no automatic_* here)</span>
<span class="n">TAKE_EVENTS</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"ball"</span><span class="p">,</span><span class="s2">"called_strike"</span><span class="p">,</span><span class="s2">"pitchout"</span><span class="p">,</span><span class="s2">"blocked_ball"</span><span class="p">,</span><span class="s2">"intent_ball"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>

<span class="c1"># ==========================================================</span>
<span class="c1"># 1) First pitch (include geometry) + last-pitch job outcome</span>
<span class="c1"># ==========================================================</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">GCOLS</span> <span class="o">+</span> <span class="p">[</span><span class="s2">"pitch_number"</span><span class="p">])</span>

<span class="c1"># Ensure swing_flag exists with Code-1 rules</span>
<span class="k">if</span> <span class="s2">"swing_flag"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">desc</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span> <span class="o">=</span> <span class="o">~</span><span class="n">desc</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">TAKE_EVENTS</span><span class="p">)</span>

<span class="c1"># Require k_zone to come from the dataset (like Code 1)</span>
<span class="k">if</span> <span class="s2">"k_zone"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"combined must include k_zone to match Code 1."</span><span class="p">)</span>

<span class="c1"># First-pitch features INCLUDING geometry (so we can 3×3 later)</span>
<span class="n">first</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">GCOLS</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"first"</span><span class="p">)</span>
      <span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"swing_flag"</span><span class="p">,</span><span class="s2">"k_zone"</span><span class="p">,</span><span class="s2">"plate_x"</span><span class="p">,</span><span class="s2">"plate_z"</span><span class="p">,</span><span class="s2">"sz_top"</span><span class="p">,</span><span class="s2">"sz_bot"</span><span class="p">]]</span>
      <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"swing_flag"</span><span class="p">:</span><span class="s2">"swung_first_pitch"</span><span class="p">,</span>
                       <span class="s2">"k_zone"</span><span class="p">:</span><span class="s2">"first_pitch_zone"</span><span class="p">})</span>
      <span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># Last-pitch Job outcome (normalize; keep all, then filter to attempts)</span>
<span class="c1"># Detect job_result column like Code 1</span>
<span class="n">cands_exact</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">"job_result"</span><span class="p">,</span><span class="s2">"job_outcome"</span><span class="p">,</span><span class="s2">"joblabel"</span><span class="p">,</span><span class="s2">"job_label"</span><span class="p">}]</span>
<span class="n">cands_fuzzy</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="p">(</span><span class="s2">"job"</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">and</span> <span class="s2">"result"</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">())]</span>
<span class="n">JOB_COL</span> <span class="o">=</span> <span class="p">(</span><span class="n">cands_exact</span> <span class="ow">or</span> <span class="n">cands_fuzzy</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">last</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">GCOLS</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"last"</span><span class="p">)</span>
      <span class="p">[</span><span class="n">GCOLS</span> <span class="o">+</span> <span class="p">[</span><span class="n">JOB_COL</span><span class="p">]]</span>
      <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">JOB_COL</span><span class="p">:</span><span class="s2">"job_result"</span><span class="p">})</span>
      <span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="p">)</span>
<span class="n">last</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">last</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
                      <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
                      <span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s2">"Failure"</span><span class="p">:</span><span class="s2">"Fail"</span><span class="p">,</span><span class="s2">"Failed"</span><span class="p">:</span><span class="s2">"Fail"</span><span class="p">}))</span>

<span class="c1"># AB-level table like Code 1</span>
<span class="n">ABs_ab</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">last</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">GCOLS</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">"inner"</span><span class="p">)</span>

<span class="c1"># Filter to Job attempts (Success/Fail) — EXACTLY Code 1 behavior</span>
<span class="n">ABs_ab</span> <span class="o">=</span> <span class="n">ABs_ab</span><span class="p">[</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">])]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># ==========================================================</span>
<span class="c1"># 2) Build the EXACT Code-1 spec: Swing 1st (zone=Strike)</span>
<span class="c1"># ==========================================================</span>
<span class="n">spec_mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"swung_first_pitch"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ABs_ab</span><span class="p">[</span><span class="s2">"first_pitch_zone"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Strike"</span><span class="p">)</span>
<span class="n">base</span> <span class="o">=</span> <span class="n">ABs_ab</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">spec_mask</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Overall Job% for this spec (matches Code 1)</span>
<span class="n">s_all</span> <span class="o">=</span> <span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Success"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">f_all</span> <span class="o">=</span> <span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Fail"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">att_all</span> <span class="o">=</span> <span class="n">s_all</span> <span class="o">+</span> <span class="n">f_all</span>
<span class="n">job_overall</span> <span class="o">=</span> <span class="n">s_all</span> <span class="o">/</span> <span class="n">att_all</span> <span class="k">if</span> <span class="n">att_all</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="c1"># ==========================================================</span>
<span class="c1"># 3) 3×3 MLB grid (placeable rows only) + reconciliation</span>
<span class="c1"># ==========================================================</span>
<span class="c1"># Keep only rows with full geometry (these are the ones your grid can place)</span>
<span class="n">geom_mask</span> <span class="o">=</span> <span class="n">base</span><span class="p">[[</span><span class="s2">"plate_x"</span><span class="p">,</span><span class="s2">"plate_z"</span><span class="p">,</span><span class="s2">"sz_top"</span><span class="p">,</span><span class="s2">"sz_bot"</span><span class="p">]]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">placed</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">geom_mask</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">dropped</span> <span class="o">=</span> <span class="n">att_all</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">placed</span><span class="p">)</span>

<span class="c1"># Horizontal thirds within [-0.83, +0.83]</span>
<span class="n">placed</span><span class="p">[</span><span class="s2">"Hbin"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span>
    <span class="n">placed</span><span class="p">[</span><span class="s2">"plate_x"</span><span class="p">]</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">LEFT_EDGE</span><span class="p">,</span> <span class="n">RIGHT_EDGE</span><span class="p">),</span>
    <span class="n">bins</span><span class="o">=</span><span class="n">H_BINS</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">H_LABELS</span><span class="p">,</span> <span class="n">include_lowest</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="c1"># Vertical thirds by per-pitch normalization</span>
<span class="n">span</span> <span class="o">=</span> <span class="p">(</span><span class="n">placed</span><span class="p">[</span><span class="s2">"sz_top"</span><span class="p">]</span> <span class="o">-</span> <span class="n">placed</span><span class="p">[</span><span class="s2">"sz_bot"</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="p">((</span><span class="n">placed</span><span class="p">[</span><span class="s2">"plate_z"</span><span class="p">]</span> <span class="o">-</span> <span class="n">placed</span><span class="p">[</span><span class="s2">"sz_bot"</span><span class="p">])</span> <span class="o">/</span> <span class="n">span</span><span class="p">)</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">placed</span><span class="p">[</span><span class="s2">"Vbin"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">"Low"</span><span class="p">,</span><span class="s2">"Mid"</span><span class="p">,</span><span class="s2">"High"</span><span class="p">])</span>
<span class="n">placed</span><span class="p">[</span><span class="s2">"Vbin"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="n">placed</span><span class="p">[</span><span class="s2">"Vbin"</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">"High"</span><span class="p">,</span><span class="s2">"Mid"</span><span class="p">,</span><span class="s2">"Low"</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">placed</span> <span class="o">=</span> <span class="n">placed</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">"Hbin"</span><span class="p">,</span><span class="s2">"Vbin"</span><span class="p">])</span>

<span class="c1"># Crosstabs (Success/Fail counts are already implied by job_result)</span>
<span class="n">is_success</span> <span class="o">=</span> <span class="n">placed</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"Success"</span><span class="p">)</span>
<span class="n">job_num</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">placed</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">is_success</span><span class="p">,</span> <span class="s2">"Vbin"</span><span class="p">],</span> <span class="n">placed</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">is_success</span><span class="p">,</span> <span class="s2">"Hbin"</span><span class="p">])</span>
<span class="n">attempts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">placed</span><span class="p">[</span><span class="s2">"Vbin"</span><span class="p">],</span> <span class="n">placed</span><span class="p">[</span><span class="s2">"Hbin"</span><span class="p">])</span>

<span class="n">job_num</span>  <span class="o">=</span> <span class="n">job_num</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">V_LABELS</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">H_LABELS</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">attempts</span> <span class="o">=</span> <span class="n">attempts</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">V_LABELS</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">H_LABELS</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">job_pct_9</span> <span class="o">=</span> <span class="p">(</span><span class="n">job_num</span> <span class="o">/</span> <span class="n">attempts</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">],</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">weighted_job_placed</span> <span class="o">=</span> <span class="n">job_num</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">attempts</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="k">if</span> <span class="n">attempts</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="c1"># ==========================================================</span>
<span class="c1"># 4) Print reconciliation</span>
<span class="c1"># ==========================================================</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"=== SPEC: 4) Swing 1st (zone=Strike) — EXACT Code 1 Cohort ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total attempts in spec (Success+Fail): </span><span class="si">{</span><span class="n">att_all</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Placed in 3×3 (have full geometry):   </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">placed</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Dropped for missing geometry:          </span><span class="si">{</span><span class="n">dropped</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"=== Job</span><span class="si">% o</span><span class="s2">verall (Code 1 cohort, no geometry filter) ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">job_overall</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"=== Job% by 3×3 (placed-only) ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">job_pct_9</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== Attempts (3×3 placed-only) ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">attempts</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Weighted Job% across 3×3 (placed-only): </span><span class="si">{</span><span class="n">weighted_job_placed</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">job_overall</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">weighted_job_placed</span><span class="p">):</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">weighted_job_placed</span> <span class="o">-</span> <span class="n">job_overall</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Difference vs overall spec: </span><span class="si">{</span><span class="n">diff</span><span class="si">:</span><span class="s2">+.3f</span><span class="si">}</span><span class="s2">  (caused by excluded geometry rows and/or zone-edge clipping)"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>=== SPEC: 4) Swing 1st (zone=Strike) — EXACT Code 1 Cohort ===
Total attempts in spec (Success+Fail): 4618
Placed in 3×3 (have full geometry):   4618
Dropped for missing geometry:          0

=== Job% overall (Code 1 cohort, no geometry filter) ===
0.577

=== Job% by 3×3 (placed-only) ===
Hbin   Left  Middle  Right
Vbin                      
High  0.580   0.560  0.568
Mid   0.588   0.605  0.616
Low   0.559   0.575  0.519

=== Attempts (3×3 placed-only) ===
Hbin  Left  Middle  Right
Vbin                     
High   412     530    370
Mid    570     681    552
Low    422     609    472

Weighted Job% across 3×3 (placed-only): 0.577
Difference vs overall spec: +0.000  (caused by excluded geometry rows and/or zone-edge clipping)
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=9e6a9c07-e2a4-43ef-ab2f-d082d3e94de3">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Compare K zone first pitch swings to overall job%</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=0ba3126a-afc6-4349-83b4-82176e6e6d2d">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [136]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># --- Data ---</span>
<span class="n">BASELINE</span> <span class="o">=</span> <span class="mf">0.552</span>
<span class="n">vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span><span class="mf">0.586</span><span class="p">,</span> <span class="mf">0.560</span><span class="p">,</span> <span class="mf">0.568</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">0.581</span><span class="p">,</span> <span class="mf">0.605</span><span class="p">,</span> <span class="mf">0.617</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">0.572</span><span class="p">,</span> <span class="mf">0.575</span><span class="p">,</span> <span class="mf">0.529</span><span class="p">],</span>
<span class="p">])</span>
<span class="n">rows</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"High"</span><span class="p">,</span> <span class="s2">"Mid"</span><span class="p">,</span> <span class="s2">"Low"</span><span class="p">]</span>
<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Left"</span><span class="p">,</span> <span class="s2">"Middle"</span><span class="p">,</span> <span class="s2">"Right"</span><span class="p">]</span>

<span class="c1"># --- Centered colormap around baseline ---</span>
<span class="n">diff</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">vals</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">BASELINE</span><span class="p">,</span> <span class="n">BASELINE</span> <span class="o">-</span> <span class="n">vals</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">TwoSlopeNorm</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">BASELINE</span> <span class="o">-</span> <span class="n">diff</span><span class="p">,</span> <span class="n">vcenter</span><span class="o">=</span><span class="n">BASELINE</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">BASELINE</span> <span class="o">+</span> <span class="n">diff</span><span class="p">)</span>

<span class="c1"># --- Larger figure for visibility in Jupyter ---</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">6.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>

<span class="c1"># --- Heatmap ---</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">"RdBu_r"</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s2">"upper"</span><span class="p">)</span>

<span class="c1"># --- Grid lines ---</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">"black"</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">"black"</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># --- Value labels (white text + black outline for max visibility) ---</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">vals</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">vals</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">vals</span><span class="p">[</span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
                <span class="n">ha</span><span class="o">=</span><span class="s2">"center"</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s2">"center"</span><span class="p">,</span>
                <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s2">"bold"</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="s2">"white"</span><span class="p">,</span>
                <span class="n">path_effects</span><span class="o">=</span><span class="p">[</span><span class="n">pe</span><span class="o">.</span><span class="n">withStroke</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">'black'</span><span class="p">)])</span>

<span class="c1"># --- Axis labels ---</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">cols</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">rows</span><span class="p">)</span>

<span class="c1"># --- Title with padding ---</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Job% on 0–0 Swings at First-Pitch Strikes</span><span class="se">\n</span><span class="s2">3×3 (baseline = </span><span class="si">{</span><span class="n">BASELINE</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">)"</span><span class="p">,</span>
             <span class="n">pad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="c1"># --- Axis limits ---</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># --- Colorbar ---</span>
<span class="n">cb</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">fraction</span><span class="o">=</span><span class="mf">0.046</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.06</span><span class="p">)</span>
<span class="n">cb</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s2">"Job%"</span><span class="p">)</span>

<span class="c1"># --- Tight layout to avoid clipping ---</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedImage jp-OutputArea-output" tabindex="0">
<img alt="No description has been provided for this image" class="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA7cAAAM3CAYAAADm1KfbAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjkuNCwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8ekN5oAAAACXBIWXMAABcSAAAXEgFnn9JSAADigUlEQVR4nOzdB3hU1dbG8TUpBAgdaQKKIggIiAqCYkFFEey9Fyxcu/LZe2/Yrr1dC4INsGEvICqKIgpKkyYqHaRDCIRkvufdcceTMEkmJHHm4P/HM09Cpp1Mzpk5a6+1145Eo9GoAQAAAAAQYimJ3gAAAAAAAMqL4BYAAAAAEHoEtwAAAACA0CO4BQAAAACEHsEtAAAAACD0CG4BAAAAAKFHcAsAAAAACD2CWwAAAABA6BHcAgAAAABCj+AWAAAAABB6BLcAAAAAgNAjuAUAAAAAhB7BLQAAAAAg9AhuAQAAAAChR3ALFHHaaafZjjvuaNdcc02FPN7+++/vHm/o0KFlvu8HH3xghx12mLVv39569Ohh//3vfy0nJ6fY25966qm2yy672J9//mlbipEjR9oZZ5xhu+22m+2888526KGH2pNPPmnr16+vlOd7++237YQTTnCvoy5HH320vfzyy5aXl7fZjzlnzhy777777KijjrKuXbu6v+dee+3l9rVnnnnGVq5caZXp0UcfdfvgSSedVKnPEyYzZszYrNcw3sudd95ZcF+9l+hnV1xxhf0TotGozZo1q8z389sZ69KuXTt3PBx44IHu9xg7duwm9//uu+8Kbr9x48ZNrl+4cKGtWbPGymPu3LkFz/H7779bRVu6dKk99thjdvzxx1u3bt3csdq9e3f3nvDII4/YokWLSrz/unXr3DaWlf+dvvnmm4Kfvfnmm+5n++yzz2b9LgDwb5SW6A0AENvXX39t//d//2eRSMR22GEHW7BggQvqFCg98MADm9x+xIgR9v3339vFF19sW221lW0JnnvuORswYID7vlmzZlazZk2bPn26C/I//vhjGzx4sNWoUaPCnu/22293jynbb7+9paam2uTJk91FQfZTTz1l6enpZXrM119/3e644w7bsGGDVatWzbbZZhurWrWqLV++3P29FCTo91Twy0ls5Vu8eLHde++9Nm7cOPviiy/KfP8qVaq4gKc0zZs3t0T4+eef3X687bbb2v33379Z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/dzPdenXr1902bJlBdcNHTrUPZ6u0/dBI0aMiO64447Rtm3bRg899NBo586d3e2uuOKKgtvccsst7mfff/99hfzuFfE7XnPNNdFVq1a5n+fl5bnH8dd9+umncW3Hbbfd5m5//vnnF3sbvT66TYcOHaLl9Z///Mc91h133FHsbV566SV3m4MPPjjux503b160e/fuBb+/Lh07doyeccYZ0UceeST67bffRjds2BDzvqNGjXK31/2L2muvvQoer+hrNHv2bPdz7S85OTnuZ3ou/ezEE08s999N1+lx9POjjz46+scffxRcN2HChELbpuf17rvvvoJtWLp0acHP9ZwXXXSRu65Xr15xv7Y6PnWfAw880P3OQV9++WV05513dtffc889ha5744033M/33nvvaFn411CvWVn5bb388ssL/dy/Tu3bt4+OHTvW/UzH3PLly91Xv+88++yz0Y0bNxbcb9KkSdFu3bq5655++um4nqss26n3wJLMmjUrutNOO21yzGh/9r+T3/dkzpw5BT//7bffCj3WDz/8EG3Tpo277v77749mZ2cXXDds2LCC60aPHr3JY+m6559/vuAY0lf/nqjLzJkz4/7dtR/26dOn0LGq31H7q7briy++iGZlZZX4GP54GjJkSMx9Tpfjjz++4DjTZ4GOJ/HXf/311yXuq/qc8J8Lb7311ibboG3VffbZZx93HHjaf/Qepvd23d+/nqLfTffRPvXLL78Uus9TTz3lrtPzLViwIO7XEwAShbJkIA7KSvmGQ5dcconrPhvMZCmbqeVeRFmuWOscKrOkMs/gPFrN31IXVSnaTEjlb8qcaYRfpZ7KGGj03GcjlH0aMmSIy/AFGyCpVFHrSZZ1PlhF/I7KaNx1110FWRll1PQ4Pnukkrx4aB6xKMNT0lxVv91lLUEsz/OpFDZeauCkrKT+lp7ur+yQGtKo/FSZXGVflNkN0s/1N1fJuUo2PWUk1X1WpYP6+6gaIPi39lnbfffdN+4y9bL83VRJ8OOPP7ptU1fpYLZbZcbFNdrxv4MqDPzccdFzKgOnsmJVJMTz+irDp4ydtlNlxspQBinjpsZAEqtsuzyUHSxtjduiJbel0bHlqzH0N1UWXxlc/e1FGW9l+zxlP5VpU2a+aMa/sqhsVdUmmuOu9yz9DfTcykSWh7L12n/1GqhsNngMqsTYz3FV9UNRuk4l6b6KRF+vvvrqgpLpoo33SqL9UO9rWuLHv9b6HbWv671Zv7OmZ1x55ZUuo7m5VGLujzN9Fmgfjpeqf1S6re3TEmlHHnlkoev19/FlznpddRx4uo+y0WeeeaZ7v1Qju6LHpkq7g2X6uo868x988MGu1L+y1+MGgIpAWTIQB50kqSxYwYJO+mPRybTWz1RZpAKMYNmXPxGLFTzpxFVBpcr8VLamZkme5qoF56sFaXkcnaTohFB0MqxyNAUf+rnK0XQCHO96ixXxO6rJTKyTNXUBVZARb6fh4In8P6Esz1eWk1FRSaz+vhqMUJmpyow1x9cHcXpNVJapudc6MfUljyrdVamkv4//ub4XzVXVQIbmqk6ZMqVg7VUf3Ba338RSlr+bShT986t8tigFuDpJVpltkAJQlbVraSsFtxqU8Sf56rz7wgsvxL29CmLU2EsDG0VLvEX7vy8nLctgREWtc1vWJX80UFGUAh+V2yqg0Hzc888/3722fsBJ7xuV1UBO869Lm4uszs8arNvcJZX8oJLKjv288+KCQXUb1zrXRQW7qAcHoVRWqykdRXsWlEavtwYP9Zw67rS/amDHz23WvqRScM23VfBYdCmg0uhvp2Njc6jMWAM5GgjQvHUFnEXpvV9l0Sp11gBILJrvq2NQZdsq/dbnhB8c0rrP6vCuaRDBkuqHH354s7YZABKB4BaIg4JO0UmTzwoUpeBA82QV+CnTWpSuKy67p5NhBRBFg9viKDjS/ChlNvy6qMpY6ORGDUF0YqOmKsqIaf6uRt3/id+xuKVOfNZT2Z94+MBEwUtxfNCixy5rwFne59scOoFUgxdddAKqk0sFqpprqmygMrcKYPR39QGbMr46ydbarJrjGgxuldnV3FcFtwoQFHDpJFyDFLp/vHNXy/p3U+ZYis47DNK2FA1utf1qDqRspLJfGkTRnFcFCNpWBW5l/TtqsEjZKs0/1eCBqgm0H2sNZJ9lquiOtpuzzm08jxlrwEVBrTJ1Cjp0UfDl15XVgISfS1zRdPwXnaurv5eOE809VzCuwY1YAwtloQyosqMl7U8KvnSJpbjA2i/js7kDG3pcP+9W+74GjzT3XHNWNdijoFyNljTAEqxCKI0aBW7O+4eCdL2/+31ZQWks/thU5U7R5nFesMpFx4peW73P7L777m5QQ4OmuuhzSMemsr96rympqgUAkgnBLRAHP3JfWkYmVgdRr6T1Z3WdgltfHlsalaTpJEnlw6KTeQW2Ku275ZZbCspSlb1T6Wg8wW1F/I6lnezGWz7sS7fVhKg4vozXn/iqwYpOQssqWCpelucrD71OKiXXRSfJDzzwgOt6rZN9ZV59RkoBjIIcZY90ou7LkH1zIZ10Kuur4FbloQqCFSzob1+W9Y7L8nfzr0PRRjtBsZ5bmSAF8soMKcjVAIkCYF1Ufq+gSY1u4m2CpSBZ+7oaWAUDWA3mKGhWUBJvGXyiFRfwKDOrwSZltRVcKWDXYIcuGgjQ3/nWW2+NK8gtLtjRYJUC6KI/C65fW1mCx9vmrM/9TwRcOv60P+migamXXnrJlfCrSZb2Z5VFV/b26phWtYKCUGWN77//fjcgVLQBnq+w0Hu5yqlLo0odP3ChxoR6L1EDNgXwCnx1UXNBvefr/UWNvco7kAgAlY3gFv866iapEmBleXSCUPTD2p8oB0/4/YlXaWW1/mQh1omaToaK4x9XI/ulUVmoTtp1ouVPan0n0mB5o7JxyhbqREUnO8VlYyvyd6woKocVv7RGLP46X1Kn3zOeE7qilK3dnOcrjeaeqpRQ8/QUgBRHJ5bKZKosWRmXYEZcQazKGBXQao6p9kntRwpqtN8qi+eDX+3Xyu6VtSS5rPxSScFlaIoqbvkgDQwogNVFGWdlihSYKyjX66vBGnX/1TJBpf3N1ClZ3WY171OBm7LF+jtqbrteE5VuhiW4LYn+xrpocMPvByqXVdmtBkI0J1JzMUsLOoo7Nipq+bDNERwg0f5UlixoRVLvAk0JULCowZfi6DXWfqeOwxqUiVW9UhkU2GoASBl7VetojqyWzxo4cGChv7s/NjWvXYN2ZaH3FgXquuh9SMel5o5r0FTVEZqjq0GYsgTzAJAIBLf419FJoZ+rppPFoplKnz0NNmrxpcIKiosLFBUU+8xhrLVZNQquOZRF6TF9MFDaPDdlo5Tl07YpuPV8mVrRzEAwy1pacFsRv2NFUXCjkzadZOkSKzPly179HLbyZJp8MKXfTSXDsTKZRZ+vNHqtVCqrYFTl4bGWTvKUkVXgp9+16Am+sjXaTxUA+gEFZWz9YIhK0FXirFJ1Bbd6rGADq4qmclVVCpS0Lm2s63wpu5at0kmyb76k0k+dPOuYVICr0s/SglsN8CiwVWCmZVFiDTjotQwz7YcqO9exqJJtvWZ6/9BFc+nV2ElrWyvQ0etdUpm4bM46wpVNwaQGIvS+ppJaBfFFTZw40WVK9TfW18qgbdD+pAFPVSYEm/6VVEZe2u0qit4TNKAld955pztWFHiqAVawP4KWQwqWJ8eizze9pqqk0JQY/e6qCNCxqXJs/Vzvt2pWpYuyxlqqSmvdljVTDQCJQLdk/OsEG5MUPeHTCaUfjQ+uP6iMqOa7KTum0q1YdLKpUkkFZcEulZ6yK7HmnPqgTKWApZUXaj1SBcmamxkMyn0gXvSEXl11FezEkxGuiN+xougkyweRyuQVpddAJ3c6MSu6Buzm0HPptdeJn07gilJJqIJ+BfyaaxiPQw45xL32+huoNLwkM2fOdPuiAmBlZ4J8oKq5tsp0SrCRjf/+2WefdYMcCoRizeGsKL5kWuXAsRr2KEgo2qVW+5ROlJX18g2vgrbaaquCOZ7xzJH1nboV7McKbBUs++cpesz5hkzl7bBd2ZQxUwM3P0e7qOA+EPwdfSYvmX6/YNf14HbpePLVJrG6IYsGO5R11t+8skpiVemgLLIqAjTloyQ6xtTt3E8bCPonXntVKKjjsag8WQMgngJgvSfq/dHPzS9KGWoNKKmxlB/IVSWFGnrpPaQovSdpPm5ZeiYAQCIR3OJfRxkyZY98F0jfeEYn4MqKKtOmE51g8KZyL58pVbmXgr/gSbiaAN10003ue42q+xH0ohljlZL58mTdXycamtMk6tBZEt1Ppa6am3jyyScXus4vI6LAzM+JVPChE0IFO75crSQV8TtWpIsuush91QmXBga8P/74w2USdKKlALIiMsg6KdXcV1G3VGVJg383NXMRnRTG2wlXJbIK5kR/N5UeK4gNUlZEc+jUDVb7n05alU0J0uusi7Ixys7q7x+ca6eyZ/HBXGVmbUVdjpUtVkZRr9mCBQsKrlNpuJarKhqgKsOqv5XPPCnTHOSbZkk8jbB8lYGOXZVmBoMJvUbKLvn5nEXnsftSWN23pNLqRNProMygfg/tf8H5qdpudS0XZdp8Uznx2f3yLFdTmeXHRbdL+4uOP713aRBIx4H31ltvFQz+lXfJoZJocFBZcNGcUz1X0X1U+7SCWi3fpakbGngoWsXhf8+SpjdUBJXvq/xenwn6TPH7v94bfHd8/T76DAhuvwZH/VJdyvj66hwFuqIqCL3XBo8nve/4v4HPHgNAMqMsGf9KKhPVSYoyYRp9V/ZHWU9lopRl0PVFS87U7VXBojqlal3SRx991AUZup+yc36uk042YtF1OlnTibyCFd1PGSad2CnwKe3EQQ2HlDW97777NimbVSClplHKciizqBNeBVIKKlTCGK/y/o4VSRlMzSfUHDid3CvgVgZaAZQCWwVYvnlWRdBJofYHzZPV66B9Qq+zTu50sqdgwwfc8dJ2K5OiQQwtIaKLsqqaD62TeGVddIKqfUCBs1/WqSgFrGr4omDYlyR7ynypZNV3ho23IdPm8vNZtQyUMmp6PgVX2jZlbfU30munkuzgEkvaDzUHVqXfeq11Iq5jTPuV37c0dzae4Favh19uSKWqGgBRtl/Hh8qf9Xoqs6mMux5bfz+fVVMptI5xZem0nIr+Fnpt/6kS03hp39Pgm/ZFzcdWZ14FNNp2v99oQOqee+4p9H7Qtm1b91V/G/1+qkApbu3hf4qCR/29FfRpQESDE5deeqn7W2t/1hI3+j20X+l9zr/n6P1RdJ/KDqx8Z2TNLdWcZl20T/glcbTtfiBUr6u2tyhV3+j9SUvtaIqAqhwUvFc0He9qoKfBs6LlycrC6hhQGbEqfLR/69jQ9vtKC72HBwdTtZ0asNTcY71naeBEv7cGUTSYqONHUwXUUAoAkh2ZW/wrqfOlRrEVECrToRMSnTQqMNQotZp2FKWTYwVTOvnSCb1O3DX30Gez1PBDAVhxHTGVndPJmwJbBZ4qNVRgrcxtaVkJlcLpBFwnrocddljM2yjjeO6557oTHwUWOhnRfWLNYytOeX/Hiqbsg55T2Uk1stLrphNfnWTp71SRTa30u2vgQK+jAicFRXodFbhp8EHrWpa1+Y4fuFDArG3W4+pnCpg1iKBSaJ2Ual/UgEpxZZfBBlFFg1sFNr60U0FDPEtJlZey5cq06eRaJ8EKanXirH1T5aW+9D9YMaC/lf5myjppYEKZSM0X1Ymzfj8NYsQ7WKH9UhlbLZWjY0LZWR3D+vsoo6aqA/29tJ/qeYLNlLTt+hsrANd1yjxXdqZtc+nY1b6hzJoGRbQ/KtjwS9Uo6PWZe0/l33o/0e21j+n4rejlkDaHAnXt/34uun4PT/uRsoZ6P9bfTCX6GvxRQKtO0b4rfGVT5YQ6eSvwUymutkUlvtpeBehHH320G6jS7xLrPVCBoQJH7fea3qLjorLo7+6ztMHyZG2X1tXWZ42qjzTopH1Agbv2JwWuCuCLru2tpnc6LnQb/Y30N9DxofcWVewogC6tbwMAJININJkm5gAAQk+DQ+rgrZPu4gZjAAAAKhqZWwBA3IYNG+ayU3fccUfM61US6Ru1qUwTAADgn8KcWwBAmbq1qkxTZZBqVqZSUl9OrTJYlQqrFFJlk379YAAAgH8CZckAgDJRx+OXXnqpoPt4sPmM5uupiZHme5e2tBUAAEBFIrgFAJSZlkVRMzSVIKv5lpZBUTff3r1724knnhjX8lMAAAAVieAWAAAAABB6NJQCAAAAAIQewS0AAAAAIPQIbgEAAAAAoUdwCyAUtPzMddddZz169HDL0XTv3t0uuOAC+/rrryvl+dT1d8iQIa450i677GKdOnWyww47zB555BFbvXp1uR77l19+sQ4dOtjjjz9e8LNrrrnGdtxxR7eUzpbk0Ucfdb/XSSedVOjn+++/v/v50KFD7d/ohx9+sPPOO8+6du3q9oWDDjrI7rvvPlu1atVmPZ7ff0q6fPbZZ5vc77TTTiv1flOnTt3kfgsXLrS77rrLNRDTklC6HHLIIe53WLp06Sa3//77791jvf7665v1+wEAEA/WuQWQ9L766iu76KKLLDs723Xh1fqpy5YtsxEjRrjLWWedZVdffXWFPd+GDRvswgsvtC+//NL9f+utt7YaNWq4AFsB6bBhw2zgwIG23XbblfmxtQbslVdeaVtttZWdc845FbbNCI8PPvjALr/8cjeA0qhRI2vatKnNmDHD/ve//7nrXnnlFbe8UlkHTKRt27bFdqquU6fOJj9Tt2tRcJqamhrzfuqEHTRu3Dg7//zzXSCu+6hLtn6X2bNn28yZM+2dd95xv0ubNm0K7tOlSxcXCN99991uDeRtt922TL8fAADxILgFkNQUxCoQUGCrzNCtt95qNWvWdNe9++67Lqh9/vnnXWa1V69eFfKcTzzxhAtsFdAqU6sssSxZssRty3fffWeXXHKJDR8+3CKRSJkeW9s6ffp0u/feey0jI8P+rV588UUX6Dds2ND+TX799Ve76qqrXDB444032imnnOL2oT///NMuvfRSFzhqH1OAGy+9jgoqRUGlBk7iMX/+fFu5cqULhpVRjWdfVkB78cUXu6977723y976v+GcOXPc7/bjjz+6wSEF6sF9XL+Xsse33XabWwcZAICKRlkygKSmLKlOwJXduueeewoCW1GZ8HHHHee+f+211yosazto0CD3vU7UfWArDRo0sAceeMAFAQpQdRJf1kD9qaeeclmrww8/3P7NlO1TBj749/w3eOaZZ1wwqoGaU089tSCgVECqqgC9HipZ/uabb8oUMOsx69WrF3dgG8z27rDDDnEP0rz55ptuP1ZA+9///rfQ4ETz5s3d71C7dm2bO3euffTRR4Xuq+u1348ePdq++OKLuLcTAIB4EdwCSGrNmjWzQw891E4++WSrUqXKJtdrHp/PQsU66b/22mtdwBqL5nsWnfO5Zs0aO/roo23PPfeMmQlWgKsgorjnLImyallZWS4gT0nh7fffZv369S6bKccee2zMsuGDDz7Yff/ee++VOUht1apVmbZnc+6nqgXZb7/9XGVDUTo2NEddJk6cuMn1msMujz32WJm2FQCAeFCWDCCp9enTx12KM2nSJPe16By+jRs32n/+8x/7448/bPHixa7UOFgi+eqrr7oSZx8gd+zYseDk/Prrry/2+ZSRWr58ecznLInKqpWFVoastKyt5i4qK/btt9+6+7Vo0cIF+KeffnrMUmbd5o033nAln5pDqZJRDQRorvBee+1lffv2dXM7i1IApftNnjzZBd3KGrZr186OOOII93yxAnCVz6q0etSoUTZv3jx3m+23395lIlViG2+ptRpK6f533HFHQfZdgZN+R83/fPnll10G/e2337bff//d0tPT3bbp+p49e8Z8zIraNt9oaezYsXHfXnO/NRBTkilTprgAV/vArrvuGvM2+rkGXMry3D5Ibd26ddz3Cd7PDxDFQ3NtNehT0nzzaDTqvqr0uigdZ/qb/Pzzz/bTTz+5vzUAABWF4BZAKCmAe+mll1yZZFpamp177rmFrtfP1LxGP1cZpDrTPvnkk1a1alUXNCmo8ifrPrAtjeZDar6gTtpVrhzv/UTboPJqBWixAk1PjYWU1Vu7dq3LqOXm5rogRJcPP/zQXnjhBVf26alE9IwzznBl0gqaVO6rZkSLFi1yj6WL5gbrdWrcuHHB/fTaaN6rqORbJaMaBNB2+suAAQMKbZvKZdWhesWKFS7YVNCtQEbBsQYZfCMhZbfLQyW2+ruNGTPG6tat68qXFfAr+NXllltu2aT7ckVvmwJFDZDEK57AWUG6aBu0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h1mv/faxCMcgQmhd9nob/N4I+3jMD7Zk2QqrU7OG7b1rezv76IOtbq2acT/OtN/m2juff2Pri34emtniaKb7vnFKlh3YbVfr2rFNodv8MGW6vfD2Jzbzj/nu/i2bN7Ej9t/TDt6zs6WnFz6t1HE64rsJ7rl0+425udZ4q3rutof16Gb168T/3gEA8YhEdUaBcpk6daplZWVZyrJFVv+LYYnenC3KyJlz7LoPvrEFq7Osfv36tu2229rKlStt1qxZViU1xfp2aWdX77ebpaaUXISQm5dnBz7zts1aujKu5337zENt+/q17Mr3RtvH0/5wP9t+++2tXr16tnz5cvf8cmCr5vbAYXtb7WoZBfdVUHvnZ9/blMXLLDMz091PJ9JTpkyxjRs3Wpfmjezxo3pYo5rxB+YomQYs2t432H2/fMZ4y6zOa1uRBg1926669W5bunyFNW7c2Jo2bWpLliyxP/74w2pkVrfr+19o/3fe2aUGjKtWr7E2e/a0P5ctL/U5FaxO/foT26bp1vbT5F/s8pvvtC/HjLWMjAxr2bKl+/rLL7/YunXrrE2rlvb6s49a21Yt3X3XrF1r5191kw155323TTvuuKO7vY7b1atXW/u2re35/w6wTu3bVthrBLO1WVlWt9Uu7vvlX79pmdWqJnqTtigKaq968Fn7c8WqTY/D6tXs2nNOtCvOOLbU43D12ixre8Q5tnjZilKfMy0t1aa8/T9rsXUj+3n6bLv8/qfti3E/xzwOW7doZq/fd73t1HJbd98xP02x068bYL8vWOxup+MwLS3NfvvtN1u2bJlVzahid13S1y466YgKe41gtnZdtr3361pr27atVa9e3X0N07l0dO5cy33svwndltSLLrNIs2ahev3wN8qSkbS++W2BnTt0hGU22toGDx5sCxcutB9++MFmzpxp48aNsz6HHW5PfzvJbvr4u1If69dlq1xgO2DAAPehWtzl66+/drefvHCpnTNkhH06Y65dccUVNn36dHdi/P3337vn1/+vuuoqGzFrnvUd8pnLLstHv/xuZ7z2ia1Iq2r333+/LViwwH7++Wf76aef3Pbfe++99tOi5Xb6a5/Y+o25lf4aAuX16lvv2tmXXW3bbre9vfPOO26f1vH3+++/2+eff26du+xu195xn933+LOlPta3P4x3ge3LL79c4nH4+uuvW05Ojk2b+auN/fEn2//ok+3nqdPthhtucCfykydPth9//NEWL15s//vf/2zhkqXW6/gzbPGfSy03N9eO6XuBC2zPO+88mzFjhhtYGj9+vM2fP9/++9//2sIly6zXCWfYjF9/+0deQ6C8XvtolJ110wPWrMX29vbbbxc6DkeNGmVdunaz6x95we59fkipj/XdxF9cYDto0KASj8OhQ4faxo25Nm32HPt+0jTb/5wr7aeZf9j111+/yXH43HPP2eIVa+zg866zRUuXu0C49/nX2wZLtYEDB7rb6HNQn+H6/rPPPrPdu3az/7vvaXv8teH/yGsI4N+BsmQkJQV+137wtTVqsrULOBs2bFjo+t12283eeustO/PMM90H5xE7bWe7b9O42MdTsCrdunWzunVjlxJLrVr5JVIfTvvdxs5ZZA888ID93//93ya3a9WqlQtUmzVrZpdccom9O2W27bFtY7v83a+sdZu27qS/6DYr86yAWD/v27evvTZhup3RmRFBJK+ly5Zb/xvusI4dO9qXX37pKhGCevToYXvttZf16dPHbr3/EVci3LrldsU+3k+Tp7qve+65Z4nHYY0aNdzXtVnr7MKrb7LMGjXdCbwyP0Vvd/bZZ7uf77333jbg0aetbesd7POvv7V77rnHrr766k1uf+mll9r+++9vu+++u112w+32/ivPbdZrA/xTlq1cbf0HPGUdOnSwr776quD48Pbdd1/75JNP7NBDD7Xbn37Zjjqgu+3Yolmxj/fTtF/LdBxmZa+3S+55wqpl5h+Hbdq02eR2Z511VsFxeO/zr9uvcxZYanoVGz16tKteCkpNTbUDDjjA9tlnH9tvv/3spscH2mmH9rRaZZhmBADFIXOLpDRq1lz7bflqd4Lqg0RlTC+77DJ74403Cm730EMPWe3ate2F7/NPmoszZdEyV6q1886F5/AVR6XFjRo1sosuuqjgZ4899pgdddRRLiPrnX/++bb11lvbyz/+Yk9887Nl50XtlVdeKdhmldn079/fHnzwQcvLy8/uKiBXsPDMt5PcPEMgmbO2y1assEceeaQgsFWmRgM6I0eOdP9XmeFTTz3lMqb/G/x6iY+n8uI6depYixYt4nr+515+3X6bM8+efvrpgsBWGSsFrbfccosrYRMF2EceeaQ9M/g1u/vhJ10ZmSouvCeeeMLdZ+nS/EEuBQkatPr0i9Fu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2zV+Unfjvn372s477+w6Hk+aNMnmzZvnOjc/8cQTVqVKlYLH2nfffV0p86OPPmpnn322u48CaS0PpHm2bdq0cUFu2BHcAgAAAEgOf80N3RJ16dLFhg4dao899pjLrmqerQJWZWwVpKqjcrxuvPFG23333e3ll192JcVa+7ZJkybucfr161coAxxcQkhlxy+++KJbLuiXX35x2eRTTjnFzjrrrLg6NSc7glsAAAAA+Ae0bt3aHnnkkbhuq8C3uKZRfo1aXcpijz32iGteb1gR3AIAAABIApFKbeoU9zYgtBK99wAAAAAAUG4EtwAAAACA0KMsGQAAAEDCRSO6pCR8GxBeZG4BAAAAAKFHcAsAAAAAqDRZWVluPd/169dX3pNQlgwAAAAgaaSQe9uSfPDBB/bkk0+6NX0lJSXFdt55Z/u///s/69y5c4U/H3sPAAAAAKBCDRs2zAWxv//+u+2www62yy67WJMmTezHH3+0M888077//vuKfUIytwAAAACAihSNRu2hhx6ynXbayZ566ilr0KBBwXUjR460iy66yB588EF79dVXK/R5ydwCAAAASAIRM3VLTuRF24BSLVu2rMTrNb926dKldtJJJxUKbGX//fe3li1b2pQpU6yiEdwCAAAAAOJ24IEH2hNPPGHr1q2LeX1mZqZFIhGbOnXqJtetWLHCFi5caLVq1bKKRlkyAAAAgOSQ4HVuEZ+2bdvaI488Yq+88opdfPHFdtxxx7lmUV6NGjVs7733dtcrmN11112tSpUqtmjRInvnnXdszZo1Lqtb0QhuAQAAAABxGzx4sI0YMcIeeOABu/nmm23gwIGueVTPnj0LbnPPPffY1Vdfbe+//77rmuzn4sohhxxil1xyiVU0glsAAAAAQJkccMABtt9++9nQoUPtsccecxncTp062ZVXXukytfXq1bNnn33WfvnlF5s0aZKbg1unTh23BJDm3FYGglsAAAAAiRf5q6FUorcBcVMp8gknnGBHHHGEPffcc/b888/bKaec4oLeyy+/3AWxbdq0cZd/AkXtAAAAAIDNVrVqVbvwwgvt008/tRNPPNG+/PJLF/DeeOONbp7tP4XgFgAAAABQbipF1hzc9957zy35o5Llgw8+2K15qyZSlY2yZAAAAABJIZrosmSUycyZM23cuHG2cuVKq127tnXp0sWVIrdo0cJ1U54w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EtyedtppduKJJ5Z5e9555x179913bUvDnFsAAAAACaeK5LxoYi+VVRX9/vvv27x586x79+4Fga1UrVrV7rrrLqtevboNGzbMVq1aFdfjTZkyxX1t3759mbdlzpw5dtttt9lOO+3knndLQnALAAAAAJXo888/d18POuigTa6rW7eude3a1WV3R48eHXfmNj093Vq3bl2m7di4caNdccUVlpuba/fff7+lpqbaloTgFgAAAAAq0fTp093XHXfcMeb1rVq1cl+nTZtW6mPNnz/fli9fbi1atLDXX3/djj76aNtll11cgHzhhRfaxIkTi73vY489ZhMmTLBrrrnGtt9+e9vSENwCAAAASJpuyYm8VJZFixa5r40aNYp5fYMGDdzXxYsXxz3fdsaMGXb33Xe7LsvdunVzJcafffaZnXTSSa4Muqhx48bZ008/bfvtt99mzdMNAxpKAQAAAEDArFmz7Prrr4/79scff3yJAeO6desK5tjG4n+uhlPxBrfKvD755JMugyt5eXn2zDPP2EMPPWTXXnutdezY0Zo3b+6u01zeK6+80i0NpDm+WyqCWwAAAAAIUBdjH0TGY8mSJSVer7mtCj5LE40jfXzRRRfZMccc4zK2wXVsU1JS7LzzznNlx5rj+9prr7mAVm688UZXzqzgt6S1b8OO4BYAAABAUsirtH7FZaNMqroJx8uXFRdHgeiKFSts/fr1xQbTEk/34rS0tIKMbCwHHHCAC2793Ft1Yf7oo4/s1FNPtX333de2ZAS3AAAAABDQsmVLe/PNNyvs8Ro2bOiCW2V4mzRpssn1fq6tbldeTf56fF8KfeeddxY8hzolxwqqNXe3WrVqrrS6c+fOFlYEtwAAAAASrrKbOsW7DZVBXZLVMVlNoDQXtqiZM2cW3K409957r82dO9eVJ8e6/YIFCwoFuX4e7yeffFLsY6oRley5554EtwAAAACA2Hr06GHvvvuuCzA1XzZIy/p89913lpGRYXvssUepjzVp0iQbO3asaygVK7gdPny4+7rPPvuUuryQAtnVq1fbiBEjrFmzZhZ2LAUEAAAAAJWoZ8+e1rRpUxs1apRr9BQsC1ZXZmVX1XE52OwpJyfHdW3WRd97J598svv6/PPP25gxYwp+npubawMGDHCBrzooH3744fZvQ+YWAAAAQBKIWl6i65IrqaGVGlSpnPicc86x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4Yetbt267uerVq2y//u//7OvvvrKbr75ZhdohxlzbgEAAACgEr3//vs2b9486969e0FgK1WrVrW77rrLqlevbsOGDXPBZjymTJnivrZv377U22ZnZ9t7773nvldg7QNbURb33nvvtUgkYl988YWtXLnSwozgFgAAAAAq0eeff+6+HnTQQZtcp2BTGVVld0ePHh135jY9Pd1at25d6m2XLl1qO+20k+2666629dZbb3J9/fr1rXbt2m4O7p9//mlhRlkyAAAAgKSQ6IZSlUUlwbLjjjvGvL5Vq1YuAJ42bZr16dOnxMeaP3++LV++3N3n9ddft7feess1qqpSpYp17tzZzjvvPDef12vatKmbz1scNZfSnFzNwW3YsKGFGZlbAAAAAKhEixYtcl+La9jUoEED93Xx4sVxz7edMWOG3X333a7Lcrdu3Vxp82effWYnnXSSK4OO1/333+++qmQ63oZWyYrMLQAAAAAEzJo1y66//vq4b3/88ceX2NhJy/D4Obax+J+r4VS8we32229vTz75pLVo0cL9Py8vz5555hl76KGH7Nprr7WOHTta8+bNS3wsNZD65JNP3PNfccUVFnYEtwAAAAASLhqNJrwsWdvgmzD5IDIeS5YsKfF6lfwq+Iz3+Uty0UUX2THHHOMytsF1bFNSUlxJ8oQJE1yJ82uvvWZXXnllsY+jrslPPPGEu5+aWhVXMh0mBLcAAAAAEKBMppowxcuXFRdHgajmta5fvz7m9QqmRaXFpUlLSysxI3vAAQe44FZr2MayYcMGu+GGG+ydd95xTanUQfmQQw6xLQHBLQAAAAAEtGzZ0t58880Kezw1alJwqwxvkyZNNrnez7WtiIZOTf56fF8KXbRz8oUXXmjjx4+3GjVq2COPPOLm2m4paCgFAAAAICnkqjQ5gZfK4kt+1QQqlpkzZxa6XUm0Lu3FF1/sOivHsmDBAve1aBD9xx9/2HHHHecCW3VQVtnylhTYCsEtAAAAAFSiHj16uK9q3lSUlvX57rvvLCMjw/bYY49SH2vSpEnucT744IOY1w8fPtx93WeffQp1az799NNt3rx5bpmgoUOHuqWEtjQEtwAAAAASTnlTNZRK5KWycrc9e/Z02dJRo0a5jGlwrq26MqtLsjouBxtE5eTkuK7Nuuh77+STT3Zfn3/+eRszZkzBz3Nzc23AgAE2duxY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"/>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=7c27ab5e-424c-46af-ae16-74731c2bb9a1">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>read in two strikes csv</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=7f470989-a573-4859-8449-a35deaab1d8f">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [137]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">two_strikes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"2strikes.csv"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=c83cdb69-82b5-4ef0-a959-7d7bcaeff8e9">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Get swing percentage on pitches in and out of the zone for different 2 strike counts</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=216442f2-0b6a-4a42-acc2-4a83009cab2d">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [138]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">ensure_swing_flag</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">"swing_flag"</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>
    <span class="n">take_events</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"ball"</span><span class="p">,</span><span class="s2">"called_strike"</span><span class="p">,</span><span class="s2">"pitchout"</span><span class="p">,</span><span class="s2">"blocked_ball"</span><span class="p">,</span><span class="s2">"intent_ball"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>
    <span class="n">desc</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span> <span class="o">=</span> <span class="o">~</span><span class="n">desc</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">take_events</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">def</span><span class="w"> </span><span class="nf">ensure_k_zone</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">"k_zone"</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span>
    <span class="n">BR</span> <span class="o">=</span> <span class="mf">0.12</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"plate_x"</span><span class="p">,</span><span class="s2">"plate_z"</span><span class="p">,</span><span class="s2">"sz_bot"</span><span class="p">,</span><span class="s2">"sz_top"</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">c</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
    <span class="n">in_x</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"plate_x"</span><span class="p">]</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mf">0.83</span>
    <span class="n">in_z</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"plate_z"</span><span class="p">]</span> <span class="o">+</span> <span class="n">BR</span> <span class="o">&gt;=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"sz_bot"</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"plate_z"</span><span class="p">]</span> <span class="o">-</span> <span class="n">BR</span> <span class="o">&lt;=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"sz_top"</span><span class="p">])</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">"k_zone"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">in_x</span> <span class="o">&amp;</span> <span class="n">in_z</span><span class="p">,</span> <span class="s2">"Strike"</span><span class="p">,</span> <span class="s2">"Ball"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">def</span><span class="w"> </span><span class="nf">add_count_cols</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="n">cl</span> <span class="o">=</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span> <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
    <span class="k">if</span> <span class="s2">"balls"</span> <span class="ow">in</span> <span class="n">cl</span> <span class="ow">and</span> <span class="s2">"strikes"</span> <span class="ow">in</span> <span class="n">cl</span><span class="p">:</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">cl</span><span class="p">[</span><span class="s2">"balls"</span><span class="p">]],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"Int64"</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">cl</span><span class="p">[</span><span class="s2">"strikes"</span><span class="p">]],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"Int64"</span><span class="p">)</span>
    <span class="k">elif</span> <span class="s2">"count"</span> <span class="ow">in</span> <span class="n">cl</span><span class="p">:</span>
        <span class="n">cnt</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cl</span><span class="p">[</span><span class="s2">"count"</span><span class="p">]]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">cnt</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s2">"(?P&lt;b&gt;\d)\s*[-–]\s*(?P&lt;s&gt;\d)"</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="s2">"b"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"Int64"</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">pda</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="s2">"s"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"Int64"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"Need 'balls' &amp; 'strikes' or a 'count' column (e.g., '3-2')."</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">balls</span><span class="o">=</span><span class="n">b</span><span class="p">,</span> <span class="n">strikes</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">"count_str"</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"balls"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"-"</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s2">"strikes"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">def</span><span class="w"> </span><span class="nf">swing_pivot</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">by</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">__grp</span><span class="o">=</span><span class="s2">"All"</span><span class="p">)</span>
        <span class="n">by</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"__grp"</span><span class="p">]</span>
    <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span> <span class="o">+</span> <span class="p">[</span><span class="s2">"k_zone"</span><span class="p">])[</span><span class="s2">"swing_flag"</span><span class="p">]</span>
           <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">swung</span><span class="o">=</span><span class="s2">"sum"</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="s2">"count"</span><span class="p">)</span>
           <span class="o">.</span><span class="n">reset_index</span><span class="p">())</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">"k_zone"</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s2">"swung"</span><span class="p">,</span><span class="s2">"total"</span><span class="p">])</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"Strike"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="s2">"swung"</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">out</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span> <span class="n">out</span><span class="p">[(</span><span class="s2">"swung"</span><span class="p">,</span> <span class="n">z</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="p">(</span><span class="s2">"total"</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">out</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span> <span class="n">out</span><span class="p">[(</span><span class="s2">"total"</span><span class="p">,</span> <span class="n">z</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">out</span><span class="p">[(</span><span class="s2">"pct"</span><span class="p">,</span><span class="s2">"Strike"</span><span class="p">)]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">out</span><span class="p">[(</span><span class="s2">"total"</span><span class="p">,</span><span class="s2">"Strike"</span><span class="p">)]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span><span class="p">[(</span><span class="s2">"swung"</span><span class="p">,</span><span class="s2">"Strike"</span><span class="p">)]</span> <span class="o">/</span> <span class="n">out</span><span class="p">[(</span><span class="s2">"total"</span><span class="p">,</span><span class="s2">"Strike"</span><span class="p">)],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
    <span class="n">out</span><span class="p">[(</span><span class="s2">"pct"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">)]</span>   <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">out</span><span class="p">[(</span><span class="s2">"total"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">)]</span>   <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">out</span><span class="p">[(</span><span class="s2">"swung"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">)]</span>   <span class="o">/</span> <span class="n">out</span><span class="p">[(</span><span class="s2">"total"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">)],</span>   <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="k">def</span><span class="w"> </span><span class="nf">baseball_order</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span>
    <span class="n">bs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">idx</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">b</span><span class="p">,</span><span class="n">s</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"-"</span><span class="p">);</span> <span class="n">b</span><span class="p">,</span><span class="n">s</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">b</span><span class="p">,</span><span class="n">s</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span><span class="mi">9</span>
        <span class="n">bs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">b</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">c</span><span class="p">))</span>
    <span class="c1"># keep only two-strike counts</span>
    <span class="n">bs</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">bs</span> <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="ow">and</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]</span>

<span class="c1"># --- compute on two_strikes ---</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">two_strikes</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">ensure_swing_flag</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">ensure_k_zone</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">add_count_cols</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">"k_zone"</span><span class="p">,</span><span class="s2">"swing_flag"</span><span class="p">,</span><span class="s2">"balls"</span><span class="p">,</span><span class="s2">"strikes"</span><span class="p">])</span>

<span class="c1"># (1) Overall two-strike swing% by zone</span>
<span class="n">overall</span> <span class="o">=</span> <span class="n">swing_pivot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="c1"># (2) By specific two-strike counts (0-2, 1-2, 2-2)</span>
<span class="n">by_count</span> <span class="o">=</span> <span class="n">swing_pivot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">"count_str"</span><span class="p">])</span>
<span class="n">order</span> <span class="o">=</span> <span class="n">baseball_order</span><span class="p">(</span><span class="n">by_count</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">by_count</span> <span class="o">=</span> <span class="n">by_count</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">order</span><span class="p">]</span>

<span class="c1"># --- print results ---</span>
<span class="c1"># Overall</span>
<span class="n">s_sw</span> <span class="o">=</span> <span class="n">overall</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][(</span><span class="s2">"swung"</span><span class="p">,</span><span class="s2">"Strike"</span><span class="p">)];</span> <span class="n">s_to</span> <span class="o">=</span> <span class="n">overall</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][(</span><span class="s2">"total"</span><span class="p">,</span><span class="s2">"Strike"</span><span class="p">)];</span> <span class="n">s_pc</span> <span class="o">=</span> <span class="n">overall</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][(</span><span class="s2">"pct"</span><span class="p">,</span><span class="s2">"Strike"</span><span class="p">)]</span>
<span class="n">b_sw</span> <span class="o">=</span> <span class="n">overall</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][(</span><span class="s2">"swung"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">)];</span>   <span class="n">b_to</span> <span class="o">=</span> <span class="n">overall</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][(</span><span class="s2">"total"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">)];</span>   <span class="n">b_pc</span> <span class="o">=</span> <span class="n">overall</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][(</span><span class="s2">"pct"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"=== Two-Strike Overall — counts &amp; swing% ==="</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Strike </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">s_sw</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">s_to</span><span class="p">)</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="s1">'NA'</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">s_pc</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">s_pc</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">%'</span><span class="si">}</span><span class="s2">), "</span>
      <span class="sa">f</span><span class="s2">"Ball </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">b_sw</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">b_to</span><span class="p">)</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="s1">'NA'</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">b_pc</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">b_pc</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">%'</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>

<span class="c1"># By count</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== By Count (0-2, 1-2, 2-2) — counts &amp; swing% ==="</span><span class="p">)</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">by_count</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">s_sw</span> <span class="o">=</span> <span class="n">by_count</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="s2">"swung"</span><span class="p">,</span><span class="s2">"Strike"</span><span class="p">)];</span> <span class="n">s_to</span> <span class="o">=</span> <span class="n">by_count</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="s2">"total"</span><span class="p">,</span><span class="s2">"Strike"</span><span class="p">)];</span> <span class="n">s_pc</span> <span class="o">=</span> <span class="n">by_count</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="s2">"pct"</span><span class="p">,</span><span class="s2">"Strike"</span><span class="p">)]</span>
    <span class="n">b_sw</span> <span class="o">=</span> <span class="n">by_count</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="s2">"swung"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">)];</span>   <span class="n">b_to</span> <span class="o">=</span> <span class="n">by_count</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="s2">"total"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">)];</span>   <span class="n">b_pc</span> <span class="o">=</span> <span class="n">by_count</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="s2">"pct"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">)]</span>
    <span class="n">s_pct_str</span> <span class="o">=</span> <span class="s2">"NA"</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">s_pc</span><span class="p">)</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">s_pc</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%"</span>
    <span class="n">b_pct_str</span> <span class="o">=</span> <span class="s2">"NA"</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">b_pc</span><span class="p">)</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">b_pc</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%"</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s2">:  Strike </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">s_sw</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">s_to</span><span class="p">)</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">s_pct_str</span><span class="si">}</span><span class="s2">) | Ball </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">b_sw</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">b_to</span><span class="p">)</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">b_pct_str</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>=== Two-Strike Overall — counts &amp; swing% ===
Strike 9609/10865 (88.4%), Ball 5279/14135 (37.3%)

=== By Count (0-2, 1-2, 2-2) — counts &amp; swing% ===
0-2:  Strike 1591/1830 (86.9%) | Ball 1190/3791 (31.4%)
1-2:  Strike 2878/3239 (88.9%) | Ball 1854/5004 (37.1%)
2-2:  Strike 2944/3308 (89.0%) | Ball 1525/3672 (41.5%)
3-2:  Strike 2196/2488 (88.3%) | Ball 710/1668 (42.6%)
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=7afda4d7-4a44-47db-aa35-a49e3da3e974">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Graph first pitch and 2 strike swing and take metrics</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=0457f000-0eca-4f0c-8eb1-9d847fcaddd7">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [139]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">ensure_swing_flag</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">"swing_flag"</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>
    <span class="n">take_events</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"ball"</span><span class="p">,</span><span class="s2">"called_strike"</span><span class="p">,</span><span class="s2">"pitchout"</span><span class="p">,</span><span class="s2">"blocked_ball"</span><span class="p">,</span><span class="s2">"intent_ball"</span><span class="p">,</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>
    <span class="n">desc</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">"swing_flag"</span><span class="p">]</span> <span class="o">=</span> <span class="o">~</span><span class="n">desc</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">take_events</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">def</span><span class="w"> </span><span class="nf">ensure_k_zone</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">"k_zone"</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span>
    <span class="n">BR</span> <span class="o">=</span> <span class="mf">0.12</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"plate_x"</span><span class="p">,</span><span class="s2">"plate_z"</span><span class="p">,</span><span class="s2">"sz_bot"</span><span class="p">,</span><span class="s2">"sz_top"</span><span class="p">]:</span>
        <span class="n">df</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">c</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
    <span class="n">in_x</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"plate_x"</span><span class="p">]</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mf">0.83</span>
    <span class="n">in_z</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"plate_z"</span><span class="p">]</span> <span class="o">+</span> <span class="n">BR</span> <span class="o">&gt;=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"sz_bot"</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"plate_z"</span><span class="p">]</span> <span class="o">-</span> <span class="n">BR</span> <span class="o">&lt;=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"sz_top"</span><span class="p">])</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">"k_zone"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">in_x</span> <span class="o">&amp;</span> <span class="n">in_z</span><span class="p">,</span> <span class="s2">"Strike"</span><span class="p">,</span> <span class="s2">"Ball"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">def</span><span class="w"> </span><span class="nf">swing_table</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"k_zone"</span><span class="p">)[</span><span class="s2">"swing_flag"</span><span class="p">]</span>
           <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">swung</span><span class="o">=</span><span class="s2">"sum"</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="s2">"count"</span><span class="p">)</span>
           <span class="o">.</span><span class="n">reindex</span><span class="p">([</span><span class="s2">"Strike"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">])</span>
           <span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">g</span><span class="p">[</span><span class="s2">"swung"</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="s2">"swung"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">g</span><span class="p">[</span><span class="s2">"total"</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="s2">"total"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">g</span><span class="p">[</span><span class="s2">"pct"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="s2">"total"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">g</span><span class="p">[</span><span class="s2">"swung"</span><span class="p">]</span> <span class="o">/</span> <span class="n">g</span><span class="p">[</span><span class="s2">"total"</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">g</span>

<span class="c1"># --- A) First pitch of job ABs (combined) ---</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">combined</span>
<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="n">combined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"/mnt/data/comb.csv"</span><span class="p">)</span>

<span class="n">dfc</span> <span class="o">=</span> <span class="n">combined</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">dfc</span> <span class="o">=</span> <span class="n">ensure_swing_flag</span><span class="p">(</span><span class="n">dfc</span><span class="p">)</span>
<span class="n">dfc</span> <span class="o">=</span> <span class="n">ensure_k_zone</span><span class="p">(</span><span class="n">dfc</span><span class="p">)</span>
<span class="n">dfc_fp</span> <span class="o">=</span> <span class="p">(</span><span class="n">dfc</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">,</span><span class="s2">"pitch_number"</span><span class="p">])</span>
            <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="s2">"first"</span><span class="p">)</span>
            <span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">"k_zone"</span><span class="p">,</span><span class="s2">"swing_flag"</span><span class="p">]))</span>
<span class="n">tab_first</span> <span class="o">=</span> <span class="n">swing_table</span><span class="p">(</span><span class="n">dfc_fp</span><span class="p">)</span>

<span class="c1"># --- B) Two-strike overall (two_strikes) ---</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">two_strikes</span>
<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="n">two_strikes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"/mnt/data/two_strikes.csv"</span><span class="p">)</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">two_strikes</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">ensure_swing_flag</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">ensure_k_zone</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">"k_zone"</span><span class="p">,</span><span class="s2">"swing_flag"</span><span class="p">])</span>
<span class="n">tab_2s</span> <span class="o">=</span> <span class="n">swing_table</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>

<span class="c1"># --- prep data for plot ---</span>
<span class="n">zones</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Strike"</span><span class="p">,</span><span class="s2">"Ball"</span><span class="p">]</span>

<span class="n">first_rates</span> <span class="o">=</span> <span class="n">tab_first</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">zones</span><span class="p">,</span> <span class="s2">"pct"</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="n">two_rates</span>   <span class="o">=</span> <span class="n">tab_2s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">zones</span><span class="p">,</span> <span class="s2">"pct"</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>

<span class="n">first_swung</span> <span class="o">=</span> <span class="n">tab_first</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">zones</span><span class="p">,</span> <span class="s2">"swung"</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="n">first_total</span> <span class="o">=</span> <span class="n">tab_first</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">zones</span><span class="p">,</span> <span class="s2">"total"</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="n">two_swung</span>   <span class="o">=</span> <span class="n">tab_2s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">zones</span><span class="p">,</span> <span class="s2">"swung"</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="n">two_total</span>   <span class="o">=</span> <span class="n">tab_2s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">zones</span><span class="p">,</span> <span class="s2">"total"</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>

<span class="c1"># --- plot (two series only) ---</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">zones</span><span class="p">))</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.35</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="n">b1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">first_rates</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"First Pitch (Job Opp)"</span><span class="p">)</span>
<span class="n">b2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">two_rates</span><span class="p">,</span>   <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"Two Strikes (Overall)"</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">"Swing% by Zone: 0–0(Job) vs Two Strikes"</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">"Swing rate"</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">zones</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.10</span><span class="p">)</span>  <span class="c1"># a bit more headroom for labels</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># annotate each bar with "xx.x% (swung/total)"</span>
<span class="n">series</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="n">b1</span><span class="p">,</span> <span class="n">first_rates</span><span class="p">,</span> <span class="n">first_swung</span><span class="p">,</span> <span class="n">first_total</span><span class="p">),</span>
    <span class="p">(</span><span class="n">b2</span><span class="p">,</span> <span class="n">two_rates</span><span class="p">,</span>   <span class="n">two_swung</span><span class="p">,</span>   <span class="n">two_total</span><span class="p">),</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">bars</span><span class="p">,</span> <span class="n">rates</span><span class="p">,</span> <span class="n">swung_arr</span><span class="p">,</span> <span class="n">total_arr</span> <span class="ow">in</span> <span class="n">series</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bars</span><span class="p">):</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">rates</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">swung_arr</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="k">if</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">swung_arr</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="n">t</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_arr</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="k">if</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">total_arr</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">h</span><span class="p">)</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">h</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% (</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">t</span><span class="si">}</span><span class="s2">)"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="s2">"N/A"</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">b</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">h</span> <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">h</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.03</span><span class="p">,</span>
                <span class="n">label</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">"center"</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s2">"bottom"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedImage jp-OutputArea-output" tabindex="0">
<img alt="No description has been provided for this image" class="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAIAAAKLCAYAAABsTyqfAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjkuNCwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8ekN5oAAAACXBIWXMAABcSAAAXEgFnn9JSAACw0ElEQVR4nOzdBZxU1f/4/4OCKNiFqB9bbMVuRcTuTkzsxA7swsBAsbvFFltRbBEVFRUV7MQCRUVE4f94ne/v7P/uMLM7u2zf1/PxmMfuztyZuXMndt7v8z7v02rSpEmTgiRJkiRJyoWpGnsHJEmSJElSwzERIEmSJElSjpgIkCRJkiQpR0wESJIkSZKUIyYCJEmSJEnKERMBkiRJkiTliIkASZIkSZJyxESAJEmSJEk5YiJAkiRJkqQcMREgSZIkSVKOmAiQJEmSJClHTARIkiRJkpQjJgIkSZIkScoREwGSJEmSJOVI68beAUlqKj766KNw3333hddeey2MGjUqjB8/Psw666xh0UUXDV26dAnbb799mHbaaevt/k844YTw4IMPhi222CJcdNFFobGMGzcu9OnTJzz++ONh7NixYfHFFw+HH354WHvttYtu//nnn4fNN988dOvWLVx22WU1vr9vvvkmrL/++vH3p59+Osw///yhMXTt2jV8++23NbrOxx9/HPLkueeeC7fcckt4//33w7///hv+97//hc022yzss88+oW3btnV+fw899FC46667wieffBL/XnDBBcN2220XdtlllzDVVFWPZdx9993htNNOC3fccUdYaaWVqtx28ODBYY899oi/Dxw4MMw777xTtN8PPPBAOPHEE0OHDh3Ciy++WKPHy+fAddddV/L91hR17949vPHGGzW+3nnnnRe23Xbb0NT98ccf4Z577gmDBg0Kn332Wfjtt9/C9NNPH+aee+6w2mqrxf8NCy20UMnr8175+uuv4+u3Np9JZ599dthhhx0me61+8MEHoXVrv8pLqh0/PSQphNC3b99w1VVXhYkTJ8YvePPNN19o06ZN+Omnn8JLL70UT9dff33o169fWGqppUJLdsopp4QBAwaEGWaYISywwAIx6Nt///3D1VdfHdZdd93Jtidp0KpVq3DUUUeF5mzppZeOgVt13n333fDff//F10ee3HDDDeGCCy6IvxMo8/ogQL/00kvDU089FW6//fb43qkrZ511VrxNEGRNPfXUMfDhREKC12Op5+DLL78MvXv3DhtvvHG1SYCmZKuttgp33nlnTCI89thjYaaZZgrNQadOnWKwW4jPjn/++Sd07NgxngrNNttsoanj/X7IIYfE/wUE3SS/eP3/9ddf8fXP65Hk2GGHHRYOPPDAya7/8ssvx0B+o402Cj179myUxyBJRU2SpJy77777JnXq1GlS586dJz3xxBOT/v3330qXjxw5ctKOO+4Yt1l11VUn/fLLL/WyH6NGjYr3xc/G8umnn05abLHFJm222WaTxowZE8977rnn4mPfZpttJtv+rbfeipedccYZtb7Pr7/+Ot4Gpy+++GJSU3bllVdW7OvNN988KS9ee+21+LpYaqmlJj311FMV5/N8bbrppvF4HHPMMXV2f/fff3+8zRVXXHHSkCFDKs4fNmzYpDXXXDNedskll5S8/j777BP39csvvyzr/l5//fWK55XXY13t/9prr13j6/J4ue4pp5wyqblbb7314mPp27fvpOaIz/pVVlml4vkYPXp0pcvHjh0bX4fptcP/kkK77757vOziiy+u8f3z+uV/wu+//170tTphwoRaPjJJmjTJHgGSco+RRRx33HFxBJGRx6yFF144VgswejV69Ohw66231st+zDnnnPG++NlYhg4dSoI4bLnllhWjkeutt16skPjwww/jKFgWI8Tt2rWLI2Yt3bPPPlsx9YHXyZ577hnygkoYXhd777132HDDDSvOZxrH5ZdfHt8zVJF88cUXU3xfVFvwfsMxxxxTaUSfqo0LL7ww/s4oLFNXClGKzygsr2Fet80Nj5dy83vvvTeMGDGisXcn15heMmbMmNC5c+dwxhlnhJlnnrnS5VTAHHnkkRXTG3gv1CVev/xPoPpGkuqaiQBJucZcz6+++ir+vtxyy5Xcjl4BzIHHe++9F1oqyl8xyyyzTPb4CQSzgdczzzwTEwf77rtvsyjxnRK8Ro4//vh4DJjne84554S8oIdDmv/NXOhClO2vuuqq8dhQzj6l3nzzzXi8KfunVL7Q6quvHhMQJKWYz19smg923nnn0Fyx70xTIgGjxjNs2LD4c5lllonTn0rZcccd48/vv/8+9peRpObARICkXMs2Wnr++eer3JY5oAQ6zInHn3/+Gb8gLrbYYuGtt96abHtGNblsySWXLDpyeeihh8bL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tnWyD/Xtk08+Cdddd118HhZYYIHQXP3zzz9h7733jgmaBRdcMJx++ukVSYDkvffeC6eeemp4/vnnww477BDuv//+MP300zf4vq6//vph1VVXDWeeeWZYY401wgwzzBCaOqcGSJIkSaozs846a1h44YXDbLPNFpoTqgUY2QUj/V9//XXFiC+Ph9Ho5oCRcZQzLaAp69OnT0wCdOrUKdx3332TJQFSkuauu+4Kyy23XKwQOOOMM0JjOfDAA8PPP/8ckzDNgYkASZIkSXWm2FxxRtdXWGGFcP3118fT6quvHoM3RnEnTJgQt3niiSfCXnvtFdZaa604B7xLly7h2GOPDcOHD690O9z22LFjK0Zi+Zt+BnVh/vnnr/idoK5Yj4D090cffRT/3mOPPeLfnJ+tFrjzzjvjtIGVV145nrbffvvQv3//OH+/1Ej+4YcfHkeWCXA333zzOEWBqQvlIoHBnHnmrM8555xhSnHsjznmmFjyznPCaPehhx4a3nrrrSqv98orr8QeBTzHPJ7DDjssvP/++2Xf708//RQDfDDKXtUoP4mac889N7Rq1So88sgjMSFQ2P/g1VdfDQMGDIjPIcd23XXXjZd9+eWXk90ex47r/P333/G1zN9ch5L/Sy+9NPzxxx9F94PXNK+f22+/veQ2TYmJAEmSJEkNghJ7RnoJtGj6xih7mzZtwrXXXhuOPPLI8Oabb8bRd4Kv9u3bx8Buxx13rAg855tvvtivgOugW7du8e+66lFAMJ7MPffcRbeZffbZ433ONNNM8W+CY/7mfBBAktBgdPrjjz8OnTt3jkmQTz/9NJxyyikxuVG40gBJBZIiNB6kceFSSy0VGyKed955MRAu17333ht/brDBBmFKPfjggzF5QQDNNA+SLvPMM0945pln4rSDG2+8sej1Xn755dCjR4/www8/xICb4/j000+HnXbaKV63HIMGDQrjx4+PUwJ4nVRnkUUWiccZ9HgodMcdd8SEBs8NCaZpp5224vExvaAYGhFeccUVYY455oiP47fffgtXXXVV2HXXXcPo0aMn255EBMeIfhOpp0FTZo8ASZIkSQ2C0VrmejNaDEa7mQtOgNW6devw0EMPxaAuufjii8M111wTL6eSgNUJOBEoUklw4okn1lnJ/q+//loRdDO626FDh6LbkaigzwCjywSHlIQz6p1cdtllsc8A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SZIkSc2VFQH/T/v27ePP8ePHF72czEx2u/ow3XTTlexRIKl6lFGlSoBlllmm7ASfJCkfGNAZMWJEnBrQrl27khUBXN6cNcXSe/YpVQLwnbc5HeM0nUSq788nPpN4fyy66KLVVizRu25KqmtMBPw/c845Z/jggw/Cjz/+WPTydD7b1Rc+YAxcpLrBe8n3kySp8LtWCuiyv7c0dfG4Lr/88nDFFVfU6DqHHnpoOOyww6rdrjGO/cCBA8MjjzwSp+H++uuvoW3btrE32Kqrrhp23nnn0KlTp8muQ5B17bXXxsBs//33L/u+unfvHt54443Qr1+/uCIZTjjhhPDggw+GE088Mey1116hORg+fHjYaaedwrnnnhs233zzyS7nON51113hpZdeCl988UUYO3ZsmH766eOx5HFvt9128e+W4PL/937YY489wsknnxzPe+CBB+LzyepyV155ZUU/uU022STsu+++4aCDDqrRfWQ/m/gOW10iYErfQyYC/h9G4llCcOTIkUUvT+c7Yi9JkpQPX1yyd5g0oXi1aFPTqk3bsEDPm+rs9vjOu8UWW0wWGD/77LPx98LL0nWamgkTJoSePXuGZ555JkwzzTRhueWWCyussEL4/fffw+effx7uuOOOGMweddRRYb/99qt03csuuyzcdNNNMcGRN1RDH3nkkaFz585FkwAEwWeddVbstUF1zbLLLhtmmmmmOHhKsoVEyHXXXRcuvfTSsNJKK4W8mGOOOcLhhx8eevfuHdZYY434emuqTAT8P126dAlXX311/JAgk5nNsPABQhYxbSdJkqSWjyRAc0kE1LUNN9wwnrK++eabikTARRddFJoDRvT5fr/88svHUdtZZ521Usn/gAED4qguj2eJJZYIa6211hSvQHT++efHpAlLnDdXVDN8+eWXMZAvdOutt4ZzzjkntGnTJhxzzDGxAiLbcJ1Kgauuuiput+eee8bbylMMteuuu8YEU69evWIVSOvWTTPkzl2zQIL6Tz/9NJ74PeHDgUzWJ598El/waW4VHwC80L///vuw3nrrFS0bkiRJktT0MHKN0047rVISAAz8bbnlljFYxZ133lkn9zn33HOHhRdeuF57i9Wn7777Ltx8881h3XXXjcmRLKZSM9pN6fo111wTqygKV13jOFM+f/zxx4d///03Jlrqcwn2pqZ169ahR48eMa68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OLt06RIuvfTS2LCnEKMbrCHM/rC6RGqINCXHY6211or7VnjKrtn85JNPho022qjoPkmSJDUkEwGSWqxRo0aFnXfeObzyyisxED7uuONigEzQSsCcdckll4Rzzjknrn974oknxrVv77333ri277///luj+73rrrtiMF8Mt/3dd9+FY489Nq6Le8ABB1RKNpCQYF8ITunaWxN//PFHOPPMM8ORRx4Z2rZtG89jjV/W1yUhsv/++8fH89Zbb8V1d1k7N+uJJ56I2/75558xWcA2rJu82267hdGjR1ds9/3338fgOAXUBx10UHj//fdjgoPLkjFjxsTjf99998XAnNtknV7mzbHOcTEvv/xyDKoLDRs2LJxyyiklHzvrGB999NFxTejjjz8+rgvNusT8nvXRRx+F7t27xzmPHHsCe5IznFdY/lju8WCt4J9++ikuD3TBBRdUOrFPCUkm1ibu169fycchSZLUICap0X344YeT3nzzzfhTUu39+++/8b3Eid/79OkzqVOnTpOefPLJim1+//33SauvvvqkDTfcsOK8sWPHTlpqqaUmbbXVVvF6yTXXXBOvP2DAgLL34csvv5zUuXPneHtcN+v777+P5911113x708//XSy23/88ccnrbzyypN+++23Gj/+3r17T9poo40m/ffff/Hv8ePHT1pzzTUnrbDCCpO++eabiu1++umnSSuttNKknXbaqdIxWGWVVeIx+OuvvyrOf+GFF+I+XnnllRXnnXjiifHxffHFFxXn8Vg4j8uSc889N173pptuqrSfRx111KQll1xy0ogRIyqdP2bMmElLLLHEpFdffbXS+Q8//HA8ptwWp8Jjw77zePbaa6+Kx46+ffvG7YcMGVLpvjlv2LBhFed9/fXXk5ZZZplJ++yzT62Ox2uvvTbZ66wUrs9x4nUiqeFNnDgxft/iNGHChMbendwd+z/++COe+F1SZXwmpc+nct4jUxpDWhEgqcX66quv4s+111674rwZZpghlrIzQp7K56kcmDBhQixfn3rqqSu2XXfddStGkcsxceLEOAJNSXixUe0ffvgh/px33nkr/Uyj6P/991/o27dvnFYw44wz1uixUlXAqDgj8FNN9X8f7e+++24cqaYcf5555qnYlkqDbbbZJpbDf/rpp/E8KiQYwaeagE7BCceOEX+WEALVEZToM+I+//zzV2y3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l+GTTz6puK9sUkGSJEmSpFwnAgobedEdlL4B9dXgACzzx4j9FVdcEasQ6AtAcE8lwN577x1XFigXiYMBAwaEa665JlYZcKIKYPPNNw/777+/Hf0lSZIkSc1enSYCzjvvvNAYOnXqFPr27VvWtiQJWGqhlDnmmCP06tUrniRJkiRJamnqNBGwzTbb1OXNSZIkSZKkptwsUJIkSZIkNW0mAiRJkiRJyhETAZIkSZIk5YiJAEmSJEmScsREgCRJkiRJOWIiQJIkSZKkHDERIKnFmHrqqRt7FyRJkqQmz0SAJEmSJEk50roub+yhhx6q0cjddNNNF2afffbQqVOn0K5du7rcFdWj3U97Ivz9z3+NvRvSZGZqP024odeGjb0bkiRJUn4SASeccEJo1apVzXeideuw9dZbhxNPPNGEQDNAEmC8iQA1QX+38XUpSZIkNWgigGD+yy+/DEOHDo1/d+jQISy55JJh+umnD3/++Wf4+OOPw7fffhsvoxKA83/77bcwevTocN9994Uvvvgi3HrrrbVKJkiSJEmSpAZOBBx99NFhm222CTPMMEM488wzwyabbDLZNi+99FIc+W/btm246667wiyzzBLee++9cOyxx4Y333wz3H///WH77bevy92SJEmSJEn10Szw8ssvD7/88ku46KKLiiYBsPbaa4dLL700Vgb069cvnrfsssuGvn37hkmTJoUBAwbU5S5JkiRJkqT6SgQMGjQozDPPPGHdddetcruVVlopzD///OHZZ5+tOG+xxRYL8847b/j000/rcpckSZIkSVJ9JQKY7z/TTDOVtS39AX799ddK5zFN4Pfff6/LXZIkSZIkSfWVCJhrrrnCiBEjwpgxY6pNGLAdDQOzfvrppzDHHHPU5S5JkiRJkqT6SgQwJeCff/4Jxx9/fBg/fnzRbbj85JNPDhMmTAhrrrlmxfmvvfZa+OGHH8JCCy1Ul7skSZIkSZLqa9WAfffdNzb7e/HFF2OzQFYQWHzxxUO7du3CH3/8EZcP5PKvv/46Tg046KCD4vWuvfbacPXVV8dlA3faaae63CVJkiRJklRfiYAOHTqE66+/PhxxxBHhm2++CVdeeeVk27AyQMeOHcNll10W5p577njeI488Ev7666+wwQYbhG7dutXlLkmSJEmSpPpKBGCppZYKjz/+eLjvvvvCwIEDwyeffBJGjx4dqwI6deoUg/3tt98+tG/fvuI6G2+8cVhyySVD165d63p3JEmSJElSfSYCMM0004Rdd901nspx6KGH1sduSJIkSZKk+mwWKEmSJEmSclgR8NFHH4W33347jB07Nvz777+xL0ApVgNIkiRJktRMEwEE/SwdSI+AcpkIkCRJkiSpmSYCbr/99vDYY4/F32eaaaYw//zzh7Zt29blXUiSJEmSpKaSCHj44YdDq1atwv777x+XEJxqKlsQSJIkSZLUYhMBn3/+eZhtttnCkUceGRMCkiRJkiSpaanTIfs2bdqEOeec0ySAJEmSJEl5SAQsvvji4Ysvvgj//PNPXd6sJEmSJElqiomAPfbYI/z111/hyiuvrMublSRJkiRJTbFHwLrrrhv22WefcM0114QRI0aELl26hA4dOsQpA6WsvvrqdbkLkiRJkiSpoRIByy23XMXvzz33XDxVhV4CH374YV3ugiRJkiRJaqhEwKRJk+p1e0mSJEmS1IQSAR999FFd3pwkSZIkSWrKzQIlSZIkSVLTZiJAkiRJkqQcqfXUgOOOOy42+zv22GPD7LPPXnFeTXD9888/v7a7IEmSJEmSGioR8Mgjj8RA/sADD6xIBKTzqmsCmLYxESBJkiRJUjNJBGy99dYxkJ9hhhkmO0+SJEmSJLWwREDv3r3LOk+SJEmSJLXQZoE33XRT+Prrr+vyJiVJkiRJUlNNBDDff8MNNwxbbLFFuOyyy8L7779flzcvSZIkSZIaa2pAMd26dQuvvvpqGDFiRBg5cmS4+uqrw1xzzRXWX3/90LVr17DqqquGqaeeui7vUpIkSZIkNVYi4IorrggTJkwIQ4YMCc8991x48cUXw1dffRVuv/32cMcdd8TGguuss05MDKy77rqhXbt2dXn3kiRJkiSpIRMBaNOmTVhjjTXiCZ999ll4/vnnw6BBg8LQoUPDo48+Gh577LG43eqrrx6uueaaut4FSZIkSZLUED0CillooYXCvvvuG2677bbw8MMPhy5duoRJkyaFf/75J1YMSJIkSZKkZlwRkDVmzJgwePDg8Prrr8efn3/+eaXL55tvvvq8e0mSJEmSVJ+JgD/++CP2B0iB/yeffBJH/zlh9tlnD6uttlqcEsDUgY4dO9bl3UuSJEmSpIZMBBDk//fff/F3gv8ZZ5wxrLDCCvF8Av9OnTrV5d1JkiRJkqTGTAT8+++/8WerVq3CyiuvHLp37x5H/1ktQJIkSZIktbBEwBFHHBFeffXV8M4778QpAm+++WaYaqqpwpJLLlkxJWCllVYK00wzTV3erSRJkiRJaoxEwEEHHRRP48aNC2+88UZ4+eWXwyuvvBKGDRsWT9dff31MAnTu3DkmBTgtt9xydbkLkiRJkiSpoVcNmG666cK6664bTxg1alSsFKCBIAmCdOrbt2/48MMP62MXJEmSJElSQy8fmHTo0CEsv/zy4c8//4xLCv74448V/QQkSZIkSVILSASMHTs2vPbaaxXTA7777ruK1QSmn376sNZaa4X111+/vu5ekiRJkiTVdyJg6NChMegn+H///ffjUoIE/ph77rnDeuutF7p27RpWWWWV0KZNm7q8a0mSJEmS1NCJgF122SUuHZiCf1YLIPDv1q1bWHzxxevyriRJkiRJUmMnAhjlZ5lAgn9O9AaQJEmSJEktNBHAqgDt2rWry5uUJEmSJElNNRFQKgkwfPjw8Pnnn4dZZpkldO7cOS4vKEmSJEmSmmEiYPTo0eG2224L7733XujTp0+YaaaZKi4bNWpUOOKII8K7775bcR6XH3XUUWHHHXec0ruWJEmSJEkNmQj48MMPQ48ePWIyAD///HNFIuDvv/8O3bt3D19//XVsHkj/ACoGxowZE0477bTw+++/x+tKkiRJkqSGM1Vtrzh+/PhwyCGHhF9//TXMOuusYYcddggzzzxzxeVXX311+Oqrr+Lvm222WXj99ddjD4Hrr78+TD/99KFv377hiy++qJtHIUmSJEmS6jcRcN9994Xvv/8+zvkfMGBAOPPMM8Nss80WL6MC4N57742/c955550X2rdvH/9ea621wgknnBD++eefcP/999f27iVJkiRJUkMmAgYNGhRatWoVzj333FgRkDVs2LDwyy+/xMu33HLLMM0001S6fIsttojnvfTSS7W9e0mSJEmS1JCJgBEjRoSOHTuGhRZaaLLLmAaQrL322pNdThJg/vnnjxUFkiRJkiSpGSQC6A0w55xzFr3srbfeij9bt24dVlhhhaLbTDvttOGvv/6q7d1LkiRJkqSGTAS0bds2zvMvNHHixJgIYFrAMsssE7crhqkD2aUGJUmSJElSE04EdOjQoWJpwKy33347/PHHH/H3NdZYo+h1v/322/Ddd9/F25AkSZIkSc0gEbDaaqvFgP/ZZ5+tdH52JYBu3boVve4tt9wSKwZWXXXV2t69JEmSJElqyETADjvsEIP5448/PvTv3z989NFH4aqrrgoPPfRQPH/FFVcMiy+++GTX4/I77rgjbrPZZpvV9u4lSZIkNVMjR44MBx10UFh99dVj3NCjR4+48lhW9+7dw2KLLVblqTo0Jz/22GNjA/Pll18+7L777uHll1+ebDvum9XOWBqd+/3ss88m2+buu+8O66yzThg/fnyNH+/NN98cdtppp4q///7777DEEksUfUwHHHDAZNXUPAaqrZdeeumw/vrrh0suuaTSNG2WZ6/uWH3zzTcV23/44Ydhv/32i8eEwVmeiw8++KDk/nNMzjnnnKKXnX766WGrrbYq6zjwPJfzvO2///7h4IMPnqLnlBXqSh2LG264oWI7jnffvn1D3rSu7RU5gAceeGC48sorw2mnnVZxPlMF2rdvH84444xK219zzTWxeuD999+P22yzzTZhqaWWmrK9lyRJktSsfPHFFzEonm666cLee+8dVxRjoHCXXXaJP5dbbrm4HbHG9ttvP9n16Ud2zz33lKw+zjY35zapYt5jjz3ikucPPPBADEYvv/zysMEGG8Tt/vvvv9CzZ8/YzJwA88477wyHHHJIGDBgQGx+ngL3fv36hcMOO6xkD7RSCOQvu+yycP3111dagY3eagSxyy67bKXt55prrorff/vtt7DrrruG33//Pey2225hnnnmCUOGDAlXX311DOavu+66uB3Hk6RKIRIabMt9pGnZ77zzTthzzz3DVFNNFQN8jgtV3dwP2xbeDsdv6NCh8bgVS47cddddRQeAC7FdOcvHX3zxxeGFF16ICY/aPqf45JNP4s9TTz01TD/99JVuZ+mll674/Zhjjgnbbbdd2HTTTcMiiywS8qLWiQAcfvjh8cXIC4Z+AWCVgFNOOSUsvPDClbblCfryyy/j7xtttFE466yzpuSuJUmSJDVDBMWMqt97770VS5EThBEjMDKbRmvXXHPNya5LYMxo+Lzzzht69+5d5f0QeDN6fOutt1ZMSSbg23jjjUOfPn0qgkaCXGIZtmeUeb755quoUGDEGbfffnto165d2HbbbWv8eM8///x4O1Q+FAapDI5mg9JCxFk//PBDvP+VV145nkcgzDLu7O+LL74YqxS4/bSvCRUDO++8c2zQfuml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gCRJkiRJOWIiQJIkSZKkHDERIEmSJElSjpgIkCRJkiQpR0wESJIkSZKUIyYCJEmSJEnKERMBkiRJkiTliIkASZIkSZJyxESAJEmSJEk5YiJAkiRJkqQcMREgSZIkSVKOmAiQJEmSJClHTARIkiRJkpQjJgIkSZIkScoREwGSJEmSJOWIiQBJkiRJknLERIAkSZIkSTliIkCSJEmSpBwxESBJkiRJUo6YCJAkSZIkKUdMBEiSJEmSlCMmAiRJkiRJyhETAZIkSZIk5YiJAEmSJEmScsREgCRJkiRJOWIiQJIkSZKkHDERIEmSJElSjpgIkCRJkiQpR0wESJIkSZKUIyYCJEmSJEnKERMBkiRJkiTliIkASZIkSZJyxESAJEmSJEk5YiJAkiRJkqQcMREgSZIkSVKOmAiQJEmSJClHTARIkiRJkpQjJgIkSZIkScoREwGSJEkt2McffxwOOeSQsOqqq4all146bLLJJuGmm24KEydOrLTdpEmTwm233RYvX3bZZcNGG20Ubr755nh+Of7555/Qr1+/sOGGG1Zc/5prrgkTJkyotN2wYcPClltuGTp37hy6d+8ePvvss8lu6+677w7rrLNOGD9+fI0fL/u80047lbz89NNPD1tttVXRy0aPHh3OPPPM0LVr17DccsuF7bbbLjz66KNFt33ooYfC1ltvHR/HuuuuG84777zwxx9/1Pr4J9w3jyH58ssvwxFHHBGvv+KKK4bddtstvPHGG9U+FxxjbquY999/P+y3337x9rjdHj16hI8++miy7UaOHBkOOuigsPrqq8dt2Y7nL+u9994Lq622Wvj111+r3CdJTYuJAEmSpBbq66+/Drvsskt4++23Y9B94oknhnnmmSf07t07nHHGGZW2veSSS8LZZ58dOnXqFE466aSwxBJLxOC2T58+1d4PyYLDDz88XH755WHllVeO119sscXCxRdfHG8z+e+//0LPnj1jEHzsscfG4JEg+d9//63Y5u+//44JhUMPPTS0bdu2Ro/322+/DZdddlk47rjjil5OguGuu+4qehlJh3322Sfce++9MYlx/PHHhxlmmCEcffTRlQJzXHvttfHy2WabLd7XxhtvHO64446w1157VUp81OT4g6QIj2HttdeOf3/++edhxx13DG+++WbYe++9w2GHHRZ++umn+Ptbb71V8jj07ds3JiCK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U/ZfE/4fTeyY20TAuHHjKsr6i0nn00ywtqgmOPHEEyv6B9Rno0AezzvvvBOaoqmmmiosv/zyjb0bktTisPrNxIkTG3s31Exl/z+TBBhvIkBN1N9tfG2q+XmvBf+PbtZTA8odoa5ttoQnfs899wxjxowJ6623XjjssMNqdTuSJEmSJDUVzboioH379jFIp5t/MSwjCFYPqKknn3wynHDCCXGUnmaELENY36Xx0003Xcl+B5KklmnZZZdt7F2QJEnN7H80leupQj53iYA555wzJgJ++umnok38Um8AtquJfv36hcsvvzxWEuy+++7h5JNPjqV39a1Vq1bOw5eknPFzX5KkpmnqJvw/mtgxt1MD0uj5iBEjil4+cuTISttVh/kfVAH07ds3Bv4kAE455ZQGSQJIkiRJktQQmnWE26VLl/jz6aefnuyy0aNHh8GDB4e2bduG1Vdfvazb69WrV3jwwQdjiT5VAXvssUed77MkSZIkSY2pWScCWMpvnnnmCYMGDQp33313pd4AjOazWsCOO+4YZp111orLJkyYED799NN44vfkoYceCvfff38s/7jqqqtic0BJkiRJklqaZt0jgOUBzz///Lis32mnnRb69+8f5p133jB06NDYH2DppZcOPXv2rHSdUaNGhU033TT+PnDgwLg960Neeuml8bzZZ589JgQ4FbP22muHrbbaqgEenSRJkiRJda9ZJwKw8sorh3vvvTdcccUV4Y033oh9AQjuqQTYe++948oC5XRc/P777ysSBQMGDCi57SyzzGIiQJIkSZLUbDX7RAA6deoUG/yVgyQBgX/WkksuOdl5kiRJkiS1RM26R4AkSZIkSaoZEwGSJEmSJOWIiQBJkiRJknLERIAkSZIkSTliIkCSJEmSpBwxESBJkiRJUo6YCJAkSZIkKUdMBEiSJEmSlCMmAiRJkiRJyhETAZIkSZIk5YiJAEmSJEmScsREgCRJkiRJOWIiQJIkSZKkHDERIEmSJElSjpgIkCRJkiQpR0wESJIkSZKUIyYCJEmSJEnKERMBkiRJkiTliIkASZIkSZJyxESAJEmSJEk5YiJAkiRJkqQcMREgSZIkSVKOmAiQJEmSJClHTARIkiRJkpQjJgIkSZIkScoREwGSJEmSJOWIiQBJkiRJknLERIAkSZIkSTliIkCSJEmSpBwxESBJkiRJUo6YCJAkSZIkKUdMBEiSJEmSlCMmAiRJkiRJyhETAZIkSZIk5YiJAEmSJEmScsREgCRJkiRJOWIiQJIkSZKkHDERIEmSJElSjpgIkCRJkiQpR0wESJIkSZKUIyYCJEmSJEnKERMBkiRJkiTliIkASZIkSZJyxESAJEmSJEk5YiJAkiRJkqQcMREgSZIkSVKOmAiQJEmSJClHTARIkiRJkpQjJgIkSZIkScoREwGSJEmSJOWIiQBJkiRJknLERIAkSZIkSTliIkCSJEmSpBwxESBJkiRJUo6YCJAkSZIkKUdMBEiSJEmSlCMmAiRJkiRJyhETAZIkSZIk5YiJAEmSJEmScsREgCRJkiRJOWIiQJIkSZKkHDERIEmSJElSjpgIkCRJkiQpR0wESJIkSZKUIyYCJEmSJEnKERMBkiRJkiTliIkASZIkSZJyxESAJEmSJEk5YiJAkiRJkqQcMREgSZIkSVKOmAiQJEmSJClHTARIkiRJkpQjJgIkSZIkScoREwGSJEmSJOWIiQBJkiRJknLERIAkSZIkSTliIkCSJEmSpBwxESBJkiRJUo6YCJAkSZIkKUdMBEiSJEmSlCMmAiRJkiRJyhETAZIkSZIk5YiJAEmSJEmScqR1aAE+//zz0K9fv/DWW2+FX375Jcw111xhk002Cfvvv39o3759jW5r1KhR4corrwyvvvpq+OGHH8Lss88eunbtGg455JAw66yz1ttjkCRJkiSpITT7ioD33nsvbLvttmHAgAFhjjnmCF26dAl//fVXuPrqq8POO+8cxo4dW/ZtffXVV2G77bYLd999d5h22mnDeuutF6aeeupw++23h6233jp8//339fpYJEmSJEmqb806ETBhwoRw5JFHxsC/d+/eoX///qFv377h2WefjaP4n3zySejTp0/Zt3f88ceHn376KRx22GExscBtPfXUUzGhQKXAqaeeWq+PR5IkSZKk+tasEwGPPfZY+Pbbb8Oaa64Zttlmm4rzGc0/99xzQ7t27cJ9990Xfv/992pva8iQIeHtt98OCy20UDj44IMrzqcioFevXmHuuecOL774Yhg5cmS9PR5JkiRJkupbs04EPP/88/HnhhtuONlls8wyS1h11VVj1cDLL79c9m1169YtTDVV5cPSpk2bsP7668ffn3vuuTrae0mSJEmSGl6zTgRQ+o/FFlus6OWLLrpo/Pnxxx9P8W0tssgiZd+WJEmSJElNVbNeNYB5++jQoUPRy2keiB9//LHOboseAvVl0qRJ4b///gtNFdMkMO00//dTamqyr81Wbdo26r5IVcm+Ppvy576aB/8/qznwf7Sai1bN5H80sWNuEwHjxo2r6AlQTDqfZoINeVs1NX78+Ip9eOedd0JTRc8FnLzzAo29K1JJw4cP/79fNj6usXdFKuu1Wh//V5Qv/n9Wc+H/aDUXw5vR/+gUS+YqEUAGfOLEiXWSLUnZ9OqUc381VR+3WR+awxtBkqS88f+zJOXXxFrGks06EdC+ffswZsyYklmQv//+u1KmvLrbQnW3lbarSzQjpKkhTQrbtrVUSpIkSZJUGnErSQBiydwlAuacc86YCGDefseOHSe7PPUGYLtybuuDDz4o2U+gJrdVU8sss0yd36YkSZIkSS1u1YDU4X/EiBFFLx85cmSl7cq5rXSdKbktSZIkSZKaqmadCOjSpUv8+fTTT0922ejRo8PgwYNjqf3qq69e9m0988wzk/UUoGx/4MCBlbaTJEmSJKk5ataJgG7duoV55pknDBo0KNx9992V5vOffPLJsXnOjjvuGGadddZKQf2nn34aT/yeLL/88mHZZZcNn3zySbj00ksrkgEsGXHOOeeE77//Pqy33nqhU6dODfwoJUmSJEmqO60mTekChI1syJAhoUePHjH4X2qppcK8884bhg4dGuf0L7300uHWW2+t1ODvm2++Ceuvv378nVF+tk9IDuy2226xmmChhRYKiy66aFw64quvvorb3XXXXfXSI0CSJEmSpIbSrCsCsPLKK4d77703bLTRRuG7776L1QEzzDBDOPTQQ8Mtt9xSoy7/Cy+8cLj//vvDtttuG8aOHRuef/750KpVq7DHHnuE/v37mwSQJEmSJDV7zb4iQJIkSZIk5agiQJIkSZIklc9EgCRJkiRJOWIiQJIkSZKkHDERIEmSJElSjpgIkCRJkiQpR0wESJIkSZKUIyYCJEmSJEnKERMBkiRJkiTliIkASZIkSZJyxESAJEmSJEk5YiJAUrMxadKkxt4FSZIkqdkzESCpwfzxxx/h2muvDTvvvHNYddVVw9JLLx3WWGON0L1793DDDTeEP//8s+j1Ro4cGfbZZ5/w7bffln1f33zzTVhsscXCSiutVOl8zuP0+++/T/HjkSQpLx544IGK/6GFpxVXXDFsuumm4Zxzzgk//vjjFN/X5ZdfHm+X2yu8/4MPPniKb19SCK0bewck5cOIESPC3nvvHX766acw55xzhs6dO4dpp502/v3++++HN954I9x0003hxhtvDJ06dap03d122y2MGTOm0fZdkiT9n9lmmy0m8bPVeiT6P/nkk3DrrbeGRx55JNx5551h4YUXbtT9lFQ1EwGS6t1///0XDj300Bj09+zZMxxwwAGhVatWFZf/9ttv4cwzzwyPPvpoOPDAA8NTTz0V2rRpU+n6NdWhQ4fw+OOPh6mnnrrOHockSXlHgH/RRRdNdj7/q88777xw2223hVNPPTXccccdjbJ/ksrj1ABJ9e7tt98OX3zxRVh88cVjoJ9NAmCmmWaKXx7mmmuuWP7/wgsvTPF9kkjgy8oCCywwxbclSZKqRuKdZD//f998883wyy+/NPYuSaqCiQBJ9e7nn3+OPwsTAFnTTDNN2HfffcO2224bZphhhkrzAceOHRv/Xn/99ePfzP9H165dw5JLLhm+/vrrOH2AngNrrbVWePDBB0v2CChm4sSJ4eijj47bb7HFFpN9eXnrrbdiRQOlkNzHeuutF0c7vvvuuyk6LpIktSTt27ePyX0U9v0hyc//0nXWWSf+L11++eXDZpttFi688MJYGSipYTk1QFK9W2KJJWISYPjw4eHcc8+NUwOYY1hojz32qPT3fPPNFwPzJ598MkyYMCF069YtTDfddKFdu3aV5ib26NEjjBs3LnTp0iV88MEH8QtGuUgCnHjiiXFaAhUL9CmYddZZKy6/+eabQ+/evePvSy21VEws0O/gnnvuiVMYrrvuurDsssvW8shIktRyUNX366+/xul588wzT8X5TCXg/2Xr1q3DCiusEJMATBd85513YkPgl156Kdx///2VpgVKql8mAiTVO8rzd9111zhf8JZbbonzBwmeCarpNMwpjSBkcTmnQYMGxUQAAfu88847WSAP+gFMP/308e+pppqqomqgKiQRTjnllPDQQw/FygKSADPPPHPF5UOGDIlJgBlnnDFceeWVlaoLeBwkNQ477LCYEKDxoSRJecP/Ukb/hw0bFv9n8n/4hBNOqOjR89FHH4Xrr78+/i+9++67KzUR/PTTT8OOO+4YPv744/Dqq6+GddddtxEfiZQvJgIkNYhevXrFEf5+/frFpfsYBeDElwMCd1YR2H333WOZYE1tv/32MQkAbqtcp59+erjvvvtiBQGrFRQmIxi94AvOMcccM9kUgz333DO8/PLL4cUXXwwDBgwIO+ywQ433W5Kk5oZVfphKVwoJdpYSTFj1Z6ONNopVAIUrCfD3aqutFp599tkaLREsacqZCJDUIAjQ99prr7DLLrvEAJrMP82EWG6I0QMaCnKiRP+yyy6LPQPKxWh+TTGaTy8BRiwY7S9MAtD9mC87WH311YveBlMRSAS8/vrrJgIkSbldPpDpefTr4X86/1/5naoApgUS6HMq/B9L4P/hhx9WVPBR+Sep4ZgIkNSg2rZtG5v+cQLVAYMHD45zA59//vnw3HPPxcD8yCOPLPs2s+X85SIJwFzFf//9N1x99dXhtNNOq3Q5Ixh8sQG9Capi00BJUt6XD8R7770X9t9//9hfp2PHjnEAAP/880947LHH4lQ6pgPwf5P/v9lGwiQUJDUcEwGS6h3zA0ePHh17ARSO9DNncIMNNognKgFIAjz88MM1SgTUZDpAQoki0xXoXXDXXXeFTTbZJKyyyiqT9R4gWcBlVck2RJIkKa/o/0Mi4Pzzz4//W0kEsBJP9+7dYwKAwQCm41FpR0KB/8W33357/L8vqWGZCJBU71gWkCUE+VJAt+BSdtppp5gIYDS+vl1++eVhjjnmiEsZ9enTJ5x88snhkUceiasSpCoDuhdTvnjOOefELy+SJKlqiyyySPz5/fffx58XX3xxTAIQ/JPwL5yKR2WgpIZX82E0SaohKgFSp/2qfPbZZ/FnYROiVDZYl1Jgv88++8RlA7/66quYEEhIAjBSQWUAUxaKYcRjq622Crfeemud758kSc3R559/Hn8yNQD0/wHVAYVJgD/++CMMHTo0/u7UAKlhmQiQVO8OPvjgGHg/+eST4fjjj49rBxfiiwCj8ujRo0fRoL0+Rg0o/T/77LNj00DKE2lgmK1kwJlnnhn7GGQ9/fTTcRlEpj1Q5ihJUt6NGDEiXHvttfH3rbfeOv6cZZZZ4s+BAwdWCvZ//fXXcMQRR1RUAY4fP75R9lnKK6cGSKp3jLhTin/ssceGhx56KJbgL7XUUmHuueeOzYIoGfziiy9iUE6X4cLmfAsttFBMHhx22GHxeiznx1KEdWWZZZaJ8xdpbnTSSSfF/Zt22mnjqgAkMZiusMcee8TVCeadd97YDXn48OHxuuxLVdMdJElqSfifzf++LKrnaABIs0Cm1NFzJyXTqbyjKqB///4x2b7ooovG4J8BAJoI8jcJBKYQSmo4/197d2zjIBAEUJTrgk6IECKjCBKqogZiQiiCgISQSnyalSzZ4Z2s00nzXogcOAP+MrtCAPAnuq4rq+jLspTjA+PF/7qu8vJf13U1jmM5WvA5W/gqdvSPc4nP8yzHDsYIwSdDQIhViW3bqvu+yzxjBIHn9Xigic//j+MoDyuxt0Df99U0TVXTNB/9HwDwn8Xmf+u6vl2LcbpY+Y9jBYdhKF8DxP09RNyP0cB5nsvxgnE6UOzD07ZtiewxLhC/3/e93Ht/swEw8HNfDwM5AAAAkIbkBgAAAIkIAQAAAJCIEAAAAACJCAEAAACQiBAAAAAAiQgBAAAAkIgQAAAAAIkIAQAAAJCIEAAAAACJCAEAAACQiBAAAAAAiQgBAAAAkIgQAAAAAIkIAQAAAJCIEAAAAACJCAEAAACQiBAAAAAAiQgBAAAAUOXxDRtm8kIpy+UMAAAAAElFTkSuQmCC"/>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=4f5aed5f-f664-4a12-834e-e939d151672f">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Run simulation of job percentage change and season wins added given 2 strike approach on first pitch of job opportuntity at bats</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=ab8bceac-e67c-4d2d-a8de-8f955dcbef03">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [140]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Add "season wins added" from your regression: wins_change = 12.8665 * ΔJob%</span>
<span class="c1"># Uses the DataFrame you already created (named `out` in the last step; falls back to `team_job_compare`).</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># pick the comparison df</span>
<span class="k">if</span> <span class="s1">'out'</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">():</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">elif</span> <span class="s1">'team_job_compare'</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">():</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">team_job_compare</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NameError</span><span class="p">(</span><span class="s2">"Couldn't find the comparison DataFrame (`out` or `team_job_compare`)."</span><span class="p">)</span>

<span class="c1"># ensure JobPct columns exist (as proportions 0..1)</span>
<span class="k">if</span> <span class="s2">"JobPct"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="s2">"JobPct_new"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">if</span> <span class="p">{</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Success_new"</span><span class="p">,</span><span class="s2">"Attempts"</span><span class="p">}</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">"JobPct"</span><span class="p">]</span>     <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"Attempts"</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span>     <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s2">"Attempts"</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">"JobPct_new"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"Attempts"</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s2">"Success_new"</span><span class="p">]</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s2">"Attempts"</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">"Need JobPct/JobPct_new or (Success, Success_new, Attempts) to compute them."</span><span class="p">)</span>

<span class="c1"># regression coefficient for job_pct (wins per +1.00 = +100pp)</span>
<span class="n">JOB_COEF</span> <span class="o">=</span> <span class="mf">12.8665</span>

<span class="n">df</span><span class="p">[</span><span class="s2">"Season Wins Added"</span><span class="p">]</span> <span class="o">=</span> <span class="n">JOB_COEF</span> <span class="o">*</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"JobPct_new"</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s2">"JobPct"</span><span class="p">])</span>
<span class="n">df</span><span class="p">[</span><span class="s2">"Season Wins Added"</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"Season Wins Added"</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># (optional) sort by wins added</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">"Season Wins Added"</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>

<span class="n">df</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[140]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Team</th>
<th>Attempts</th>
<th>Success</th>
<th>Success_new</th>
<th>JobPct</th>
<th>JobPct_new</th>
<th>Delta_success</th>
<th>Season Wins Added</th>
</tr>
</thead>
<tbody>
<tr>
<th>1</th>
<td>PHI</td>
<td>476</td>
<td>283</td>
<td>296</td>
<td>0.594538</td>
<td>0.621849</td>
<td>13</td>
<td>0.35</td>
</tr>
<tr>
<th>2</th>
<td>PIT</td>
<td>443</td>
<td>243</td>
<td>254</td>
<td>0.548533</td>
<td>0.573363</td>
<td>11</td>
<td>0.32</td>
</tr>
<tr>
<th>3</th>
<td>HOU</td>
<td>409</td>
<td>210</td>
<td>219</td>
<td>0.513447</td>
<td>0.535452</td>
<td>9</td>
<td>0.28</td>
</tr>
<tr>
<th>4</th>
<td>LAA</td>
<td>378</td>
<td>189</td>
<td>196</td>
<td>0.500000</td>
<td>0.518519</td>
<td>7</td>
<td>0.24</td>
</tr>
<tr>
<th>5</th>
<td>WSH</td>
<td>466</td>
<td>258</td>
<td>266</td>
<td>0.553648</td>
<td>0.570815</td>
<td>8</td>
<td>0.22</td>
</tr>
<tr>
<th>6</th>
<td>BOS</td>
<td>523</td>
<td>265</td>
<td>273</td>
<td>0.506692</td>
<td>0.521989</td>
<td>8</td>
<td>0.20</td>
</tr>
<tr>
<th>7</th>
<td>SD</td>
<td>471</td>
<td>275</td>
<td>282</td>
<td>0.583864</td>
<td>0.598726</td>
<td>7</td>
<td>0.19</td>
</tr>
<tr>
<th>8</th>
<td>KC</td>
<td>428</td>
<td>245</td>
<td>251</td>
<td>0.572430</td>
<td>0.586449</td>
<td>6</td>
<td>0.18</td>
</tr>
<tr>
<th>9</th>
<td>CIN</td>
<td>492</td>
<td>272</td>
<td>278</td>
<td>0.552846</td>
<td>0.565041</td>
<td>6</td>
<td>0.16</td>
</tr>
<tr>
<th>10</th>
<td>SEA</td>
<td>471</td>
<td>239</td>
<td>244</td>
<td>0.507431</td>
<td>0.518047</td>
<td>5</td>
<td>0.14</td>
</tr>
<tr>
<th>11</th>
<td>CWS</td>
<td>444</td>
<td>233</td>
<td>238</td>
<td>0.524775</td>
<td>0.536036</td>
<td>5</td>
<td>0.14</td>
</tr>
<tr>
<th>12</th>
<td>ATL</td>
<td>482</td>
<td>257</td>
<td>262</td>
<td>0.533195</td>
<td>0.543568</td>
<td>5</td>
<td>0.13</td>
</tr>
<tr>
<th>13</th>
<td>ATH</td>
<td>407</td>
<td>218</td>
<td>222</td>
<td>0.535627</td>
<td>0.545455</td>
<td>4</td>
<td>0.13</td>
</tr>
<tr>
<th>14</th>
<td>BAL</td>
<td>410</td>
<td>224</td>
<td>228</td>
<td>0.546341</td>
<td>0.556098</td>
<td>4</td>
<td>0.13</td>
</tr>
<tr>
<th>15</th>
<td>CLE</td>
<td>418</td>
<td>241</td>
<td>245</td>
<td>0.576555</td>
<td>0.586124</td>
<td>4</td>
<td>0.12</td>
</tr>
<tr>
<th>16</th>
<td>COL</td>
<td>368</td>
<td>197</td>
<td>200</td>
<td>0.535326</td>
<td>0.543478</td>
<td>3</td>
<td>0.10</td>
</tr>
<tr>
<th>17</th>
<td>AZ</td>
<td>516</td>
<td>305</td>
<td>309</td>
<td>0.591085</td>
<td>0.598837</td>
<td>4</td>
<td>0.10</td>
</tr>
<tr>
<th>18</th>
<td>TB</td>
<td>491</td>
<td>279</td>
<td>282</td>
<td>0.568228</td>
<td>0.574338</td>
<td>3</td>
<td>0.08</td>
</tr>
<tr>
<th>19</th>
<td>TEX</td>
<td>394</td>
<td>204</td>
<td>206</td>
<td>0.517766</td>
<td>0.522843</td>
<td>2</td>
<td>0.07</td>
</tr>
<tr>
<th>20</th>
<td>LAD</td>
<td>444</td>
<td>250</td>
<td>252</td>
<td>0.563063</td>
<td>0.567568</td>
<td>2</td>
<td>0.06</td>
</tr>
<tr>
<th>21</th>
<td>TOR</td>
<td>488</td>
<td>297</td>
<td>299</td>
<td>0.608607</td>
<td>0.612705</td>
<td>2</td>
<td>0.05</td>
</tr>
<tr>
<th>22</th>
<td>CHC</td>
<td>491</td>
<td>279</td>
<td>279</td>
<td>0.568228</td>
<td>0.568228</td>
<td>0</td>
<td>0.00</td>
</tr>
<tr>
<th>23</th>
<td>MIL</td>
<td>496</td>
<td>291</td>
<td>290</td>
<td>0.586694</td>
<td>0.584677</td>
<td>-1</td>
<td>-0.03</td>
</tr>
<tr>
<th>24</th>
<td>MIN</td>
<td>426</td>
<td>212</td>
<td>211</td>
<td>0.497653</td>
<td>0.495305</td>
<td>-1</td>
<td>-0.03</td>
</tr>
<tr>
<th>25</th>
<td>NYM</td>
<td>422</td>
<td>242</td>
<td>240</td>
<td>0.573460</td>
<td>0.568720</td>
<td>-2</td>
<td>-0.06</td>
</tr>
<tr>
<th>26</th>
<td>SF</td>
<td>460</td>
<td>262</td>
<td>259</td>
<td>0.569565</td>
<td>0.563043</td>
<td>-3</td>
<td>-0.08</td>
</tr>
<tr>
<th>27</th>
<td>MIA</td>
<td>484</td>
<td>279</td>
<td>274</td>
<td>0.576446</td>
<td>0.566116</td>
<td>-5</td>
<td>-0.13</td>
</tr>
<tr>
<th>28</th>
<td>STL</td>
<td>488</td>
<td>258</td>
<td>253</td>
<td>0.528689</td>
<td>0.518443</td>
<td>-5</td>
<td>-0.13</td>
</tr>
<tr>
<th>29</th>
<td>DET</td>
<td>427</td>
<td>217</td>
<td>211</td>
<td>0.508197</td>
<td>0.494145</td>
<td>-6</td>
<td>-0.18</td>
</tr>
<tr>
<th>30</th>
<td>NYY</td>
<td>490</td>
<td>283</td>
<td>274</td>
<td>0.577551</td>
<td>0.559184</td>
<td>-9</td>
<td>-0.24</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=cb74d296-e1bf-4031-a965-1cbd10fa0d96">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Get stats of batted balls in 2 strike counts</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=018a8796-ec2b-4155-9b10-e593c5003db5">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [141]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">"display.width"</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>       <span class="c1"># widen display</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">"display.max_columns"</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># show all columns</span>

<span class="c1"># --- 1. Filter for balls hit in play ---</span>
<span class="n">in_play</span> <span class="o">=</span> <span class="n">two_strikes</span><span class="p">[</span><span class="n">two_strikes</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"hit_into_play"</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># --- 2. Basic stats ---</span>
<span class="n">PA</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">in_play</span><span class="p">)</span>
<span class="n">AB</span> <span class="o">=</span> <span class="n">PA</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">in_play</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">"single"</span><span class="p">,</span> <span class="s2">"double"</span><span class="p">,</span> <span class="s2">"triple"</span><span class="p">,</span> <span class="s2">"home_run"</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">BB</span> <span class="o">=</span> <span class="n">in_play</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"walk"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">HBP</span> <span class="o">=</span> <span class="n">in_play</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"hit_by_pitch"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">SF</span> <span class="o">=</span> <span class="n">in_play</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">"sac_fly"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">TB</span> <span class="o">=</span> <span class="n">in_play</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span>
    <span class="s2">"single"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"double"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">"triple"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">"home_run"</span><span class="p">:</span> <span class="mi">4</span>
<span class="p">})</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># --- 3. Rate stats ---</span>
<span class="n">OBP</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span> <span class="o">+</span> <span class="n">BB</span> <span class="o">+</span> <span class="n">HBP</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">AB</span> <span class="o">+</span> <span class="n">BB</span> <span class="o">+</span> <span class="n">HBP</span> <span class="o">+</span> <span class="n">SF</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">AB</span> <span class="o">+</span> <span class="n">BB</span> <span class="o">+</span> <span class="n">HBP</span> <span class="o">+</span> <span class="n">SF</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">SLG</span> <span class="o">=</span> <span class="n">TB</span> <span class="o">/</span> <span class="n">AB</span> <span class="k">if</span> <span class="n">AB</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">OPS</span> <span class="o">=</span> <span class="n">OBP</span> <span class="o">+</span> <span class="n">SLG</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">notna</span><span class="p">(</span><span class="n">OBP</span><span class="p">)</span> <span class="ow">and</span> <span class="n">pd</span><span class="o">.</span><span class="n">notna</span><span class="p">(</span><span class="n">SLG</span><span class="p">)</span> <span class="k">else</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="c1"># --- 4. Output nicely ---</span>
<span class="n">summary</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([{</span>
    <span class="s2">"Spec"</span><span class="p">:</span> <span class="s2">"Balls hit into play(2 Strikes)"</span><span class="p">,</span>
    <span class="s2">"AB"</span><span class="p">:</span> <span class="n">AB</span><span class="p">,</span>
    <span class="s2">"OBP"</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">OBP</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="s2">"SLG"</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">SLG</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="s2">"OPS"</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">OPS</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">}])</span>


<span class="n">summary</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[141]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Spec</th>
<th>AB</th>
<th>OBP</th>
<th>SLG</th>
<th>OPS</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Balls hit into play(2 Strikes)</td>
<td>5392</td>
<td>0.308</td>
<td>0.514</td>
<td>0.823</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=e93dfd5b-3de6-4dd4-8037-b6e7250a14d1">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Read in playoff data set</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=ce830c13-1236-4db6-a2aa-131898b28359">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [142]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">playoffs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"playoffs.csv"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=1d5bc6b6-4984-4f16-ab62-0bb02aa325d7">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Sort playoff data set</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=57b8d252-a6dd-4e1a-b1be-2c5227913741">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [143]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Make a copy (optional but safe)</span>
<span class="n">playoffs_sorted</span> <span class="o">=</span> <span class="n">playoffs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># 1) Convert columns to proper types for sorting</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"game_date"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"game_date"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"at_bat_number"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>

<span class="c1"># 2) Sort properly:</span>
<span class="c1">#    Earliest date → game → at-bat order</span>
<span class="n">playoffs_sorted</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_date"</span><span class="p">,</span> <span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"at_bat_number"</span><span class="p">],</span>
    <span class="n">ascending</span><span class="o">=</span><span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">"mergesort"</span>  <span class="c1"># stable sort = preserves correct internal order</span>
<span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">playoffs_sorted</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[143]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>pitch_type</th>
<th>game_date</th>
<th>release_speed</th>
<th>release_pos_x</th>
<th>release_pos_z</th>
<th>player_name</th>
<th>batter</th>
<th>pitcher</th>
<th>events</th>
<th>description</th>
<th>...</th>
<th>batter_days_until_next_game</th>
<th>api_break_z_with_gravity</th>
<th>api_break_x_arm</th>
<th>api_break_x_batter_in</th>
<th>arm_angle</th>
<th>attack_angle</th>
<th>attack_direction</th>
<th>swing_path_tilt</th>
<th>intercept_ball_minus_batter_pos_x_inches</th>
<th>intercept_ball_minus_batter_pos_y_inches</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>FF</td>
<td>2022-10-07</td>
<td>94.5</td>
<td>-3.14</td>
<td>5.66</td>
<td>Profar, Jurickson</td>
<td>595777</td>
<td>453286</td>
<td>single</td>
<td>hit_into_play</td>
<td>...</td>
<td>1.0</td>
<td>1.15</td>
<td>1.23</td>
<td>-1.23</td>
<td>29.3</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>1</th>
<td>FC</td>
<td>2022-10-07</td>
<td>89.2</td>
<td>-3.15</td>
<td>5.39</td>
<td>Soto, Juan</td>
<td>665742</td>
<td>453286</td>
<td>strikeout</td>
<td>swinging_strike</td>
<td>...</td>
<td>1.0</td>
<td>2.11</td>
<td>-0.12</td>
<td>0.12</td>
<td>24.3</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>2</th>
<td>SL</td>
<td>2022-10-07</td>
<td>85.4</td>
<td>-3.19</td>
<td>5.48</td>
<td>Machado, Manny</td>
<td>592518</td>
<td>453286</td>
<td>field_out</td>
<td>hit_into_play</td>
<td>...</td>
<td>1.0</td>
<td>2.92</td>
<td>-0.55</td>
<td>-0.55</td>
<td>26.6</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>3</th>
<td>FF</td>
<td>2022-10-07</td>
<td>95.4</td>
<td>-3.03</td>
<td>5.63</td>
<td>Bell, Josh</td>
<td>605137</td>
<td>453286</td>
<td>home_run</td>
<td>hit_into_play</td>
<td>...</td>
<td>1.0</td>
<td>1.18</td>
<td>0.74</td>
<td>-0.74</td>
<td>33.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>4</th>
<td>CH</td>
<td>2022-10-07</td>
<td>84.9</td>
<td>-3.28</td>
<td>5.42</td>
<td>Cronenworth, Jake</td>
<td>630105</td>
<td>453286</td>
<td>strikeout</td>
<td>swinging_strike</td>
<td>...</td>
<td>1.0</td>
<td>2.74</td>
<td>1.20</td>
<td>-1.20</td>
<td>27.6</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>9292</th>
<td>CU</td>
<td>2024-10-30</td>
<td>75.5</td>
<td>-1.14</td>
<td>6.05</td>
<td>Edman, Tommy</td>
<td>669242</td>
<td>643410</td>
<td>strikeout</td>
<td>swinging_strike</td>
<td>...</td>
<td>NaN</td>
<td>5.52</td>
<td>-0.60</td>
<td>0.60</td>
<td>54.4</td>
<td>23.232530</td>
<td>-38.572875</td>
<td>31.194750</td>
<td>31.515521</td>
<td>57.721184</td>
</tr>
<tr>
<th>9293</th>
<td>ST</td>
<td>2024-10-30</td>
<td>79.4</td>
<td>-1.48</td>
<td>5.81</td>
<td>Smith, Will</td>
<td>669257</td>
<td>643410</td>
<td>field_out</td>
<td>hit_into_play</td>
<td>...</td>
<td>NaN</td>
<td>4.20</td>
<td>-0.91</td>
<td>-0.91</td>
<td>45.7</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>9294</th>
<td>KC</td>
<td>2024-10-30</td>
<td>77.6</td>
<td>-1.08</td>
<td>5.75</td>
<td>Volpe, Anthony</td>
<td>683011</td>
<td>621111</td>
<td>field_out</td>
<td>hit_into_play</td>
<td>...</td>
<td>NaN</td>
<td>5.33</td>
<td>-1.08</td>
<td>-1.08</td>
<td>53.9</td>
<td>16.663536</td>
<td>-14.289227</td>
<td>22.537581</td>
<td>37.696324</td>
<td>36.717750</td>
</tr>
<tr>
<th>9295</th>
<td>KC</td>
<td>2024-10-30</td>
<td>77.4</td>
<td>-1.23</td>
<td>5.78</td>
<td>Wells, Austin</td>
<td>669224</td>
<td>621111</td>
<td>strikeout</td>
<td>swinging_strike</td>
<td>...</td>
<td>NaN</td>
<td>5.20</td>
<td>-1.08</td>
<td>1.08</td>
<td>50.0</td>
<td>22.643800</td>
<td>-12.035832</td>
<td>32.683497</td>
<td>40.578398</td>
<td>40.302028</td>
</tr>
<tr>
<th>9296</th>
<td>KC</td>
<td>2024-10-30</td>
<td>77.5</td>
<td>-1.11</td>
<td>5.65</td>
<td>Verdugo, Alex</td>
<td>657077</td>
<td>621111</td>
<td>strikeout</td>
<td>swinging_strike_blocked</td>
<td>...</td>
<td>NaN</td>
<td>5.23</td>
<td>-1.08</td>
<td>1.08</td>
<td>53.2</td>
<td>25.834292</td>
<td>-25.475081</td>
<td>32.831211</td>
<td>34.481443</td>
<td>57.315365</td>
</tr>
</tbody>
</table>
<p>9297 rows × 118 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=b407020f-d7e8-4194-bd17-426d3209bc4d">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Add job opportunity column</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=89411a62-86fc-4a0b-9593-c4bb149607d7">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [144]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Make a copy to be safe (optional)</span>
<span class="n">playoffs_sorted</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Convert outs column just to be sure it's numeric</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>

<span class="c1"># Create boolean flags for base states</span>
<span class="n">runner_on_3rd</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"on_3b"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span>
<span class="n">runner_on_2nd</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"on_2b"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span>

<span class="c1"># Apply the job opportunity definition</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"job_opportunity"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">((</span><span class="n">runner_on_3rd</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])))</span>
    <span class="o">|</span>
    <span class="p">((</span><span class="n">runner_on_2nd</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=680a0410-031e-4d85-a6e6-c4e2b366b377">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Add success/fail column</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=a37310c6-c4a0-4717-93ee-76547365f070">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [145]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># Work on a copy (optional)</span>
<span class="n">playoffs_sorted</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Ensure needed types</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"game_date"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"game_date"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"at_bat_number"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>

<span class="c1"># Helper flags for job eligibility (your official spec)</span>
<span class="n">r3_job</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"on_3b"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">r2_job</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"on_2b"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="o">~</span><span class="n">r3_job</span><span class="p">)</span>  <span class="c1"># 3B takes precedence</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"job_opportunity"</span><span class="p">]</span> <span class="o">=</span> <span class="n">r3_job</span> <span class="o">|</span> <span class="n">r2_job</span>  <span class="c1"># in case it's not already present</span>

<span class="c1"># We need the "next AB in the same half-inning" to infer outs after this AB.</span>
<span class="c1"># Same half-inning grouping key:</span>
<span class="n">grp_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"inning"</span><span class="p">,</span> <span class="s2">"inning_topbot"</span><span class="p">]</span>

<span class="c1"># Next-row fields within same half-inning</span>
<span class="n">playoffs_sorted</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_date"</span><span class="p">,</span> <span class="s2">"game_pk"</span><span class="p">,</span> <span class="s2">"at_bat_number"</span><span class="p">],</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">"mergesort"</span>
<span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Compute next AB context within same half-inning (shift -1 per group)</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">,</span> <span class="s2">"on_2b"</span><span class="p">,</span> <span class="s2">"on_3b"</span><span class="p">]:</span>
    <span class="n">playoffs_sorted</span><span class="p">[</span><span class="sa">f</span><span class="s2">"next_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">playoffs_sorted</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">grp_keys</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">)</span>

<span class="c1"># If there is no next AB in this half-inning, the inning ended -&gt; outs_after = 3</span>
<span class="n">same_half_has_next</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">grp_keys</span><span class="p">)[</span><span class="s2">"at_bat_number"</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span>

<span class="n">outs_before</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"outs_when_up"</span><span class="p">]</span>
<span class="n">outs_after</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
    <span class="n">same_half_has_next</span><span class="p">,</span>
    <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"next_outs_when_up"</span><span class="p">],</span>
    <span class="mi">3</span>  <span class="c1"># inning ended; outs after must be 3</span>
<span class="p">)</span>

<span class="c1"># Outs recorded on this AB (floor at 0)</span>
<span class="n">outs_recorded</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">((</span><span class="n">outs_after</span> <span class="o">-</span> <span class="n">outs_before</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"outs_recorded"</span><span class="p">]</span> <span class="o">=</span> <span class="n">outs_recorded</span>

<span class="c1"># Runs scored by the batting team on this AB</span>
<span class="c1"># (Statcast convention: use batting team score deltas on the row)</span>
<span class="n">runs_scored</span> <span class="o">=</span> <span class="p">(</span><span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"post_bat_score"</span><span class="p">]</span> <span class="o">-</span> <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"bat_score"</span><span class="p">])</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"runs_scored_bat"</span><span class="p">]</span> <span class="o">=</span> <span class="n">runs_scored</span>

<span class="c1"># Did runner from 3rd score?  -&gt; proxy: any run for batting team on this AB</span>
<span class="n">r3_success</span> <span class="o">=</span> <span class="n">runs_scored</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Did runner from 2nd reach 3rd (or score) with &lt;=1 out after?</span>
<span class="c1"># We detect "runner reached 3rd" via next on_3b at start of the next AB in SAME half-inning,</span>
<span class="c1"># and we treat scoring as success (cannot track individual runner IDs with given columns).</span>
<span class="n">runner_on_3rd_after</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">same_half_has_next</span> <span class="o">&amp;</span> <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"next_on_3b"</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># Success condition for R2 job:</span>
<span class="c1">#   - (reached 3rd AFTER) OR (scored)</span>
<span class="c1">#   - AND outs_after &lt;= 1 (i.e., still 0 or 1 out after the AB)</span>
<span class="n">r2_success</span> <span class="o">=</span> <span class="p">(</span><span class="n">runner_on_3rd_after</span> <span class="o">|</span> <span class="n">runs_scored</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">outs_after</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Fail / Neutral logic per your rules:</span>

<span class="c1"># Runner on 3rd jobs:</span>
<span class="c1">#   Success: runs_scored &gt; 0</span>
<span class="c1">#   Fail:    outs_recorded &gt; 0 AND runs_scored == 0</span>
<span class="c1">#   Neutral: outs_recorded == 0 AND runs_scored == 0</span>
<span class="n">r3_fail</span>    <span class="o">=</span> <span class="n">outs_recorded</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">runs_scored</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">r3_neutral</span> <span class="o">=</span> <span class="n">outs_recorded</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">runs_scored</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Runner on 2nd jobs (0 outs only by spec):</span>
<span class="c1">#   Success: (to 3rd OR scored) AND outs_after &lt;= 1</span>
<span class="c1">#   Fail:    outs_recorded &gt; 0 AND NOT success</span>
<span class="c1">#   Neutral: outs_recorded == 0 AND NOT success</span>
<span class="n">r2_fail</span>    <span class="o">=</span> <span class="n">outs_recorded</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="o">~</span><span class="n">r2_success</span><span class="p">)</span>
<span class="n">r2_neutral</span> <span class="o">=</span> <span class="n">outs_recorded</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="o">~</span><span class="n">r2_success</span><span class="p">)</span>

<span class="c1"># Initialize job_result as NA</span>
<span class="n">job_result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">NA</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">playoffs_sorted</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">"string"</span><span class="p">)</span>

<span class="c1"># Assign 3B jobs first (precedence)</span>
<span class="n">job_result</span> <span class="o">=</span> <span class="n">job_result</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">r3_job</span> <span class="o">&amp;</span> <span class="n">r3_success</span><span class="p">,</span> <span class="s2">"Success"</span><span class="p">)</span>
<span class="n">job_result</span> <span class="o">=</span> <span class="n">job_result</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">r3_job</span> <span class="o">&amp;</span> <span class="n">r3_fail</span><span class="p">,</span>    <span class="s2">"Fail"</span><span class="p">)</span>
<span class="n">job_result</span> <span class="o">=</span> <span class="n">job_result</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">r3_job</span> <span class="o">&amp;</span> <span class="n">r3_neutral</span><span class="p">,</span> <span class="s2">"Neutral"</span><span class="p">)</span>

<span class="c1"># Assign 2B jobs where 3B job is not active</span>
<span class="n">job_result</span> <span class="o">=</span> <span class="n">job_result</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">r2_job</span> <span class="o">&amp;</span> <span class="n">r2_success</span><span class="p">,</span> <span class="s2">"Success"</span><span class="p">)</span>
<span class="n">job_result</span> <span class="o">=</span> <span class="n">job_result</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">r2_job</span> <span class="o">&amp;</span> <span class="n">r2_fail</span><span class="p">,</span>    <span class="s2">"Fail"</span><span class="p">)</span>
<span class="n">job_result</span> <span class="o">=</span> <span class="n">job_result</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">r2_job</span> <span class="o">&amp;</span> <span class="n">r2_neutral</span><span class="p">,</span> <span class="s2">"Neutral"</span><span class="p">)</span>

<span class="c1"># Leave non-job rows as &lt;NA&gt; (or set to "Non-Job" if you prefer)</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_result</span>

<span class="c1"># Optional sanity checks:</span>
<span class="c1"># 1) Ensure all job_opportunity rows received a label</span>
<span class="c1"># print(playoffs_sorted.loc[playoffs_sorted["job_opportunity"] &amp; playoffs_sorted["job_result"].isna(),</span>
<span class="c1">#                           ["game_pk","inning","inning_topbot","at_bat_number","outs_when_up",</span>
<span class="c1">#                            "bat_score","post_bat_score"]].head())</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=96c490b3-b75d-4add-8045-e374c78f31e2">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Add batting team column</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=cabd9d4d-da21-4a22-8a65-a2169e5ef1f0">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [146]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">playoffs_sorted</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Standardize the inning_topbot column just in case</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># Create batting_team</span>
<span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"batting_team"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
    <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"inning_topbot"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"top"</span><span class="p">),</span>
    <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"away_team"</span><span class="p">],</span>
    <span class="n">playoffs_sorted</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell" id="cell-id=645a9739-4836-427d-a824-a80bf33c9ba6">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Run game level regression on the effect of job opportunity for playoff games</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=e281e7c2-1300-4360-92d9-d62a9587a8c8">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [147]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">playoffs_sorted</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">"at_bat_number"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">"coerce"</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"game_date"</span><span class="p">,</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"at_bat_number"</span><span class="p">],</span> <span class="n">kind</span><span class="o">=</span><span class="s2">"mergesort"</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># ---------- 1) Final score per game ----------</span>
<span class="c1"># Take the last AB in each game to read final score</span>
<span class="n">final_scores</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
      <span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">1</span><span class="p">)[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">,</span><span class="s2">"post_home_score"</span><span class="p">,</span><span class="s2">"post_away_score"</span><span class="p">]]</span>
      <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"post_home_score"</span><span class="p">:</span><span class="s2">"final_home"</span><span class="p">,</span><span class="s2">"post_away_score"</span><span class="p">:</span><span class="s2">"final_away"</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># ---------- 2) Game-level JOB% per team (job opps only; ignore Neutral) ----------</span>
<span class="n">job_rows</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s2">"job_opportunity"</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"job_result"</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">]))]</span>

<span class="n">job_game</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">job_rows</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">])[</span><span class="s2">"job_result"</span><span class="p">]</span>
            <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
            <span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)[[</span><span class="s2">"Success"</span><span class="p">,</span><span class="s2">"Fail"</span><span class="p">]]</span>
            <span class="o">.</span><span class="n">assign</span><span class="p">(</span>
                <span class="n">opps</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span> <span class="o">+</span> <span class="n">d</span><span class="p">[</span><span class="s2">"Fail"</span><span class="p">],</span>
                <span class="n">job_pct</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">"opps"</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">d</span><span class="p">[</span><span class="s2">"Success"</span><span class="p">]</span><span class="o">/</span><span class="n">d</span><span class="p">[</span><span class="s2">"opps"</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># ---------- 3) OBP_game &amp; SLG_game from ALL ABs for that batting team in that game ----------</span>
<span class="c1"># Derive components from Statcast 'events'</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">ev</span> <span class="o">=</span> <span class="n">events</span><span class="p">[</span><span class="s2">"events"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="n">hit_events</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"single"</span><span class="p">,</span><span class="s2">"double"</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">}</span>
<span class="n">bb_events</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">"walk"</span><span class="p">,</span><span class="s2">"intent_walk"</span><span class="p">}</span>
<span class="n">hbp_events</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"hit_by_pitch"</span><span class="p">}</span>
<span class="n">sf_events</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">"sac_fly"</span><span class="p">,</span><span class="s2">"sac_fly_double_play"</span><span class="p">}</span>
<span class="n">sh_events</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">"sac_bunt"</span><span class="p">,</span><span class="s2">"sac_bunt_double_play"</span><span class="p">}</span>
<span class="n">no_ab_events</span> <span class="o">=</span> <span class="n">bb_events</span> <span class="o">|</span> <span class="n">hbp_events</span> <span class="o">|</span> <span class="n">sf_events</span> <span class="o">|</span> <span class="n">sh_events</span> <span class="o">|</span> <span class="p">{</span><span class="s2">"catcher_interference"</span><span class="p">,</span><span class="s2">"catcher_interf"</span><span class="p">}</span>

<span class="n">events</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span>   <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">hit_events</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">events</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">bb_events</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">events</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">hbp_events</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">events</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">sf_events</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">events</span><span class="p">[</span><span class="s2">"SH"</span><span class="p">]</span>  <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">sh_events</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># AB credited for most outs/balls in play that are not in no-AB set</span>
<span class="n">events</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span>  <span class="o">=</span> <span class="p">(</span><span class="o">~</span><span class="n">ev</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">no_ab_events</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># Total bases</span>
<span class="n">tb_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"single"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">"double"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">"triple"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"home_run"</span><span class="p">:</span><span class="mi">4</span><span class="p">}</span>
<span class="n">events</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span> <span class="o">=</span> <span class="n">ev</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">tb_map</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># Aggregate by team-game</span>
<span class="n">bat_game</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">events</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
          <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">H</span><span class="o">=</span><span class="p">(</span><span class="s2">"H"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">BB</span><span class="o">=</span><span class="p">(</span><span class="s2">"BB"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">HBP</span><span class="o">=</span><span class="p">(</span><span class="s2">"HBP"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">AB</span><span class="o">=</span><span class="p">(</span><span class="s2">"AB"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">SF</span><span class="o">=</span><span class="p">(</span><span class="s2">"SF"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">),</span> <span class="n">TB</span><span class="o">=</span><span class="p">(</span><span class="s2">"TB"</span><span class="p">,</span><span class="s2">"sum"</span><span class="p">))</span>
<span class="p">)</span>

<span class="c1"># OBP = (H + BB + HBP) / (AB + BB + HBP + SF)</span>
<span class="c1"># SLG = TB / AB</span>
<span class="n">bat_game</span><span class="p">[</span><span class="s2">"PA_for_OBP"</span><span class="p">]</span> <span class="o">=</span> <span class="n">bat_game</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">bat_game</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">bat_game</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">]</span> <span class="o">+</span> <span class="n">bat_game</span><span class="p">[</span><span class="s2">"SF"</span><span class="p">]</span>
<span class="n">bat_game</span><span class="p">[</span><span class="s2">"OBP_game"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">bat_game</span><span class="p">[</span><span class="s2">"PA_for_OBP"</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span>
                                <span class="p">(</span><span class="n">bat_game</span><span class="p">[</span><span class="s2">"H"</span><span class="p">]</span> <span class="o">+</span> <span class="n">bat_game</span><span class="p">[</span><span class="s2">"BB"</span><span class="p">]</span> <span class="o">+</span> <span class="n">bat_game</span><span class="p">[</span><span class="s2">"HBP"</span><span class="p">])</span> <span class="o">/</span> <span class="n">bat_game</span><span class="p">[</span><span class="s2">"PA_for_OBP"</span><span class="p">],</span>
                                <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="n">bat_game</span><span class="p">[</span><span class="s2">"SLG_game"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">bat_game</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">bat_game</span><span class="p">[</span><span class="s2">"TB"</span><span class="p">]</span> <span class="o">/</span> <span class="n">bat_game</span><span class="p">[</span><span class="s2">"AB"</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>

<span class="c1"># ---------- 4) Merge scores &amp; compute is_home, runs_allowed, win ----------</span>
<span class="c1"># First, attach home/away labels for each team-game</span>
<span class="n">teams</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">]]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

<span class="n">game_team</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">bat_game</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">teams</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">"game_pk"</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>
            <span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">final_scores</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"home_team"</span><span class="p">,</span><span class="s2">"away_team"</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">game_team</span><span class="p">[</span><span class="s2">"is_home"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">game_team</span><span class="p">[</span><span class="s2">"batting_team"</span><span class="p">]</span> <span class="o">==</span> <span class="n">game_team</span><span class="p">[</span><span class="s2">"home_team"</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># runs_allowed is opponent's final runs</span>
<span class="n">game_team</span><span class="p">[</span><span class="s2">"runs_allowed"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">game_team</span><span class="p">[</span><span class="s2">"is_home"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">,</span> <span class="n">game_team</span><span class="p">[</span><span class="s2">"final_away"</span><span class="p">],</span> <span class="n">game_team</span><span class="p">[</span><span class="s2">"final_home"</span><span class="p">])</span>

<span class="c1"># team final runs (for win flag)</span>
<span class="n">game_team</span><span class="p">[</span><span class="s2">"runs_scored"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">game_team</span><span class="p">[</span><span class="s2">"is_home"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">,</span> <span class="n">game_team</span><span class="p">[</span><span class="s2">"final_home"</span><span class="p">],</span> <span class="n">game_team</span><span class="p">[</span><span class="s2">"final_away"</span><span class="p">])</span>
<span class="n">game_team</span><span class="p">[</span><span class="s2">"win"</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">game_team</span><span class="p">[</span><span class="s2">"runs_scored"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">game_team</span><span class="p">[</span><span class="s2">"runs_allowed"</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># ---------- 5) Add game Job% (merge) ----------</span>
<span class="n">game_team</span> <span class="o">=</span> <span class="n">game_team</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">job_game</span><span class="p">[[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">,</span><span class="s2">"job_pct"</span><span class="p">]],</span>
                            <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"game_pk"</span><span class="p">,</span><span class="s2">"batting_team"</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>

<span class="c1"># Optional: drop games with no job opps (job_pct NaN) or keep them as missing</span>
<span class="c1"># Common approach: drop rows with any NaNs needed for regression</span>
<span class="n">reg_df</span> <span class="o">=</span> <span class="n">game_team</span><span class="p">[[</span><span class="s2">"win"</span><span class="p">,</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"SLG_game"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">,</span><span class="s2">"is_home"</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># ---------- 6) Run OLS ----------</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sm</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">reg_df</span><span class="p">[[</span><span class="s2">"job_pct"</span><span class="p">,</span><span class="s2">"OBP_game"</span><span class="p">,</span><span class="s2">"SLG_game"</span><span class="p">,</span><span class="s2">"runs_allowed"</span><span class="p">,</span><span class="s2">"is_home"</span><span class="p">]]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">reg_df</span><span class="p">[</span><span class="s2">"win"</span><span class="p">]</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                    win   R-squared:                       0.594
Model:                            OLS   Adj. R-squared:                  0.584
Method:                 Least Squares   F-statistic:                     57.91
Date:                Thu, 16 Oct 2025   Prob (F-statistic):           6.30e-37
Time:                        14:32:20   Log-Likelihood:                -55.901
No. Observations:                 204   AIC:                             123.8
Df Residuals:                     198   BIC:                             143.7
Df Model:                           5                                         
Covariance Type:            nonrobust                                         
================================================================================
                   coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------
const           -0.0245      0.108     -0.226      0.821      -0.238       0.189
job_pct          0.1678      0.069      2.446      0.015       0.032       0.303
OBP_game         1.7684      0.434      4.077      0.000       0.913       2.624
SLG_game         0.8922      0.193      4.633      0.000       0.512       1.272
runs_allowed    -0.1022      0.008    -12.544      0.000      -0.118      -0.086
is_home         -0.0416      0.046     -0.897      0.371      -0.133       0.050
==============================================================================
Omnibus:                       16.298   Durbin-Watson:                   2.538
Prob(Omnibus):                  0.000   Jarque-Bera (JB):                6.434
Skew:                           0.143   Prob(JB):                       0.0401
Kurtosis:                       2.178   Cond. No.                         101.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre>
</div>
</div>
</div>
</div>
</div>
</main>
</body>
</html>
